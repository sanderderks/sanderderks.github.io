var jN=Object.defineProperty;var HN=(t,e,n)=>e in t?jN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var os=(t,e,n)=>(HN(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function mp(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const mt={},cl=[],ai=()=>{},WN=()=>!1,bd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Hy=t=>t.startsWith("onUpdate:"),zt=Object.assign,Wy=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},qN=Object.prototype.hasOwnProperty,kt=(t,e)=>qN.call(t,e),$e=Array.isArray,dl=t=>eu(t)==="[object Map]",wa=t=>eu(t)==="[object Set]",Iw=t=>eu(t)==="[object Date]",zN=t=>eu(t)==="[object RegExp]",Ze=t=>typeof t=="function",Jt=t=>typeof t=="string",ki=t=>typeof t=="symbol",jt=t=>t!==null&&typeof t=="object",qy=t=>(jt(t)||Ze(t))&&Ze(t.then)&&Ze(t.catch),XS=Object.prototype.toString,eu=t=>XS.call(t),KN=t=>eu(t).slice(8,-1),gp=t=>eu(t)==="[object Object]",zy=t=>Jt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,hl=mp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),vp=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},YN=/-(\w)/g,vr=vp(t=>t.replace(YN,(e,n)=>n?n.toUpperCase():"")),GN=/\B([A-Z])/g,Lr=vp(t=>t.replace(GN,"-$1").toLowerCase()),yp=vp(t=>t.charAt(0).toUpperCase()+t.slice(1)),Hh=vp(t=>t?`on${yp(t)}`:""),Cr=(t,e)=>!Object.is(t,e),fl=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},JS=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},uf=t=>{const e=parseFloat(t);return isNaN(e)?t:e},cf=t=>{const e=Jt(t)?Number(t):NaN;return isNaN(e)?t:e};let Sw;const _p=()=>Sw||(Sw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),QN="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",XN=mp(QN);function Pr(t){if($e(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Jt(r)?tM(r):Pr(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Jt(t)||jt(t))return t}const JN=/;(?![^(]*\))/g,ZN=/:([^]+)/,eM=/\/\*[^]*?\*\//g;function tM(t){const e={};return t.replace(eM,"").split(JN).forEach(n=>{if(n){const r=n.split(ZN);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function tt(t){let e="";if(Jt(t))e=t;else if($e(t))for(let n=0;n<t.length;n++){const r=tt(t[n]);r&&(e+=r+" ")}else if(jt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function bn(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Jt(e)&&(t.class=tt(e)),n&&(t.style=Pr(n)),t}const nM="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",rM=mp(nM);function ZS(t){return!!t||t===""}function iM(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=po(t[r],e[r]);return n}function po(t,e){if(t===e)return!0;let n=Iw(t),r=Iw(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=ki(t),r=ki(e),n||r)return t===e;if(n=$e(t),r=$e(e),n||r)return n&&r?iM(t,e):!1;if(n=jt(t),r=jt(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!po(t[o],e[o]))return!1}}return String(t)===String(e)}function bp(t,e){return t.findIndex(n=>po(n,e))}const eC=t=>!!(t&&t.__v_isRef===!0),dt=t=>Jt(t)?t:t==null?"":$e(t)||jt(t)&&(t.toString===XS||!Ze(t.toString))?eC(t)?dt(t.value):JSON.stringify(t,tC,2):String(t),tC=(t,e)=>eC(e)?tC(t,e.value):dl(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[Um(r,s)+" =>"]=i,n),{})}:wa(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Um(n))}:ki(e)?Um(e):jt(e)&&!$e(e)&&!gp(e)?String(e):e,Um=(t,e="")=>{var n;return ki(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Sr;class nC{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Sr,!e&&Sr&&(this.index=(Sr.scopes||(Sr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Sr;try{return Sr=this,e()}finally{Sr=n}}}on(){Sr=this}off(){Sr=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Ky(t){return new nC(t)}function Yy(){return Sr}function rC(t,e=!1){Sr&&Sr.cleanups.push(t)}let Yt;const Bm=new WeakSet;class df{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Sr&&Sr.active&&Sr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Bm.has(this)&&(Bm.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||sC(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Cw(this),oC(this);const e=Yt,n=Si;Yt=this,Si=!0;try{return this.fn()}finally{aC(this),Yt=e,Si=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Xy(e);this.deps=this.depsTail=void 0,Cw(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Bm.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Zg(this)&&this.run()}get dirty(){return Zg(this)}}let iC=0,Ju,Zu;function sC(t,e=!1){if(t.flags|=8,e){t.next=Zu,Zu=t;return}t.next=Ju,Ju=t}function Gy(){iC++}function Qy(){if(--iC>0)return;if(Zu){let e=Zu;for(Zu=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Ju;){let e=Ju;for(Ju=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function oC(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function aC(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),Xy(r),sM(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function Zg(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(lC(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function lC(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Cc))return;t.globalVersion=Cc;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Zg(t)){t.flags&=-3;return}const n=Yt,r=Si;Yt=t,Si=!0;try{oC(t);const i=t.fn(t._value);(e.version===0||Cr(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Yt=n,Si=r,aC(t),t.flags&=-3}}function Xy(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)Xy(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function sM(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}function one(t,e){t.effect instanceof df&&(t=t.effect.fn);const n=new df(t);e&&zt(n,e);try{n.run()}catch(i){throw n.stop(),i}const r=n.run.bind(n);return r.effect=n,r}function ane(t){t.effect.stop()}let Si=!0;const uC=[];function Eo(){uC.push(Si),Si=!1}function Io(){const t=uC.pop();Si=t===void 0?!0:t}function Cw(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Yt;Yt=void 0;try{e()}finally{Yt=n}}}let Cc=0;class oM{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class wp{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Yt||!Si||Yt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Yt)n=this.activeLink=new oM(Yt,this),Yt.deps?(n.prevDep=Yt.depsTail,Yt.depsTail.nextDep=n,Yt.depsTail=n):Yt.deps=Yt.depsTail=n,cC(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Yt.depsTail,n.nextDep=void 0,Yt.depsTail.nextDep=n,Yt.depsTail=n,Yt.deps===n&&(Yt.deps=r)}return n}trigger(e){this.version++,Cc++,this.notify(e)}notify(e){Gy();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Qy()}}}function cC(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)cC(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const hf=new WeakMap,zo=Symbol(""),ev=Symbol(""),Ac=Symbol("");function lr(t,e,n){if(Si&&Yt){let r=hf.get(t);r||hf.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new wp),i.map=r,i.key=n),i.track()}}function ds(t,e,n,r,i,s){const o=hf.get(t);if(!o){Cc++;return}const a=l=>{l&&l.trigger()};if(Gy(),e==="clear")o.forEach(a);else{const l=$e(t),u=l&&zy(n);if(l&&n==="length"){const c=Number(r);o.forEach((h,f)=>{(f==="length"||f===Ac||!ki(f)&&f>=c)&&a(h)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(Ac)),e){case"add":l?u&&a(o.get("length")):(a(o.get(zo)),dl(t)&&a(o.get(ev)));break;case"delete":l||(a(o.get(zo)),dl(t)&&a(o.get(ev)));break;case"set":dl(t)&&a(o.get(zo));break}}Qy()}function aM(t,e){const n=hf.get(t);return n&&n.get(e)}function $a(t){const e=pt(t);return e===t?e:(lr(e,"iterate",Ac),li(t)?e:e.map(ur))}function Tp(t){return lr(t=pt(t),"iterate",Ac),t}const lM={__proto__:null,[Symbol.iterator](){return jm(this,Symbol.iterator,ur)},concat(...t){return $a(this).concat(...t.map(e=>$e(e)?$a(e):e))},entries(){return jm(this,"entries",t=>(t[1]=ur(t[1]),t))},every(t,e){return as(this,"every",t,e,void 0,arguments)},filter(t,e){return as(this,"filter",t,e,n=>n.map(ur),arguments)},find(t,e){return as(this,"find",t,e,ur,arguments)},findIndex(t,e){return as(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return as(this,"findLast",t,e,ur,arguments)},findLastIndex(t,e){return as(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return as(this,"forEach",t,e,void 0,arguments)},includes(...t){return Hm(this,"includes",t)},indexOf(...t){return Hm(this,"indexOf",t)},join(t){return $a(this).join(t)},lastIndexOf(...t){return Hm(this,"lastIndexOf",t)},map(t,e){return as(this,"map",t,e,void 0,arguments)},pop(){return Cu(this,"pop")},push(...t){return Cu(this,"push",t)},reduce(t,...e){return Aw(this,"reduce",t,e)},reduceRight(t,...e){return Aw(this,"reduceRight",t,e)},shift(){return Cu(this,"shift")},some(t,e){return as(this,"some",t,e,void 0,arguments)},splice(...t){return Cu(this,"splice",t)},toReversed(){return $a(this).toReversed()},toSorted(t){return $a(this).toSorted(t)},toSpliced(...t){return $a(this).toSpliced(...t)},unshift(...t){return Cu(this,"unshift",t)},values(){return jm(this,"values",ur)}};function jm(t,e,n){const r=Tp(t),i=r[e]();return r!==t&&!li(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const uM=Array.prototype;function as(t,e,n,r,i,s){const o=Tp(t),a=o!==t&&!li(t),l=o[e];if(l!==uM[e]){const h=l.apply(t,s);return a?ur(h):h}let u=n;o!==t&&(a?u=function(h,f){return n.call(this,ur(h),f,t)}:n.length>2&&(u=function(h,f){return n.call(this,h,f,t)}));const c=l.call(o,u,r);return a&&i?i(c):c}function Aw(t,e,n,r){const i=Tp(t);let s=n;return i!==t&&(li(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,ur(a),l,t)}),i[e](s,...r)}function Hm(t,e,n){const r=pt(t);lr(r,"iterate",Ac);const i=r[e](...n);return(i===-1||i===!1)&&Zy(n[0])?(n[0]=pt(n[0]),r[e](...n)):i}function Cu(t,e,n=[]){Eo(),Gy();const r=pt(t)[e].apply(t,n);return Qy(),Io(),r}const cM=mp("__proto__,__v_isRef,__isVue"),dC=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ki));function dM(t){ki(t)||(t=String(t));const e=pt(this);return lr(e,"has",t),e.hasOwnProperty(t)}class hC{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?yC:vC:s?gC:mC).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=$e(e);if(!i){let l;if(o&&(l=lM[n]))return l;if(n==="hasOwnProperty")return dM}const a=Reflect.get(e,n,an(e)?e:r);return(ki(n)?dC.has(n):cM(n))||(i||lr(e,"get",n),s)?a:an(a)?o&&zy(n)?a:a.value:jt(a)?i?Jy(a):Rr(a):a}}class fC extends hC{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=na(s);if(!li(r)&&!na(r)&&(s=pt(s),r=pt(r)),!$e(e)&&an(s)&&!an(r))return l?!1:(s.value=r,!0)}const o=$e(e)&&zy(n)?Number(n)<e.length:kt(e,n),a=Reflect.set(e,n,r,an(e)?e:i);return e===pt(i)&&(o?Cr(r,s)&&ds(e,"set",n,r):ds(e,"add",n,r)),a}deleteProperty(e,n){const r=kt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&ds(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!ki(n)||!dC.has(n))&&lr(e,"has",n),r}ownKeys(e){return lr(e,"iterate",$e(e)?"length":zo),Reflect.ownKeys(e)}}class pC extends hC{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const hM=new fC,fM=new pC,pM=new fC(!0),mM=new pC(!0),tv=t=>t,ch=t=>Reflect.getPrototypeOf(t);function gM(t,e,n){return function(...r){const i=this.__v_raw,s=pt(i),o=dl(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=n?tv:e?nv:ur;return!e&&lr(s,"iterate",l?ev:zo),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:a?[c(h[0]),c(h[1])]:c(h),done:f}},[Symbol.iterator](){return this}}}}function dh(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function vM(t,e){const n={get(i){const s=this.__v_raw,o=pt(s),a=pt(i);t||(Cr(i,a)&&lr(o,"get",i),lr(o,"get",a));const{has:l}=ch(o),u=e?tv:t?nv:ur;if(l.call(o,i))return u(s.get(i));if(l.call(o,a))return u(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&lr(pt(i),"iterate",zo),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,o=pt(s),a=pt(i);return t||(Cr(i,a)&&lr(o,"has",i),lr(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=pt(a),u=e?tv:t?nv:ur;return!t&&lr(l,"iterate",zo),a.forEach((c,h)=>i.call(s,u(c),u(h),o))}};return zt(n,t?{add:dh("add"),set:dh("set"),delete:dh("delete"),clear:dh("clear")}:{add(i){!e&&!li(i)&&!na(i)&&(i=pt(i));const s=pt(this);return ch(s).has.call(s,i)||(s.add(i),ds(s,"add",i,i)),this},set(i,s){!e&&!li(s)&&!na(s)&&(s=pt(s));const o=pt(this),{has:a,get:l}=ch(o);let u=a.call(o,i);u||(i=pt(i),u=a.call(o,i));const c=l.call(o,i);return o.set(i,s),u?Cr(s,c)&&ds(o,"set",i,s):ds(o,"add",i,s),this},delete(i){const s=pt(this),{has:o,get:a}=ch(s);let l=o.call(s,i);l||(i=pt(i),l=o.call(s,i)),a&&a.call(s,i);const u=s.delete(i);return l&&ds(s,"delete",i,void 0),u},clear(){const i=pt(this),s=i.size!==0,o=i.clear();return s&&ds(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=gM(i,t,e)}),n}function Ep(t,e){const n=vM(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(kt(n,i)&&i in r?n:r,i,s)}const yM={get:Ep(!1,!1)},_M={get:Ep(!1,!0)},bM={get:Ep(!0,!1)},wM={get:Ep(!0,!0)},mC=new WeakMap,gC=new WeakMap,vC=new WeakMap,yC=new WeakMap;function TM(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function EM(t){return t.__v_skip||!Object.isExtensible(t)?0:TM(KN(t))}function Rr(t){return na(t)?t:Ip(t,!1,hM,yM,mC)}function _C(t){return Ip(t,!1,pM,_M,gC)}function Jy(t){return Ip(t,!0,fM,bM,vC)}function lne(t){return Ip(t,!0,mM,wM,yC)}function Ip(t,e,n,r,i){if(!jt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=EM(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function Ki(t){return na(t)?Ki(t.__v_raw):!!(t&&t.__v_isReactive)}function na(t){return!!(t&&t.__v_isReadonly)}function li(t){return!!(t&&t.__v_isShallow)}function Zy(t){return t?!!t.__v_raw:!1}function pt(t){const e=t&&t.__v_raw;return e?pt(e):t}function e_(t){return!kt(t,"__v_skip")&&Object.isExtensible(t)&&JS(t,"__v_skip",!0),t}const ur=t=>jt(t)?Rr(t):t,nv=t=>jt(t)?Jy(t):t;function an(t){return t?t.__v_isRef===!0:!1}function fe(t){return wC(t,!1)}function bC(t){return wC(t,!0)}function wC(t,e){return an(t)?t:new IM(t,e)}class IM{constructor(e,n){this.dep=new wp,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:pt(e),this._value=n?e:ur(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||li(e)||na(e);e=r?e:pt(e),Cr(e,n)&&(this._rawValue=e,this._value=r?e:ur(e),this.dep.trigger())}}function une(t){t.dep&&t.dep.trigger()}function G(t){return an(t)?t.value:t}function cne(t){return Ze(t)?t():G(t)}const SM={get:(t,e,n)=>e==="__v_raw"?t:G(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return an(i)&&!an(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function TC(t){return Ki(t)?t:new Proxy(t,SM)}class CM{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new wp,{get:r,set:i}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function AM(t){return new CM(t)}function OM(t){const e=$e(t)?new Array(t.length):{};for(const n in t)e[n]=EC(t,n);return e}class PM{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return aM(pt(this._object),this._key)}}class kM{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Oc(t,e,n){return an(t)?t:Ze(t)?new kM(t):jt(t)&&arguments.length>1?EC(t,e,n):fe(t)}function EC(t,e,n){const r=t[e];return an(r)?r:new PM(t,e,n)}class RM{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new wp(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Cc-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Yt!==this)return sC(this,!0),!0}get value(){const e=this.dep.track();return lC(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function DM(t,e,n=!1){let r,i;return Ze(t)?r=t:(r=t.get,i=t.set),new RM(r,i,n)}const dne={GET:"get",HAS:"has",ITERATE:"iterate"},hne={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},hh={},ff=new WeakMap;let zs;function fne(){return zs}function xM(t,e=!1,n=zs){if(n){let r=ff.get(n);r||ff.set(n,r=[]),r.push(t)}}function NM(t,e,n=mt){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,u=S=>i?S:li(S)||i===!1||i===0?hs(S,1):hs(S);let c,h,f,p,g=!1,b=!1;if(an(t)?(h=()=>t.value,g=li(t)):Ki(t)?(h=()=>u(t),g=!0):$e(t)?(b=!0,g=t.some(S=>Ki(S)||li(S)),h=()=>t.map(S=>{if(an(S))return S.value;if(Ki(S))return u(S);if(Ze(S))return l?l(S,2):S()})):Ze(t)?e?h=l?()=>l(t,2):t:h=()=>{if(f){Eo();try{f()}finally{Io()}}const S=zs;zs=c;try{return l?l(t,3,[p]):t(p)}finally{zs=S}}:h=ai,e&&i){const S=h,M=i===!0?1/0:i;h=()=>hs(S(),M)}const A=Yy(),R=()=>{c.stop(),A&&A.active&&Wy(A.effects,c)};if(s&&e){const S=e;e=(...M)=>{S(...M),R()}}let k=b?new Array(t.length).fill(hh):hh;const T=S=>{if(!(!(c.flags&1)||!c.dirty&&!S))if(e){const M=c.run();if(i||g||(b?M.some((L,I)=>Cr(L,k[I])):Cr(M,k))){f&&f();const L=zs;zs=c;try{const I=[M,k===hh?void 0:b&&k[0]===hh?[]:k,p];l?l(e,3,I):e(...I),k=M}finally{zs=L}}}else c.run()};return a&&a(T),c=new df(h),c.scheduler=o?()=>o(T,!1):T,p=S=>xM(S,!1,c),f=c.onStop=()=>{const S=ff.get(c);if(S){if(l)l(S,4);else for(const M of S)M();ff.delete(c)}},e?r?T(!0):k=c.run():o?o(T.bind(null,!0),!0):c.run(),R.pause=c.pause.bind(c),R.resume=c.resume.bind(c),R.stop=R,R}function hs(t,e=1/0,n){if(e<=0||!jt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,an(t))hs(t.value,e,n);else if($e(t))for(let r=0;r<t.length;r++)hs(t[r],e,n);else if(wa(t)||dl(t))t.forEach(r=>{hs(r,e,n)});else if(gp(t)){for(const r in t)hs(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&hs(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const IC=[];function MM(t){IC.push(t)}function LM(){IC.pop()}function pne(t,e){}const mne={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},VM={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function wd(t,e,n,r){try{return r?t(...r):t()}catch(i){tu(i,e,n)}}function Ri(t,e,n,r){if(Ze(t)){const i=wd(t,e,n,r);return i&&qy(i)&&i.catch(s=>{tu(s,e,n)}),i}if($e(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Ri(t[s],e,n,r));return i}}function tu(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||mt;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(s){Eo(),wd(s,null,10,[t,l,u]),Io();return}}FM(t,n,i,r,o)}function FM(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const Ar=[];let Fi=-1;const pl=[];let Ks=null,Ka=0;const SC=Promise.resolve();let pf=null;function jn(t){const e=pf||SC;return t?e.then(this?t.bind(this):t):e}function $M(t){let e=Fi+1,n=Ar.length;for(;e<n;){const r=e+n>>>1,i=Ar[r],s=Pc(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function t_(t){if(!(t.flags&1)){const e=Pc(t),n=Ar[Ar.length-1];!n||!(t.flags&2)&&e>=Pc(n)?Ar.push(t):Ar.splice($M(e),0,t),t.flags|=1,CC()}}function CC(){pf||(pf=SC.then(AC))}function mf(t){$e(t)?pl.push(...t):Ks&&t.id===-1?Ks.splice(Ka+1,0,t):t.flags&1||(pl.push(t),t.flags|=1),CC()}function Ow(t,e,n=Fi+1){for(;n<Ar.length;n++){const r=Ar[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Ar.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function gf(t){if(pl.length){const e=[...new Set(pl)].sort((n,r)=>Pc(n)-Pc(r));if(pl.length=0,Ks){Ks.push(...e);return}for(Ks=e,Ka=0;Ka<Ks.length;Ka++){const n=Ks[Ka];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ks=null,Ka=0}}const Pc=t=>t.id==null?t.flags&2?-1:1/0:t.id;function AC(t){try{for(Fi=0;Fi<Ar.length;Fi++){const e=Ar[Fi];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),wd(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Fi<Ar.length;Fi++){const e=Ar[Fi];e&&(e.flags&=-2)}Fi=-1,Ar.length=0,gf(),pf=null,(Ar.length||pl.length)&&AC()}}let Ya,fh=[];function OC(t,e){var n,r;Ya=t,Ya?(Ya.enabled=!0,fh.forEach(({event:i,args:s})=>Ya.emit(i,...s)),fh=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{OC(s,e)}),setTimeout(()=>{Ya||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,fh=[])},3e3)):fh=[]}let Mn=null,Sp=null;function kc(t){const e=Mn;return Mn=t,Sp=t&&t.type.__scopeId||null,e}function gne(t){Sp=t}function vne(){Sp=null}const yne=t=>Qe;function Qe(t,e=Mn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&jw(-1);const s=kc(e);let o;try{o=t(...i)}finally{kc(s),r._d&&jw(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Ko(t,e){if(Mn===null)return t;const n=Id(Mn),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=mt]=e[i];s&&(Ze(s)&&(s={mounted:s,updated:s}),s.deep&&hs(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Ui(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Eo(),Ri(l,n,8,[t.el,a,t,e]),Io())}}const PC=Symbol("_vte"),kC=t=>t.__isTeleport,ec=t=>t&&(t.disabled||t.disabled===""),Pw=t=>t&&(t.defer||t.defer===""),kw=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Rw=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,rv=(t,e)=>{const n=t&&t.to;return Jt(n)?e?e(n):null:n},RC={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,u){const{mc:c,pc:h,pbc:f,o:{insert:p,querySelector:g,createText:b,createComment:A}}=u,R=ec(e.props);let{shapeFlag:k,children:T,dynamicChildren:S}=e;if(t==null){const M=e.el=b(""),L=e.anchor=b("");p(M,n,r),p(L,n,r);const I=(y,v)=>{k&16&&(i&&i.isCE&&(i.ce._teleportTarget=y),c(T,y,v,i,s,o,a,l))},E=()=>{const y=e.target=rv(e.props,g),v=xC(y,e,b,p);y&&(o!=="svg"&&kw(y)?o="svg":o!=="mathml"&&Rw(y)&&(o="mathml"),R||(I(y,v),Wh(e,!1)))};R&&(I(n,L),Wh(e,!0)),Pw(e.props)?Pn(()=>{E(),e.el.__isMounted=!0},s):E()}else{if(Pw(e.props)&&!t.el.__isMounted){Pn(()=>{RC.process(t,e,n,r,i,s,o,a,l,u),delete t.el.__isMounted},s);return}e.el=t.el,e.targetStart=t.targetStart;const M=e.anchor=t.anchor,L=e.target=t.target,I=e.targetAnchor=t.targetAnchor,E=ec(t.props),y=E?n:L,v=E?M:I;if(o==="svg"||kw(L)?o="svg":(o==="mathml"||Rw(L))&&(o="mathml"),S?(f(t.dynamicChildren,S,y,i,s,o,a),h_(t,e,!0)):l||h(t,e,y,v,i,s,o,a,!1),R)E?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):ph(e,n,M,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const w=e.target=rv(e.props,g);w&&ph(e,w,null,u,0)}else E&&ph(e,L,I,u,1);Wh(e,R)}},remove(t,e,n,{um:r,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:c,target:h,props:f}=t;if(h&&(i(u),i(c)),s&&i(l),o&16){const p=s||!ec(f);for(let g=0;g<a.length;g++){const b=a[g];r(b,e,n,p,!!b.dynamicChildren)}}},move:ph,hydrate:UM};function ph(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,h=s===2;if(h&&r(o,e,n),(!h||ec(c))&&l&16)for(let f=0;f<u.length;f++)i(u[f],e,n,2);h&&r(a,e,n)}function UM(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:c}},h){const f=e.target=rv(e.props,l);if(f){const p=ec(e.props),g=f._lpa||f.firstChild;if(e.shapeFlag&16)if(p)e.anchor=h(o(t),e,a(t),n,r,i,s),e.targetStart=g,e.targetAnchor=g&&o(g);else{e.anchor=o(t);let b=g;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")e.targetStart=b;else if(b.data==="teleport anchor"){e.targetAnchor=b,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}b=o(b)}e.targetAnchor||xC(f,e,c,u),h(g&&o(g),e,f,n,r,i,s)}Wh(e,p)}return e.anchor&&o(e.anchor)}const DC=RC;function Wh(t,e){const n=t.ctx;if(n&&n.ut){let r,i;for(e?(r=t.el,i=t.anchor):(r=t.targetStart,i=t.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function xC(t,e,n,r){const i=e.targetStart=n(""),s=e.targetAnchor=n("");return i[PC]=s,t&&(r(i,t),r(s,t)),s}const Ys=Symbol("_leaveCb"),mh=Symbol("_enterCb");function NC(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return vn(()=>{t.isMounted=!0}),o_(()=>{t.isUnmounting=!0}),t}const ni=[Function,Array],MC={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ni,onEnter:ni,onAfterEnter:ni,onEnterCancelled:ni,onBeforeLeave:ni,onLeave:ni,onAfterLeave:ni,onLeaveCancelled:ni,onBeforeAppear:ni,onAppear:ni,onAfterAppear:ni,onAppearCancelled:ni},LC=t=>{const e=t.subTree;return e.component?LC(e.component):e},BM={name:"BaseTransition",props:MC,setup(t,{slots:e}){const n=Zr(),r=NC();return()=>{const i=e.default&&n_(e.default(),!0);if(!i||!i.length)return;const s=VC(i),o=pt(t),{mode:a}=o;if(r.isLeaving)return Wm(s);const l=Dw(s);if(!l)return Wm(s);let u=Rc(l,o,r,n,h=>u=h);l.type!==Rn&&mo(l,u);let c=n.subTree&&Dw(n.subTree);if(c&&c.type!==Rn&&!_i(l,c)&&LC(n).type!==Rn){let h=Rc(c,o,r,n);if(mo(c,h),a==="out-in"&&l.type!==Rn)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete h.afterLeave,c=void 0},Wm(s);a==="in-out"&&l.type!==Rn?h.delayLeave=(f,p,g)=>{const b=FC(r,c);b[String(c.key)]=c,f[Ys]=()=>{p(),f[Ys]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{g(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return s}}};function VC(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Rn){e=n;break}}return e}const jM=BM;function FC(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Rc(t,e,n,r,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:g,onLeaveCancelled:b,onBeforeAppear:A,onAppear:R,onAfterAppear:k,onAppearCancelled:T}=e,S=String(t.key),M=FC(n,t),L=(y,v)=>{y&&Ri(y,r,9,v)},I=(y,v)=>{const w=v[1];L(y,v),$e(y)?y.every(C=>C.length<=1)&&w():y.length<=1&&w()},E={mode:o,persisted:a,beforeEnter(y){let v=l;if(!n.isMounted)if(s)v=A||l;else return;y[Ys]&&y[Ys](!0);const w=M[S];w&&_i(t,w)&&w.el[Ys]&&w.el[Ys](),L(v,[y])},enter(y){let v=u,w=c,C=h;if(!n.isMounted)if(s)v=R||u,w=k||c,C=T||h;else return;let P=!1;const q=y[mh]=$=>{P||(P=!0,$?L(C,[y]):L(w,[y]),E.delayedLeave&&E.delayedLeave(),y[mh]=void 0)};v?I(v,[y,q]):q()},leave(y,v){const w=String(t.key);if(y[mh]&&y[mh](!0),n.isUnmounting)return v();L(f,[y]);let C=!1;const P=y[Ys]=q=>{C||(C=!0,v(),q?L(b,[y]):L(g,[y]),y[Ys]=void 0,M[w]===t&&delete M[w])};M[w]=t,p?I(p,[y,P]):P()},clone(y){const v=Rc(y,e,n,r,i);return i&&i(v),v}};return E}function Wm(t){if(Td(t))return t=Is(t),t.children=null,t}function Dw(t){if(!Td(t))return kC(t.type)&&t.children?VC(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Ze(n.default))return n.default()}}function mo(t,e){t.shapeFlag&6&&t.component?(t.transition=e,mo(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function n_(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Ne?(o.patchFlag&128&&i++,r=r.concat(n_(o.children,e,a))):(e||o.type!==Rn)&&r.push(a!=null?Is(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Kt(t,e){return Ze(t)?zt({name:t.name},e,{setup:t}):t}function _ne(){const t=Zr();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function r_(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function bne(t){const e=Zr(),n=bC(null);if(e){const i=e.refs===mt?e.refs={}:e.refs;Object.defineProperty(i,t,{enumerable:!0,get:()=>n.value,set:s=>n.value=s})}return n}function Dc(t,e,n,r,i=!1){if($e(t)){t.forEach((g,b)=>Dc(g,e&&($e(e)?e[b]:e),n,r,i));return}if(io(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Dc(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?Id(r.component):r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===mt?a.refs={}:a.refs,h=a.setupState,f=pt(h),p=h===mt?()=>!1:g=>kt(f,g);if(u!=null&&u!==l&&(Jt(u)?(c[u]=null,p(u)&&(h[u]=null)):an(u)&&(u.value=null)),Ze(l))wd(l,a,12,[o,c]);else{const g=Jt(l),b=an(l);if(g||b){const A=()=>{if(t.f){const R=g?p(l)?h[l]:c[l]:l.value;i?$e(R)&&Wy(R,s):$e(R)?R.includes(s)||R.push(s):g?(c[l]=[s],p(l)&&(h[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else g?(c[l]=o,p(l)&&(h[l]=o)):b&&(l.value=o,t.k&&(c[t.k]=o))};o?(A.id=-1,Pn(A,n)):A()}}}let xw=!1;const Ua=()=>{xw||(console.error("Hydration completed but contains mismatches."),xw=!0)},HM=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",WM=t=>t.namespaceURI.includes("MathML"),gh=t=>{if(t.nodeType===1){if(HM(t))return"svg";if(WM(t))return"mathml"}},tl=t=>t.nodeType===8;function qM(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:u}}=t,c=(T,S)=>{if(!S.hasChildNodes()){n(null,T,S),gf(),S._vnode=T;return}h(S.firstChild,T,null,null,null),gf(),S._vnode=T},h=(T,S,M,L,I,E=!1)=>{E=E||!!S.dynamicChildren;const y=tl(T)&&T.data==="[",v=()=>b(T,S,M,L,I,y),{type:w,ref:C,shapeFlag:P,patchFlag:q}=S;let $=T.nodeType;S.el=T,q===-2&&(E=!1,S.dynamicChildren=null);let j=null;switch(w){case Go:$!==3?S.children===""?(l(S.el=i(""),o(T),T),j=T):j=v():(T.data!==S.children&&(Ua(),T.data=S.children),j=s(T));break;case Rn:k(T)?(j=s(T),R(S.el=T.content.firstChild,T,M)):$!==8||y?j=v():j=s(T);break;case gl:if(y&&(T=s(T),$=T.nodeType),$===1||$===3){j=T;const F=!S.children.length;for(let U=0;U<S.staticCount;U++)F&&(S.children+=j.nodeType===1?j.outerHTML:j.data),U===S.staticCount-1&&(S.anchor=j),j=s(j);return y?s(j):j}else v();break;case Ne:y?j=g(T,S,M,L,I,E):j=v();break;default:if(P&1)($!==1||S.type.toLowerCase()!==T.tagName.toLowerCase())&&!k(T)?j=v():j=f(T,S,M,L,I,E);else if(P&6){S.slotScopeIds=I;const F=o(T);if(y?j=A(T):tl(T)&&T.data==="teleport start"?j=A(T,T.data,"teleport end"):j=s(T),e(S,F,null,M,L,gh(F),E),io(S)&&!S.type.__asyncResolved){let U;y?(U=et(Ne),U.anchor=j?j.previousSibling:F.lastChild):U=T.nodeType===3?Dn(""):et("div"),U.el=T,S.component.subTree=U}}else P&64?$!==8?j=v():j=S.type.hydrate(T,S,M,L,I,E,t,p):P&128&&(j=S.type.hydrate(T,S,M,L,gh(o(T)),I,E,t,h))}return C!=null&&Dc(C,null,L,S),j},f=(T,S,M,L,I,E)=>{E=E||!!S.dynamicChildren;const{type:y,props:v,patchFlag:w,shapeFlag:C,dirs:P,transition:q}=S,$=y==="input"||y==="option";if($||w!==-1){P&&Ui(S,null,M,"created");let j=!1;if(k(T)){j=tA(null,q)&&M&&M.vnode.props&&M.vnode.props.appear;const U=T.content.firstChild;j&&q.beforeEnter(U),R(U,T,M),S.el=T=U}if(C&16&&!(v&&(v.innerHTML||v.textContent))){let U=p(T.firstChild,S,T,M,L,I,E);for(;U;){vh(T,1)||Ua();const x=U;U=U.nextSibling,a(x)}}else if(C&8){let U=S.children;U[0]===`
`&&(T.tagName==="PRE"||T.tagName==="TEXTAREA")&&(U=U.slice(1)),T.textContent!==U&&(vh(T,0)||Ua(),T.textContent=S.children)}if(v){if($||!E||w&48){const U=T.tagName.includes("-");for(const x in v)($&&(x.endsWith("value")||x==="indeterminate")||bd(x)&&!hl(x)||x[0]==="."||U)&&r(T,x,null,v[x],void 0,M)}else if(v.onClick)r(T,"onClick",null,v.onClick,void 0,M);else if(w&4&&Ki(v.style))for(const U in v.style)v.style[U]}let F;(F=v&&v.onVnodeBeforeMount)&&xr(F,M,S),P&&Ui(S,null,M,"beforeMount"),((F=v&&v.onVnodeMounted)||P||j)&&aA(()=>{F&&xr(F,M,S),j&&q.enter(T),P&&Ui(S,null,M,"mounted")},L)}return T.nextSibling},p=(T,S,M,L,I,E,y)=>{y=y||!!S.dynamicChildren;const v=S.children,w=v.length;for(let C=0;C<w;C++){const P=y?v[C]:v[C]=Mr(v[C]),q=P.type===Go;T?(q&&!y&&C+1<w&&Mr(v[C+1]).type===Go&&(l(i(T.data.slice(P.children.length)),M,s(T)),T.data=P.children),T=h(T,P,L,I,E,y)):q&&!P.children?l(P.el=i(""),M):(vh(M,1)||Ua(),n(null,P,M,null,L,I,gh(M),E))}return T},g=(T,S,M,L,I,E)=>{const{slotScopeIds:y}=S;y&&(I=I?I.concat(y):y);const v=o(T),w=p(s(T),S,v,M,L,I,E);return w&&tl(w)&&w.data==="]"?s(S.anchor=w):(Ua(),l(S.anchor=u("]"),v,w),w)},b=(T,S,M,L,I,E)=>{if(vh(T.parentElement,1)||Ua(),S.el=null,E){const w=A(T);for(;;){const C=s(T);if(C&&C!==w)a(C);else break}}const y=s(T),v=o(T);return a(T),n(null,S,v,y,M,L,gh(v),I),M&&(M.vnode.el=S.el,Op(M,S.el)),y},A=(T,S="[",M="]")=>{let L=0;for(;T;)if(T=s(T),T&&tl(T)&&(T.data===S&&L++,T.data===M)){if(L===0)return s(T);L--}return T},R=(T,S,M)=>{const L=S.parentNode;L&&L.replaceChild(T,S);let I=M;for(;I;)I.vnode.el===S&&(I.vnode.el=I.subTree.el=T),I=I.parent},k=T=>T.nodeType===1&&T.tagName==="TEMPLATE";return[c,h]}const Nw="data-allow-mismatch",zM={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function vh(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(Nw);)t=t.parentElement;const n=t&&t.getAttribute(Nw);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:n.split(",").includes(zM[e])}}const KM=_p().requestIdleCallback||(t=>setTimeout(t,1)),YM=_p().cancelIdleCallback||(t=>clearTimeout(t)),wne=(t=1e4)=>e=>{const n=KM(e,{timeout:t});return()=>YM(n)};function GM(t){const{top:e,left:n,bottom:r,right:i}=t.getBoundingClientRect(),{innerHeight:s,innerWidth:o}=window;return(e>0&&e<s||r>0&&r<s)&&(n>0&&n<o||i>0&&i<o)}const Tne=t=>(e,n)=>{const r=new IntersectionObserver(i=>{for(const s of i)if(s.isIntersecting){r.disconnect(),e();break}},t);return n(i=>{if(i instanceof Element){if(GM(i))return e(),r.disconnect(),!1;r.observe(i)}}),()=>r.disconnect()},Ene=t=>e=>{if(t){const n=matchMedia(t);if(n.matches)e();else return n.addEventListener("change",e,{once:!0}),()=>n.removeEventListener("change",e)}},Ine=(t=[])=>(e,n)=>{Jt(t)&&(t=[t]);let r=!1;const i=o=>{r||(r=!0,s(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},s=()=>{n(o=>{for(const a of t)o.removeEventListener(a,i)})};return n(o=>{for(const a of t)o.addEventListener(a,i,{once:!0})}),s};function QM(t,e){if(tl(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(tl(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const io=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function Sne(t){Ze(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,hydrate:s,timeout:o,suspensible:a=!0,onError:l}=t;let u=null,c,h=0;const f=()=>(h++,u=null,p()),p=()=>{let g;return u||(g=u=e().catch(b=>{if(b=b instanceof Error?b:new Error(String(b)),l)return new Promise((A,R)=>{l(b,()=>A(f()),()=>R(b),h+1)});throw b}).then(b=>g!==u&&u?u:(b&&(b.__esModule||b[Symbol.toStringTag]==="Module")&&(b=b.default),c=b,b)))};return Kt({name:"AsyncComponentWrapper",__asyncLoader:p,__asyncHydrate(g,b,A){const R=s?()=>{const k=s(A,T=>QM(g,T));k&&(b.bum||(b.bum=[])).push(k)}:A;c?R():p().then(()=>!b.isUnmounted&&R())},get __asyncResolved(){return c},setup(){const g=xn;if(r_(g),c)return()=>qm(c,g);const b=T=>{u=null,tu(T,g,13,!r)};if(a&&g.suspense||Al)return p().then(T=>()=>qm(T,g)).catch(T=>(b(T),()=>r?et(r,{error:T}):null));const A=fe(!1),R=fe(),k=fe(!!i);return i&&setTimeout(()=>{k.value=!1},i),o!=null&&setTimeout(()=>{if(!A.value&&!R.value){const T=new Error(`Async component timed out after ${o}ms.`);b(T),R.value=T}},o),p().then(()=>{A.value=!0,g.parent&&Td(g.parent.vnode)&&g.parent.update()}).catch(T=>{b(T),R.value=T}),()=>{if(A.value&&c)return qm(c,g);if(R.value&&r)return et(r,{error:R.value});if(n&&!k.value)return et(n)}}})}function qm(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,o=et(t,r,i);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const Td=t=>t.type.__isKeepAlive,XM={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Zr(),r=n.ctx;if(!r.renderer)return()=>{const k=e.default&&e.default();return k&&k.length===1?k[0]:k};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:h}}}=r,f=h("div");r.activate=(k,T,S,M,L)=>{const I=k.component;u(k,T,S,0,a),l(I.vnode,k,T,S,I,a,M,k.slotScopeIds,L),Pn(()=>{I.isDeactivated=!1,I.a&&fl(I.a);const E=k.props&&k.props.onVnodeMounted;E&&xr(E,I.parent,k)},a)},r.deactivate=k=>{const T=k.component;yf(T.m),yf(T.a),u(k,f,null,1,a),Pn(()=>{T.da&&fl(T.da);const S=k.props&&k.props.onVnodeUnmounted;S&&xr(S,T.parent,k),T.isDeactivated=!0},a)};function p(k){zm(k),c(k,n,a,!0)}function g(k){i.forEach((T,S)=>{const M=pv(T.type);M&&!k(M)&&b(S)})}function b(k){const T=i.get(k);T&&(!o||!_i(T,o))?p(T):o&&zm(o),i.delete(k),s.delete(k)}En(()=>[t.include,t.exclude],([k,T])=>{k&&g(S=>ju(k,S)),T&&g(S=>!ju(T,S))},{flush:"post",deep:!0});let A=null;const R=()=>{A!=null&&(_f(n.subTree.type)?Pn(()=>{i.set(A,yh(n.subTree))},n.subTree.suspense):i.set(A,yh(n.subTree)))};return vn(R),s_(R),o_(()=>{i.forEach(k=>{const{subTree:T,suspense:S}=n,M=yh(T);if(k.type===M.type&&k.key===M.key){zm(M);const L=M.component.da;L&&Pn(L,S);return}p(k)})}),()=>{if(A=null,!e.default)return o=null;const k=e.default(),T=k[0];if(k.length>1)return o=null,k;if(!go(T)||!(T.shapeFlag&4)&&!(T.shapeFlag&128))return o=null,T;let S=yh(T);if(S.type===Rn)return o=null,S;const M=S.type,L=pv(io(S)?S.type.__asyncResolved||{}:M),{include:I,exclude:E,max:y}=t;if(I&&(!L||!ju(I,L))||E&&L&&ju(E,L))return S.shapeFlag&=-257,o=S,T;const v=S.key==null?M:S.key,w=i.get(v);return S.el&&(S=Is(S),T.shapeFlag&128&&(T.ssContent=S)),A=v,w?(S.el=w.el,S.component=w.component,S.transition&&mo(S,S.transition),S.shapeFlag|=512,s.delete(v),s.add(v)):(s.add(v),y&&s.size>parseInt(y,10)&&b(s.values().next().value)),S.shapeFlag|=256,o=S,_f(T.type)?T:S}}},Cne=XM;function ju(t,e){return $e(t)?t.some(n=>ju(n,e)):Jt(t)?t.split(",").includes(e):zN(t)?(t.lastIndex=0,t.test(e)):!1}function JM(t,e){$C(t,"a",e)}function ZM(t,e){$C(t,"da",e)}function $C(t,e,n=xn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Cp(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Td(i.parent.vnode)&&eL(r,e,n,i),i=i.parent}}function eL(t,e,n,r){const i=Cp(e,t,r,!0);Ta(()=>{Wy(r[e],i)},n)}function zm(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function yh(t){return t.shapeFlag&128?t.ssContent:t}function Cp(t,e,n=xn,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Eo();const a=ia(n),l=Ri(e,n,t,o);return a(),Io(),l});return r?i.unshift(s):i.push(s),s}}const Rs=t=>(e,n=xn)=>{(!Al||t==="sp")&&Cp(t,(...r)=>e(...r),n)},tL=Rs("bm"),vn=Rs("m"),i_=Rs("bu"),s_=Rs("u"),o_=Rs("bum"),Ta=Rs("um"),nL=Rs("sp"),rL=Rs("rtg"),iL=Rs("rtc");function sL(t,e=xn){Cp("ec",t,e)}const a_="components",oL="directives";function zr(t,e){return l_(a_,t,!0,e)||t}const UC=Symbol.for("v-ndc");function qr(t){return Jt(t)?l_(a_,t,!1)||t:t||UC}function BC(t){return l_(oL,t)}function l_(t,e,n=!0,r=!1){const i=Mn||xn;if(i){const s=i.type;if(t===a_){const a=pv(s,!1);if(a&&(a===e||a===vr(e)||a===yp(vr(e))))return s}const o=Mw(i[t]||s[t],e)||Mw(i.appContext[t],e);return!o&&r?s:o}}function Mw(t,e){return t&&(t[e]||t[vr(e)]||t[yp(vr(e))])}function Ft(t,e,n,r){let i;const s=n&&n[r],o=$e(t);if(o||Jt(t)){const a=o&&Ki(t);let l=!1;a&&(l=!li(t),t=Tp(t)),i=new Array(t.length);for(let u=0,c=t.length;u<c;u++)i[u]=e(l?ur(t[u]):t[u],u,void 0,s&&s[u])}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s&&s[a])}else if(jt(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,s&&s[l]));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];i[l]=e(t[c],c,l,s&&s[l])}}else i=[];return n&&(n[r]=i),i}function Zn(t,e){for(let n=0;n<e.length;n++){const r=e[n];if($e(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function _e(t,e,n={},r,i){if(Mn.ce||Mn.parent&&io(Mn.parent)&&Mn.parent.ce)return e!=="default"&&(n.name=e),W(),qe(Ne,null,[et("slot",n,r&&r())],64);let s=t[e];s&&s._c&&(s._d=!1),W();const o=s&&u_(s(n)),a=n.key||o&&o.key,l=qe(Ne,{key:(a&&!ki(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function u_(t){return t.some(e=>go(e)?!(e.type===Rn||e.type===Ne&&!u_(e.children)):!0)?t:null}function Ane(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:Hh(r)]=t[r];return n}const iv=t=>t?hA(t)?Id(t):iv(t.parent):null,tc=zt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>iv(t.parent),$root:t=>iv(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>c_(t),$forceUpdate:t=>t.f||(t.f=()=>{t_(t.update)}),$nextTick:t=>t.n||(t.n=jn.bind(t.proxy)),$watch:t=>OL.bind(t)}),Km=(t,e)=>t!==mt&&!t.__isScriptSetup&&kt(t,e),sv={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Km(r,e))return o[e]=1,r[e];if(i!==mt&&kt(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&kt(u,e))return o[e]=3,s[e];if(n!==mt&&kt(n,e))return o[e]=4,n[e];ov&&(o[e]=0)}}const c=tc[e];let h,f;if(c)return e==="$attrs"&&lr(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==mt&&kt(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,kt(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Km(i,e)?(i[e]=n,!0):r!==mt&&kt(r,e)?(r[e]=n,!0):kt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==mt&&kt(t,o)||Km(e,o)||(a=s[0])&&kt(a,o)||kt(r,o)||kt(tc,o)||kt(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:kt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},aL=zt({},sv,{get(t,e){if(e!==Symbol.unscopables)return sv.get(t,e,t)},has(t,e){return e[0]!=="_"&&!XN(e)}});function One(){return null}function Pne(){return null}function kne(t){}function Rne(t){}function Dne(){return null}function xne(){}function Nne(t,e){return null}function Ea(){return jC().slots}function Mne(){return jC().attrs}function jC(){const t=Zr();return t.setupContext||(t.setupContext=mA(t))}function xc(t){return $e(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function Lne(t,e){const n=xc(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?$e(i)||Ze(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function Vne(t,e){return!t||!e?t||e:$e(t)&&$e(e)?t.concat(e):zt({},xc(t),xc(e))}function Fne(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function $ne(t){const e=Zr();let n=t();return dv(),qy(n)&&(n=n.catch(r=>{throw ia(e),r})),[n,()=>ia(e)]}let ov=!0;function lL(t){const e=c_(t),n=t.proxy,r=t.ctx;ov=!1,e.beforeCreate&&Lw(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:f,beforeUpdate:p,updated:g,activated:b,deactivated:A,beforeDestroy:R,beforeUnmount:k,destroyed:T,unmounted:S,render:M,renderTracked:L,renderTriggered:I,errorCaptured:E,serverPrefetch:y,expose:v,inheritAttrs:w,components:C,directives:P,filters:q}=e;if(u&&uL(u,r,null),o)for(const F in o){const U=o[F];Ze(U)&&(r[F]=U.bind(n))}if(i){const F=i.call(n,n);jt(F)&&(t.data=Rr(F))}if(ov=!0,s)for(const F in s){const U=s[F],x=Ze(U)?U.bind(n,n):Ze(U.get)?U.get.bind(n,n):ai,O=!Ze(U)&&Ze(U.set)?U.set.bind(n):ai,z=le({get:x,set:O});Object.defineProperty(r,F,{enumerable:!0,configurable:!0,get:()=>z.value,set:K=>z.value=K})}if(a)for(const F in a)HC(a[F],r,n,F);if(l){const F=Ze(l)?l.call(n):l;Reflect.ownKeys(F).forEach(U=>{nc(U,F[U])})}c&&Lw(c,t,"c");function j(F,U){$e(U)?U.forEach(x=>F(x.bind(n))):U&&F(U.bind(n))}if(j(tL,h),j(vn,f),j(i_,p),j(s_,g),j(JM,b),j(ZM,A),j(sL,E),j(iL,L),j(rL,I),j(o_,k),j(Ta,S),j(nL,y),$e(v))if(v.length){const F=t.exposed||(t.exposed={});v.forEach(U=>{Object.defineProperty(F,U,{get:()=>n[U],set:x=>n[U]=x})})}else t.exposed||(t.exposed={});M&&t.render===ai&&(t.render=M),w!=null&&(t.inheritAttrs=w),C&&(t.components=C),P&&(t.directives=P),y&&r_(t)}function uL(t,e,n=ai){$e(t)&&(t=av(t));for(const r in t){const i=t[r];let s;jt(i)?"default"in i?s=kr(i.from||r,i.default,!0):s=kr(i.from||r):s=kr(i),an(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function Lw(t,e,n){Ri($e(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function HC(t,e,n,r){let i=r.includes(".")?rA(n,r):()=>n[r];if(Jt(t)){const s=e[t];Ze(s)&&En(i,s)}else if(Ze(t))En(i,t.bind(n));else if(jt(t))if($e(t))t.forEach(s=>HC(s,e,n,r));else{const s=Ze(t.handler)?t.handler.bind(n):e[t.handler];Ze(s)&&En(i,s,t)}}function c_(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>vf(l,u,o,!0)),vf(l,e,o)),jt(e)&&s.set(e,l),l}function vf(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&vf(t,s,n,!0),i&&i.forEach(o=>vf(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=cL[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const cL={data:Vw,props:Fw,emits:Fw,methods:Hu,computed:Hu,beforeCreate:Ir,created:Ir,beforeMount:Ir,mounted:Ir,beforeUpdate:Ir,updated:Ir,beforeDestroy:Ir,beforeUnmount:Ir,destroyed:Ir,unmounted:Ir,activated:Ir,deactivated:Ir,errorCaptured:Ir,serverPrefetch:Ir,components:Hu,directives:Hu,watch:hL,provide:Vw,inject:dL};function Vw(t,e){return e?t?function(){return zt(Ze(t)?t.call(this,this):t,Ze(e)?e.call(this,this):e)}:e:t}function dL(t,e){return Hu(av(t),av(e))}function av(t){if($e(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ir(t,e){return t?[...new Set([].concat(t,e))]:e}function Hu(t,e){return t?zt(Object.create(null),t,e):e}function Fw(t,e){return t?$e(t)&&$e(e)?[...new Set([...t,...e])]:zt(Object.create(null),xc(t),xc(e??{})):e}function hL(t,e){if(!t)return e;if(!e)return t;const n=zt(Object.create(null),t);for(const r in e)n[r]=Ir(t[r],e[r]);return n}function WC(){return{app:null,config:{isNativeTag:WN,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fL=0;function pL(t,e){return function(r,i=null){Ze(r)||(r=zt({},r)),i!=null&&!jt(i)&&(i=null);const s=WC(),o=new WeakSet,a=[];let l=!1;const u=s.app={_uid:fL++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:KL,get config(){return s.config},set config(c){},use(c,...h){return o.has(c)||(c&&Ze(c.install)?(o.add(c),c.install(u,...h)):Ze(c)&&(o.add(c),c(u,...h))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,h){return h?(s.components[c]=h,u):s.components[c]},directive(c,h){return h?(s.directives[c]=h,u):s.directives[c]},mount(c,h,f){if(!l){const p=u._ceVNode||et(r,i);return p.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),h&&e?e(p,c):t(p,c,f),l=!0,u._container=c,c.__vue_app__=u,Id(p.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Ri(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return s.provides[c]=h,u},runWithContext(c){const h=Yo;Yo=u;try{return c()}finally{Yo=h}}};return u}}let Yo=null;function nc(t,e){if(xn){let n=xn.provides;const r=xn.parent&&xn.parent.provides;r===n&&(n=xn.provides=Object.create(r)),n[t]=e}}function kr(t,e,n=!1){const r=xn||Mn;if(r||Yo){const i=Yo?Yo._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Ze(e)?e.call(r&&r.proxy):e}}function mL(){return!!(xn||Mn||Yo)}const qC={},zC=()=>Object.create(qC),KC=t=>Object.getPrototypeOf(t)===qC;function gL(t,e,n,r=!1){const i={},s=zC();t.propsDefaults=Object.create(null),YC(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:_C(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function vL(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=pt(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let f=c[h];if(Ap(t.emitsOptions,f))continue;const p=e[f];if(l)if(kt(s,f))p!==s[f]&&(s[f]=p,u=!0);else{const g=vr(f);i[g]=lv(l,a,g,p,t,!1)}else p!==s[f]&&(s[f]=p,u=!0)}}}else{YC(t,e,i,s)&&(u=!0);let c;for(const h in a)(!e||!kt(e,h)&&((c=Lr(h))===h||!kt(e,c)))&&(l?n&&(n[h]!==void 0||n[c]!==void 0)&&(i[h]=lv(l,a,h,void 0,t,!0)):delete i[h]);if(s!==a)for(const h in s)(!e||!kt(e,h))&&(delete s[h],u=!0)}u&&ds(t.attrs,"set","")}function YC(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(hl(l))continue;const u=e[l];let c;i&&kt(i,c=vr(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:Ap(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=pt(n),u=a||mt;for(let c=0;c<s.length;c++){const h=s[c];n[h]=lv(i,l,h,u[h],t,!kt(u,h))}}return o}function lv(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=kt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Ze(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=ia(i);r=u[n]=l.call(null,e),c()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Lr(n))&&(r=!0))}return r}const yL=new WeakMap;function GC(t,e,n=!1){const r=n?yL:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!Ze(t)){const c=h=>{l=!0;const[f,p]=GC(h,e,!0);zt(o,f),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return jt(t)&&r.set(t,cl),cl;if($e(s))for(let c=0;c<s.length;c++){const h=vr(s[c]);$w(h)&&(o[h]=mt)}else if(s)for(const c in s){const h=vr(c);if($w(h)){const f=s[c],p=o[h]=$e(f)||Ze(f)?{type:f}:zt({},f),g=p.type;let b=!1,A=!0;if($e(g))for(let R=0;R<g.length;++R){const k=g[R],T=Ze(k)&&k.name;if(T==="Boolean"){b=!0;break}else T==="String"&&(A=!1)}else b=Ze(g)&&g.name==="Boolean";p[0]=b,p[1]=A,(b||kt(p,"default"))&&a.push(h)}}const u=[o,a];return jt(t)&&r.set(t,u),u}function $w(t){return t[0]!=="$"&&!hl(t)}const QC=t=>t[0]==="_"||t==="$stable",d_=t=>$e(t)?t.map(Mr):[Mr(t)],_L=(t,e,n)=>{if(e._n)return e;const r=Qe((...i)=>d_(e(...i)),n);return r._c=!1,r},XC=(t,e,n)=>{const r=t._ctx;for(const i in t){if(QC(i))continue;const s=t[i];if(Ze(s))e[i]=_L(i,s,r);else if(s!=null){const o=d_(s);e[i]=()=>o}}},JC=(t,e)=>{const n=d_(e);t.slots.default=()=>n},ZC=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},bL=(t,e,n)=>{const r=t.slots=zC();if(t.vnode.shapeFlag&32){const i=e._;i?(ZC(r,e,n),n&&JS(r,"_",i,!0)):XC(e,r)}else e&&JC(t,e)},wL=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=mt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:ZC(i,e,n):(s=!e.$stable,XC(e,i)),o=e}else e&&(JC(t,e),o={default:1});if(s)for(const a in i)!QC(a)&&o[a]==null&&delete i[a]},Pn=aA;function TL(t){return eA(t)}function EL(t){return eA(t,qM)}function eA(t,e){const n=_p();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:f,setScopeId:p=ai,insertStaticContent:g}=t,b=(D,V,B,oe=null,se=null,me=null,Se=void 0,Ee=null,Te=!!V.dynamicChildren)=>{if(D===V)return;D&&!_i(D,V)&&(oe=Q(D),K(D,se,me,!0),D=null),V.patchFlag===-2&&(Te=!1,V.dynamicChildren=null);const{type:ge,ref:He,shapeFlag:Ie}=V;switch(ge){case Go:A(D,V,B,oe);break;case Rn:R(D,V,B,oe);break;case gl:D==null&&k(V,B,oe,Se);break;case Ne:C(D,V,B,oe,se,me,Se,Ee,Te);break;default:Ie&1?M(D,V,B,oe,se,me,Se,Ee,Te):Ie&6?P(D,V,B,oe,se,me,Se,Ee,Te):(Ie&64||Ie&128)&&ge.process(D,V,B,oe,se,me,Se,Ee,Te,ce)}He!=null&&se&&Dc(He,D&&D.ref,me,V||D,!V)},A=(D,V,B,oe)=>{if(D==null)r(V.el=a(V.children),B,oe);else{const se=V.el=D.el;V.children!==D.children&&u(se,V.children)}},R=(D,V,B,oe)=>{D==null?r(V.el=l(V.children||""),B,oe):V.el=D.el},k=(D,V,B,oe)=>{[D.el,D.anchor]=g(D.children,V,B,oe,D.el,D.anchor)},T=({el:D,anchor:V},B,oe)=>{let se;for(;D&&D!==V;)se=f(D),r(D,B,oe),D=se;r(V,B,oe)},S=({el:D,anchor:V})=>{let B;for(;D&&D!==V;)B=f(D),i(D),D=B;i(V)},M=(D,V,B,oe,se,me,Se,Ee,Te)=>{V.type==="svg"?Se="svg":V.type==="math"&&(Se="mathml"),D==null?L(V,B,oe,se,me,Se,Ee,Te):y(D,V,se,me,Se,Ee,Te)},L=(D,V,B,oe,se,me,Se,Ee)=>{let Te,ge;const{props:He,shapeFlag:Ie,transition:Fe,dirs:Ge}=D;if(Te=D.el=o(D.type,me,He&&He.is,He),Ie&8?c(Te,D.children):Ie&16&&E(D.children,Te,null,oe,se,Ym(D,me),Se,Ee),Ge&&Ui(D,null,oe,"created"),I(Te,D,D.scopeId,Se,oe),He){for(const Y in He)Y!=="value"&&!hl(Y)&&s(Te,Y,null,He[Y],me,oe);"value"in He&&s(Te,"value",null,He.value,me),(ge=He.onVnodeBeforeMount)&&xr(ge,oe,D)}Ge&&Ui(D,null,oe,"beforeMount");const Ke=tA(se,Fe);Ke&&Fe.beforeEnter(Te),r(Te,V,B),((ge=He&&He.onVnodeMounted)||Ke||Ge)&&Pn(()=>{ge&&xr(ge,oe,D),Ke&&Fe.enter(Te),Ge&&Ui(D,null,oe,"mounted")},se)},I=(D,V,B,oe,se)=>{if(B&&p(D,B),oe)for(let me=0;me<oe.length;me++)p(D,oe[me]);if(se){let me=se.subTree;if(V===me||_f(me.type)&&(me.ssContent===V||me.ssFallback===V)){const Se=se.vnode;I(D,Se,Se.scopeId,Se.slotScopeIds,se.parent)}}},E=(D,V,B,oe,se,me,Se,Ee,Te=0)=>{for(let ge=Te;ge<D.length;ge++){const He=D[ge]=Ee?Gs(D[ge]):Mr(D[ge]);b(null,He,V,B,oe,se,me,Se,Ee)}},y=(D,V,B,oe,se,me,Se)=>{const Ee=V.el=D.el;let{patchFlag:Te,dynamicChildren:ge,dirs:He}=V;Te|=D.patchFlag&16;const Ie=D.props||mt,Fe=V.props||mt;let Ge;if(B&&No(B,!1),(Ge=Fe.onVnodeBeforeUpdate)&&xr(Ge,B,V,D),He&&Ui(V,D,B,"beforeUpdate"),B&&No(B,!0),(Ie.innerHTML&&Fe.innerHTML==null||Ie.textContent&&Fe.textContent==null)&&c(Ee,""),ge?v(D.dynamicChildren,ge,Ee,B,oe,Ym(V,se),me):Se||U(D,V,Ee,null,B,oe,Ym(V,se),me,!1),Te>0){if(Te&16)w(Ee,Ie,Fe,B,se);else if(Te&2&&Ie.class!==Fe.class&&s(Ee,"class",null,Fe.class,se),Te&4&&s(Ee,"style",Ie.style,Fe.style,se),Te&8){const Ke=V.dynamicProps;for(let Y=0;Y<Ke.length;Y++){const ae=Ke[Y],xe=Ie[ae],We=Fe[ae];(We!==xe||ae==="value")&&s(Ee,ae,xe,We,se,B)}}Te&1&&D.children!==V.children&&c(Ee,V.children)}else!Se&&ge==null&&w(Ee,Ie,Fe,B,se);((Ge=Fe.onVnodeUpdated)||He)&&Pn(()=>{Ge&&xr(Ge,B,V,D),He&&Ui(V,D,B,"updated")},oe)},v=(D,V,B,oe,se,me,Se)=>{for(let Ee=0;Ee<V.length;Ee++){const Te=D[Ee],ge=V[Ee],He=Te.el&&(Te.type===Ne||!_i(Te,ge)||Te.shapeFlag&70)?h(Te.el):B;b(Te,ge,He,null,oe,se,me,Se,!0)}},w=(D,V,B,oe,se)=>{if(V!==B){if(V!==mt)for(const me in V)!hl(me)&&!(me in B)&&s(D,me,V[me],null,se,oe);for(const me in B){if(hl(me))continue;const Se=B[me],Ee=V[me];Se!==Ee&&me!=="value"&&s(D,me,Ee,Se,se,oe)}"value"in B&&s(D,"value",V.value,B.value,se)}},C=(D,V,B,oe,se,me,Se,Ee,Te)=>{const ge=V.el=D?D.el:a(""),He=V.anchor=D?D.anchor:a("");let{patchFlag:Ie,dynamicChildren:Fe,slotScopeIds:Ge}=V;Ge&&(Ee=Ee?Ee.concat(Ge):Ge),D==null?(r(ge,B,oe),r(He,B,oe),E(V.children||[],B,He,se,me,Se,Ee,Te)):Ie>0&&Ie&64&&Fe&&D.dynamicChildren?(v(D.dynamicChildren,Fe,B,se,me,Se,Ee),(V.key!=null||se&&V===se.subTree)&&h_(D,V,!0)):U(D,V,B,He,se,me,Se,Ee,Te)},P=(D,V,B,oe,se,me,Se,Ee,Te)=>{V.slotScopeIds=Ee,D==null?V.shapeFlag&512?se.ctx.activate(V,B,oe,Se,Te):q(V,B,oe,se,me,Se,Te):$(D,V,Te)},q=(D,V,B,oe,se,me,Se)=>{const Ee=D.component=dA(D,oe,se);if(Td(D)&&(Ee.ctx.renderer=ce),fA(Ee,!1,Se),Ee.asyncDep){if(se&&se.registerDep(Ee,j,Se),!D.el){const Te=Ee.subTree=et(Rn);R(null,Te,V,B)}}else j(Ee,D,V,B,se,me,Se)},$=(D,V,B)=>{const oe=V.component=D.component;if(xL(D,V,B))if(oe.asyncDep&&!oe.asyncResolved){F(oe,V,B);return}else oe.next=V,oe.update();else V.el=D.el,oe.vnode=V},j=(D,V,B,oe,se,me,Se)=>{const Ee=()=>{if(D.isMounted){let{next:Ie,bu:Fe,u:Ge,parent:Ke,vnode:Y}=D;{const Nt=nA(D);if(Nt){Ie&&(Ie.el=Y.el,F(D,Ie,Se)),Nt.asyncDep.then(()=>{D.isUnmounted||Ee()});return}}let ae=Ie,xe;No(D,!1),Ie?(Ie.el=Y.el,F(D,Ie,Se)):Ie=Y,Fe&&fl(Fe),(xe=Ie.props&&Ie.props.onVnodeBeforeUpdate)&&xr(xe,Ke,Ie,Y),No(D,!0);const We=qh(D),ct=D.subTree;D.subTree=We,b(ct,We,h(ct.el),Q(ct),D,se,me),Ie.el=We.el,ae===null&&Op(D,We.el),Ge&&Pn(Ge,se),(xe=Ie.props&&Ie.props.onVnodeUpdated)&&Pn(()=>xr(xe,Ke,Ie,Y),se)}else{let Ie;const{el:Fe,props:Ge}=V,{bm:Ke,m:Y,parent:ae,root:xe,type:We}=D,ct=io(V);if(No(D,!1),Ke&&fl(Ke),!ct&&(Ie=Ge&&Ge.onVnodeBeforeMount)&&xr(Ie,ae,V),No(D,!0),Fe&&ne){const Nt=()=>{D.subTree=qh(D),ne(Fe,D.subTree,D,se,null)};ct&&We.__asyncHydrate?We.__asyncHydrate(Fe,D,Nt):Nt()}else{xe.ce&&xe.ce._injectChildStyle(We);const Nt=D.subTree=qh(D);b(null,Nt,B,oe,D,se,me),V.el=Nt.el}if(Y&&Pn(Y,se),!ct&&(Ie=Ge&&Ge.onVnodeMounted)){const Nt=V;Pn(()=>xr(Ie,ae,Nt),se)}(V.shapeFlag&256||ae&&io(ae.vnode)&&ae.vnode.shapeFlag&256)&&D.a&&Pn(D.a,se),D.isMounted=!0,V=B=oe=null}};D.scope.on();const Te=D.effect=new df(Ee);D.scope.off();const ge=D.update=Te.run.bind(Te),He=D.job=Te.runIfDirty.bind(Te);He.i=D,He.id=D.uid,Te.scheduler=()=>t_(He),No(D,!0),ge()},F=(D,V,B)=>{V.component=D;const oe=D.vnode.props;D.vnode=V,D.next=null,vL(D,V.props,oe,B),wL(D,V.children,B),Eo(),Ow(D),Io()},U=(D,V,B,oe,se,me,Se,Ee,Te=!1)=>{const ge=D&&D.children,He=D?D.shapeFlag:0,Ie=V.children,{patchFlag:Fe,shapeFlag:Ge}=V;if(Fe>0){if(Fe&128){O(ge,Ie,B,oe,se,me,Se,Ee,Te);return}else if(Fe&256){x(ge,Ie,B,oe,se,me,Se,Ee,Te);return}}Ge&8?(He&16&&H(ge,se,me),Ie!==ge&&c(B,Ie)):He&16?Ge&16?O(ge,Ie,B,oe,se,me,Se,Ee,Te):H(ge,se,me,!0):(He&8&&c(B,""),Ge&16&&E(Ie,B,oe,se,me,Se,Ee,Te))},x=(D,V,B,oe,se,me,Se,Ee,Te)=>{D=D||cl,V=V||cl;const ge=D.length,He=V.length,Ie=Math.min(ge,He);let Fe;for(Fe=0;Fe<Ie;Fe++){const Ge=V[Fe]=Te?Gs(V[Fe]):Mr(V[Fe]);b(D[Fe],Ge,B,null,se,me,Se,Ee,Te)}ge>He?H(D,se,me,!0,!1,Ie):E(V,B,oe,se,me,Se,Ee,Te,Ie)},O=(D,V,B,oe,se,me,Se,Ee,Te)=>{let ge=0;const He=V.length;let Ie=D.length-1,Fe=He-1;for(;ge<=Ie&&ge<=Fe;){const Ge=D[ge],Ke=V[ge]=Te?Gs(V[ge]):Mr(V[ge]);if(_i(Ge,Ke))b(Ge,Ke,B,null,se,me,Se,Ee,Te);else break;ge++}for(;ge<=Ie&&ge<=Fe;){const Ge=D[Ie],Ke=V[Fe]=Te?Gs(V[Fe]):Mr(V[Fe]);if(_i(Ge,Ke))b(Ge,Ke,B,null,se,me,Se,Ee,Te);else break;Ie--,Fe--}if(ge>Ie){if(ge<=Fe){const Ge=Fe+1,Ke=Ge<He?V[Ge].el:oe;for(;ge<=Fe;)b(null,V[ge]=Te?Gs(V[ge]):Mr(V[ge]),B,Ke,se,me,Se,Ee,Te),ge++}}else if(ge>Fe)for(;ge<=Ie;)K(D[ge],se,me,!0),ge++;else{const Ge=ge,Ke=ge,Y=new Map;for(ge=Ke;ge<=Fe;ge++){const Be=V[ge]=Te?Gs(V[ge]):Mr(V[ge]);Be.key!=null&&Y.set(Be.key,ge)}let ae,xe=0;const We=Fe-Ke+1;let ct=!1,Nt=0;const Hn=new Array(We);for(ge=0;ge<We;ge++)Hn[ge]=0;for(ge=Ge;ge<=Ie;ge++){const Be=D[ge];if(xe>=We){K(Be,se,me,!0);continue}let je;if(Be.key!=null)je=Y.get(Be.key);else for(ae=Ke;ae<=Fe;ae++)if(Hn[ae-Ke]===0&&_i(Be,V[ae])){je=ae;break}je===void 0?K(Be,se,me,!0):(Hn[je-Ke]=ge+1,je>=Nt?Nt=je:ct=!0,b(Be,V[je],B,null,se,me,Se,Ee,Te),xe++)}const Oe=ct?IL(Hn):cl;for(ae=Oe.length-1,ge=We-1;ge>=0;ge--){const Be=Ke+ge,je=V[Be],Wn=Be+1<He?V[Be+1].el:oe;Hn[ge]===0?b(null,je,B,Wn,se,me,Se,Ee,Te):ct&&(ae<0||ge!==Oe[ae]?z(je,B,Wn,2):ae--)}}},z=(D,V,B,oe,se=null)=>{const{el:me,type:Se,transition:Ee,children:Te,shapeFlag:ge}=D;if(ge&6){z(D.component.subTree,V,B,oe);return}if(ge&128){D.suspense.move(V,B,oe);return}if(ge&64){Se.move(D,V,B,ce);return}if(Se===Ne){r(me,V,B);for(let Ie=0;Ie<Te.length;Ie++)z(Te[Ie],V,B,oe);r(D.anchor,V,B);return}if(Se===gl){T(D,V,B);return}if(oe!==2&&ge&1&&Ee)if(oe===0)Ee.beforeEnter(me),r(me,V,B),Pn(()=>Ee.enter(me),se);else{const{leave:Ie,delayLeave:Fe,afterLeave:Ge}=Ee,Ke=()=>r(me,V,B),Y=()=>{Ie(me,()=>{Ke(),Ge&&Ge()})};Fe?Fe(me,Ke,Y):Y()}else r(me,V,B)},K=(D,V,B,oe=!1,se=!1)=>{const{type:me,props:Se,ref:Ee,children:Te,dynamicChildren:ge,shapeFlag:He,patchFlag:Ie,dirs:Fe,cacheIndex:Ge}=D;if(Ie===-2&&(se=!1),Ee!=null&&Dc(Ee,null,B,D,!0),Ge!=null&&(V.renderCache[Ge]=void 0),He&256){V.ctx.deactivate(D);return}const Ke=He&1&&Fe,Y=!io(D);let ae;if(Y&&(ae=Se&&Se.onVnodeBeforeUnmount)&&xr(ae,V,D),He&6)Z(D.component,B,oe);else{if(He&128){D.suspense.unmount(B,oe);return}Ke&&Ui(D,null,V,"beforeUnmount"),He&64?D.type.remove(D,V,B,ce,oe):ge&&!ge.hasOnce&&(me!==Ne||Ie>0&&Ie&64)?H(ge,V,B,!1,!0):(me===Ne&&Ie&384||!se&&He&16)&&H(Te,V,B),oe&&te(D)}(Y&&(ae=Se&&Se.onVnodeUnmounted)||Ke)&&Pn(()=>{ae&&xr(ae,V,D),Ke&&Ui(D,null,V,"unmounted")},B)},te=D=>{const{type:V,el:B,anchor:oe,transition:se}=D;if(V===Ne){he(B,oe);return}if(V===gl){S(D);return}const me=()=>{i(B),se&&!se.persisted&&se.afterLeave&&se.afterLeave()};if(D.shapeFlag&1&&se&&!se.persisted){const{leave:Se,delayLeave:Ee}=se,Te=()=>Se(B,me);Ee?Ee(D.el,me,Te):Te()}else me()},he=(D,V)=>{let B;for(;D!==V;)B=f(D),i(D),D=B;i(V)},Z=(D,V,B)=>{const{bum:oe,scope:se,job:me,subTree:Se,um:Ee,m:Te,a:ge}=D;yf(Te),yf(ge),oe&&fl(oe),se.stop(),me&&(me.flags|=8,K(Se,D,V,B)),Ee&&Pn(Ee,V),Pn(()=>{D.isUnmounted=!0},V),V&&V.pendingBranch&&!V.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===V.pendingId&&(V.deps--,V.deps===0&&V.resolve())},H=(D,V,B,oe=!1,se=!1,me=0)=>{for(let Se=me;Se<D.length;Se++)K(D[Se],V,B,oe,se)},Q=D=>{if(D.shapeFlag&6)return Q(D.component.subTree);if(D.shapeFlag&128)return D.suspense.next();const V=f(D.anchor||D.el),B=V&&V[PC];return B?f(B):V};let ie=!1;const X=(D,V,B)=>{D==null?V._vnode&&K(V._vnode,null,null,!0):b(V._vnode||null,D,V,null,null,null,B),V._vnode=D,ie||(ie=!0,Ow(),gf(),ie=!1)},ce={p:b,um:K,m:z,r:te,mt:q,mc:E,pc:U,pbc:v,n:Q,o:t};let be,ne;return e&&([be,ne]=e(ce)),{render:X,hydrate:be,createApp:pL(X,be)}}function Ym({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function No({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function tA(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function h_(t,e,n=!1){const r=t.children,i=e.children;if($e(r)&&$e(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Gs(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&h_(o,a)),a.type===Go&&(a.el=o.el)}}function IL(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function nA(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:nA(e)}function yf(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const SL=Symbol.for("v-scx"),CL=()=>kr(SL);function Une(t,e){return Ed(t,null,e)}function Bne(t,e){return Ed(t,null,{flush:"post"})}function AL(t,e){return Ed(t,null,{flush:"sync"})}function En(t,e,n){return Ed(t,e,n)}function Ed(t,e,n=mt){const{immediate:r,deep:i,flush:s,once:o}=n,a=zt({},n),l=e&&r||!e&&s!=="post";let u;if(Al){if(s==="sync"){const p=CL();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=ai,p.resume=ai,p.pause=ai,p}}const c=xn;a.call=(p,g,b)=>Ri(p,c,g,b);let h=!1;s==="post"?a.scheduler=p=>{Pn(p,c&&c.suspense)}:s!=="sync"&&(h=!0,a.scheduler=(p,g)=>{g?p():t_(p)}),a.augmentJob=p=>{e&&(p.flags|=4),h&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const f=NM(t,e,a);return Al&&(u?u.push(f):l&&f()),f}function OL(t,e,n){const r=this.proxy,i=Jt(t)?t.includes(".")?rA(r,t):()=>r[t]:t.bind(r,r);let s;Ze(e)?s=e:(s=e.handler,n=e);const o=ia(this),a=Ed(i,s.bind(r),n);return o(),a}function rA(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function jne(t,e,n=mt){const r=Zr(),i=vr(e),s=Lr(e),o=iA(t,i),a=AM((l,u)=>{let c,h=mt,f;return AL(()=>{const p=t[i];Cr(c,p)&&(c=p,u())}),{get(){return l(),n.get?n.get(c):c},set(p){const g=n.set?n.set(p):p;if(!Cr(g,c)&&!(h!==mt&&Cr(p,h)))return;const b=r.vnode.props;b&&(e in b||i in b||s in b)&&(`onUpdate:${e}`in b||`onUpdate:${i}`in b||`onUpdate:${s}`in b)||(c=p,u()),r.emit(`update:${e}`,g),Cr(p,g)&&Cr(p,h)&&!Cr(g,f)&&u(),h=p,f=g}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||mt:a,done:!1}:{done:!0}}}},a}const iA=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${vr(e)}Modifiers`]||t[`${Lr(e)}Modifiers`];function PL(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||mt;let i=n;const s=e.startsWith("update:"),o=s&&iA(r,e.slice(7));o&&(o.trim&&(i=n.map(c=>Jt(c)?c.trim():c)),o.number&&(i=n.map(uf)));let a,l=r[a=Hh(e)]||r[a=Hh(vr(e))];!l&&s&&(l=r[a=Hh(Lr(e))]),l&&Ri(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ri(u,t,6,i)}}function sA(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!Ze(t)){const l=u=>{const c=sA(u,e,!0);c&&(a=!0,zt(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(jt(t)&&r.set(t,null),null):($e(s)?s.forEach(l=>o[l]=null):zt(o,s),jt(t)&&r.set(t,o),o)}function Ap(t,e){return!t||!bd(e)?!1:(e=e.slice(2).replace(/Once$/,""),kt(t,e[0].toLowerCase()+e.slice(1))||kt(t,Lr(e))||kt(t,e))}function qh(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:f,setupState:p,ctx:g,inheritAttrs:b}=t,A=kc(t);let R,k;try{if(n.shapeFlag&4){const S=i||r,M=S;R=Mr(u.call(M,S,c,h,p,f,g)),k=a}else{const S=e;R=Mr(S.length>1?S(h,{attrs:a,slots:o,emit:l}):S(h,null)),k=e.props?a:RL(a)}}catch(S){rc.length=0,tu(S,t,1),R=et(Rn)}let T=R;if(k&&b!==!1){const S=Object.keys(k),{shapeFlag:M}=T;S.length&&M&7&&(s&&S.some(Hy)&&(k=DL(k,s)),T=Is(T,k,!1,!0))}return n.dirs&&(T=Is(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(n.dirs):n.dirs),n.transition&&mo(T,n.transition),R=T,kc(A),R}function kL(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(go(i)){if(i.type!==Rn||i.children==="v-if"){if(n)return;n=i}}else return}return n}const RL=t=>{let e;for(const n in t)(n==="class"||n==="style"||bd(n))&&((e||(e={}))[n]=t[n]);return e},DL=(t,e)=>{const n={};for(const r in t)(!Hy(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function xL(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Uw(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const f=c[h];if(o[f]!==r[f]&&!Ap(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Uw(r,o,u):!0:!!o;return!1}function Uw(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Ap(n,s))return!0}return!1}function Op({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const _f=t=>t.__isSuspense;let uv=0;const NL={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,o,a,l,u){if(t==null)ML(e,n,r,i,s,o,a,l,u);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}LL(t,e,n,r,i,o,a,l,u)}},hydrate:VL,normalize:FL},Hne=NL;function Nc(t,e){const n=t.props&&t.props[e];Ze(n)&&n()}function ML(t,e,n,r,i,s,o,a,l){const{p:u,o:{createElement:c}}=l,h=c("div"),f=t.suspense=oA(t,i,r,e,h,n,s,o,a,l);u(null,f.pendingBranch=t.ssContent,h,null,r,f,s,o),f.deps>0?(Nc(t,"onPending"),Nc(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,s,o),ml(f,t.ssFallback)):f.resolve(!1,!0)}function LL(t,e,n,r,i,s,o,a,{p:l,um:u,o:{createElement:c}}){const h=e.suspense=t.suspense;h.vnode=e,e.el=t.el;const f=e.ssContent,p=e.ssFallback,{activeBranch:g,pendingBranch:b,isInFallback:A,isHydrating:R}=h;if(b)h.pendingBranch=f,_i(f,b)?(l(b,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0?h.resolve():A&&(R||(l(g,p,n,r,i,null,s,o,a),ml(h,p)))):(h.pendingId=uv++,R?(h.isHydrating=!1,h.activeBranch=b):u(b,i,h),h.deps=0,h.effects.length=0,h.hiddenContainer=c("div"),A?(l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0?h.resolve():(l(g,p,n,r,i,null,s,o,a),ml(h,p))):g&&_i(f,g)?(l(g,f,n,r,i,h,s,o,a),h.resolve(!0)):(l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0&&h.resolve()));else if(g&&_i(f,g))l(g,f,n,r,i,h,s,o,a),ml(h,f);else if(Nc(e,"onPending"),h.pendingBranch=f,f.shapeFlag&512?h.pendingId=f.component.suspenseId:h.pendingId=uv++,l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0)h.resolve();else{const{timeout:k,pendingId:T}=h;k>0?setTimeout(()=>{h.pendingId===T&&h.fallback(p)},k):k===0&&h.fallback(p)}}function oA(t,e,n,r,i,s,o,a,l,u,c=!1){const{p:h,m:f,um:p,n:g,o:{parentNode:b,remove:A}}=u;let R;const k=$L(t);k&&e&&e.pendingBranch&&(R=e.pendingId,e.deps++);const T=t.props?cf(t.props.timeout):void 0,S=s,M={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:i,deps:0,pendingId:uv++,timeout:typeof T=="number"?T:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(L=!1,I=!1){const{vnode:E,activeBranch:y,pendingBranch:v,pendingId:w,effects:C,parentComponent:P,container:q}=M;let $=!1;M.isHydrating?M.isHydrating=!1:L||($=y&&v.transition&&v.transition.mode==="out-in",$&&(y.transition.afterLeave=()=>{w===M.pendingId&&(f(v,q,s===S?g(y):s,0),mf(C))}),y&&(b(y.el)===q&&(s=g(y)),p(y,P,M,!0)),$||f(v,q,s,0)),ml(M,v),M.pendingBranch=null,M.isInFallback=!1;let j=M.parent,F=!1;for(;j;){if(j.pendingBranch){j.effects.push(...C),F=!0;break}j=j.parent}!F&&!$&&mf(C),M.effects=[],k&&e&&e.pendingBranch&&R===e.pendingId&&(e.deps--,e.deps===0&&!I&&e.resolve()),Nc(E,"onResolve")},fallback(L){if(!M.pendingBranch)return;const{vnode:I,activeBranch:E,parentComponent:y,container:v,namespace:w}=M;Nc(I,"onFallback");const C=g(E),P=()=>{M.isInFallback&&(h(null,L,v,C,y,null,w,a,l),ml(M,L))},q=L.transition&&L.transition.mode==="out-in";q&&(E.transition.afterLeave=P),M.isInFallback=!0,p(E,y,null,!0),q||P()},move(L,I,E){M.activeBranch&&f(M.activeBranch,L,I,E),M.container=L},next(){return M.activeBranch&&g(M.activeBranch)},registerDep(L,I,E){const y=!!M.pendingBranch;y&&M.deps++;const v=L.vnode.el;L.asyncDep.catch(w=>{tu(w,L,0)}).then(w=>{if(L.isUnmounted||M.isUnmounted||M.pendingId!==L.suspenseId)return;L.asyncResolved=!0;const{vnode:C}=L;hv(L,w,!1),v&&(C.el=v);const P=!v&&L.subTree.el;I(L,C,b(v||L.subTree.el),v?null:g(L.subTree),M,o,E),P&&A(P),Op(L,C.el),y&&--M.deps===0&&M.resolve()})},unmount(L,I){M.isUnmounted=!0,M.activeBranch&&p(M.activeBranch,n,L,I),M.pendingBranch&&p(M.pendingBranch,n,L,I)}};return M}function VL(t,e,n,r,i,s,o,a,l){const u=e.suspense=oA(e,r,n,t.parentNode,document.createElement("div"),null,i,s,o,a,!0),c=l(t,u.pendingBranch=e.ssContent,n,u,s,o);return u.deps===0&&u.resolve(!1,!0),c}function FL(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=Bw(r?n.default:n),t.ssFallback=r?Bw(n.fallback):et(Rn)}function Bw(t){let e;if(Ze(t)){const n=ra&&t._c;n&&(t._d=!1,W()),t=t(),n&&(t._d=!0,e=pr,lA())}return $e(t)&&(t=kL(t)),t=Mr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function aA(t,e){e&&e.pendingBranch?$e(t)?e.effects.push(...t):e.effects.push(t):mf(t)}function ml(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,Op(r,i))}function $L(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Ne=Symbol.for("v-fgt"),Go=Symbol.for("v-txt"),Rn=Symbol.for("v-cmt"),gl=Symbol.for("v-stc"),rc=[];let pr=null;function W(t=!1){rc.push(pr=t?null:[])}function lA(){rc.pop(),pr=rc[rc.length-1]||null}let ra=1;function jw(t,e=!1){ra+=t,t<0&&pr&&e&&(pr.hasOnce=!0)}function uA(t){return t.dynamicChildren=ra>0?pr||cl:null,lA(),ra>0&&pr&&pr.push(t),t}function ee(t,e,n,r,i,s){return uA(Ce(t,e,n,r,i,s,!0))}function qe(t,e,n,r,i){return uA(et(t,e,n,r,i,!0))}function go(t){return t?t.__v_isVNode===!0:!1}function _i(t,e){return t.type===e.type&&t.key===e.key}function Wne(t){}const cA=({key:t})=>t??null,zh=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Jt(t)||an(t)||Ze(t)?{i:Mn,r:t,k:e,f:!!n}:t:null);function Ce(t,e=null,n=null,r=0,i=null,s=t===Ne?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&cA(e),ref:e&&zh(e),scopeId:Sp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Mn};return a?(f_(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Jt(n)?8:16),ra>0&&!o&&pr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&pr.push(l),l}const et=UL;function UL(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===UC)&&(t=Rn),go(t)){const a=Is(t,e,!0);return n&&f_(a,n),ra>0&&!s&&pr&&(a.shapeFlag&6?pr[pr.indexOf(t)]=a:pr.push(a)),a.patchFlag=-2,a}if(qL(t)&&(t=t.__vccOpts),e){e=Jn(e);let{class:a,style:l}=e;a&&!Jt(a)&&(e.class=tt(a)),jt(l)&&(Zy(l)&&!$e(l)&&(l=zt({},l)),e.style=Pr(l))}const o=Jt(t)?1:_f(t)?128:kC(t)?64:jt(t)?4:Ze(t)?2:0;return Ce(t,e,n,r,i,o,s,!0)}function Jn(t){return t?Zy(t)||KC(t)?zt({},t):t:null}function Is(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,u=e?pe(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&cA(u),ref:e&&e.ref?n&&s?$e(s)?s.concat(zh(e)):[s,zh(e)]:zh(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ne?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Is(t.ssContent),ssFallback:t.ssFallback&&Is(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&mo(c,l.clone(c)),c}function Dn(t=" ",e=0){return et(Go,null,t,e)}function qne(t,e){const n=et(gl,null,t);return n.staticCount=e,n}function de(t="",e=!1){return e?(W(),qe(Rn,null,t)):et(Rn,null,t)}function Mr(t){return t==null||typeof t=="boolean"?et(Rn):$e(t)?et(Ne,null,t.slice()):go(t)?Gs(t):et(Go,null,String(t))}function Gs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Is(t)}function f_(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if($e(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),f_(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!KC(e)?e._ctx=Mn:i===3&&Mn&&(Mn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ze(e)?(e={default:e,_ctx:Mn},n=32):(e=String(e),r&64?(n=16,e=[Dn(e)]):n=8);t.children=e,t.shapeFlag|=n}function pe(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=tt([e.class,r.class]));else if(i==="style")e.style=Pr([e.style,r.style]);else if(bd(i)){const s=e[i],o=r[i];o&&s!==o&&!($e(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function xr(t,e,n,r=null){Ri(t,e,7,[n,r])}const BL=WC();let jL=0;function dA(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||BL,s={uid:jL++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new nC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:GC(r,i),emitsOptions:sA(r,i),emit:null,emitted:null,propsDefaults:mt,inheritAttrs:r.inheritAttrs,ctx:mt,data:mt,props:mt,attrs:mt,slots:mt,refs:mt,setupState:mt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=PL.bind(null,s),t.ce&&t.ce(s),s}let xn=null;const Zr=()=>xn||Mn;let bf,cv;{const t=_p(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};bf=e("__VUE_INSTANCE_SETTERS__",n=>xn=n),cv=e("__VUE_SSR_SETTERS__",n=>Al=n)}const ia=t=>{const e=xn;return bf(t),t.scope.on(),()=>{t.scope.off(),bf(e)}},dv=()=>{xn&&xn.scope.off(),bf(null)};function hA(t){return t.vnode.shapeFlag&4}let Al=!1;function fA(t,e=!1,n=!1){e&&cv(e);const{props:r,children:i}=t.vnode,s=hA(t);gL(t,r,s,e),bL(t,i,n);const o=s?HL(t,e):void 0;return e&&cv(!1),o}function HL(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,sv);const{setup:r}=n;if(r){Eo();const i=t.setupContext=r.length>1?mA(t):null,s=ia(t),o=wd(r,t,0,[t.props,i]),a=qy(o);if(Io(),s(),(a||t.sp)&&!io(t)&&r_(t),a){if(o.then(dv,dv),e)return o.then(l=>{hv(t,l,e)}).catch(l=>{tu(l,t,0)});t.asyncDep=o}else hv(t,o,e)}else pA(t,e)}function hv(t,e,n){Ze(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:jt(e)&&(t.setupState=TC(e)),pA(t,n)}let wf,fv;function zne(t){wf=t,fv=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,aL))}}const Kne=()=>!wf;function pA(t,e,n){const r=t.type;if(!t.render){if(!e&&wf&&!r.render){const i=r.template||c_(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=zt(zt({isCustomElement:s,delimiters:a},o),l);r.render=wf(i,u)}}t.render=r.render||ai,fv&&fv(t)}{const i=ia(t);Eo();try{lL(t)}finally{Io(),i()}}}const WL={get(t,e){return lr(t,"get",""),t[e]}};function mA(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,WL),slots:t.slots,emit:t.emit,expose:e}}function Id(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(TC(e_(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in tc)return tc[n](t)},has(e,n){return n in e||n in tc}})):t.proxy}function pv(t,e=!0){return Ze(t)?t.displayName||t.name:t.name||e&&t.__name}function qL(t){return Ze(t)&&"__vccOpts"in t}const le=(t,e)=>DM(t,e,Al);function Ol(t,e,n){const r=arguments.length;return r===2?jt(e)&&!$e(e)?go(e)?et(t,null,[e]):et(t,e):et(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&go(n)&&(n=[n]),et(t,e,n))}function Yne(){}function Gne(t,e,n,r){const i=n[r];if(i&&zL(i,t))return i;const s=e();return s.memo=t.slice(),s.cacheIndex=r,n[r]=s}function zL(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(Cr(n[r],e[r]))return!1;return ra>0&&pr&&pr.push(t),!0}const KL="3.5.13",Qne=ai,Xne=VM,Jne=Ya,Zne=OC,YL={createComponentInstance:dA,setupComponent:fA,renderComponentRoot:qh,setCurrentRenderingInstance:kc,isVNode:go,normalizeVNode:Mr,getComponentPublicInstance:Id,ensureValidVNode:u_,pushWarningContext:MM,popWarningContext:LM},ere=YL,tre=null,nre=null,rre=null;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let mv;const Hw=typeof window<"u"&&window.trustedTypes;if(Hw)try{mv=Hw.createPolicy("vue",{createHTML:t=>t})}catch{}const gA=mv?t=>mv.createHTML(t):t=>t,GL="http://www.w3.org/2000/svg",QL="http://www.w3.org/1998/Math/MathML",cs=typeof document<"u"?document:null,Ww=cs&&cs.createElement("template"),XL={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?cs.createElementNS(GL,t):e==="mathml"?cs.createElementNS(QL,t):n?cs.createElement(t,{is:n}):cs.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>cs.createTextNode(t),createComment:t=>cs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>cs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Ww.innerHTML=gA(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Ww.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Fs="transition",Au="animation",Pl=Symbol("_vtc"),vA={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},yA=zt({},MC,vA),JL=t=>(t.displayName="Transition",t.props=yA,t),So=JL((t,{slots:e})=>Ol(jM,_A(t),e)),Mo=(t,e=[])=>{$e(t)?t.forEach(n=>n(...e)):t&&t(...e)},qw=t=>t?$e(t)?t.some(e=>e.length>1):t.length>1:!1;function _A(t){const e={};for(const C in t)C in vA||(e[C]=t[C]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,g=ZL(i),b=g&&g[0],A=g&&g[1],{onBeforeEnter:R,onEnter:k,onEnterCancelled:T,onLeave:S,onLeaveCancelled:M,onBeforeAppear:L=R,onAppear:I=k,onAppearCancelled:E=T}=e,y=(C,P,q,$)=>{C._enterCancelled=$,Ws(C,P?c:a),Ws(C,P?u:o),q&&q()},v=(C,P)=>{C._isLeaving=!1,Ws(C,h),Ws(C,p),Ws(C,f),P&&P()},w=C=>(P,q)=>{const $=C?I:k,j=()=>y(P,C,q);Mo($,[P,j]),zw(()=>{Ws(P,C?l:s),Vi(P,C?c:a),qw($)||Kw(P,r,b,j)})};return zt(e,{onBeforeEnter(C){Mo(R,[C]),Vi(C,s),Vi(C,o)},onBeforeAppear(C){Mo(L,[C]),Vi(C,l),Vi(C,u)},onEnter:w(!1),onAppear:w(!0),onLeave(C,P){C._isLeaving=!0;const q=()=>v(C,P);Vi(C,h),C._enterCancelled?(Vi(C,f),gv()):(gv(),Vi(C,f)),zw(()=>{C._isLeaving&&(Ws(C,h),Vi(C,p),qw(S)||Kw(C,r,A,q))}),Mo(S,[C,q])},onEnterCancelled(C){y(C,!1,void 0,!0),Mo(T,[C])},onAppearCancelled(C){y(C,!0,void 0,!0),Mo(E,[C])},onLeaveCancelled(C){v(C),Mo(M,[C])}})}function ZL(t){if(t==null)return null;if(jt(t))return[Gm(t.enter),Gm(t.leave)];{const e=Gm(t);return[e,e]}}function Gm(t){return cf(t)}function Vi(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Pl]||(t[Pl]=new Set)).add(e)}function Ws(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Pl];n&&(n.delete(e),n.size||(t[Pl]=void 0))}function zw(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let e2=0;function Kw(t,e,n,r){const i=t._endId=++e2,s=()=>{i===t._endId&&r()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=bA(t,e);if(!o)return r();const u=o+"end";let c=0;const h=()=>{t.removeEventListener(u,f),s()},f=p=>{p.target===t&&++c>=l&&h()};setTimeout(()=>{c<l&&h()},a+1),t.addEventListener(u,f)}function bA(t,e){const n=window.getComputedStyle(t),r=g=>(n[g]||"").split(", "),i=r(`${Fs}Delay`),s=r(`${Fs}Duration`),o=Yw(i,s),a=r(`${Au}Delay`),l=r(`${Au}Duration`),u=Yw(a,l);let c=null,h=0,f=0;e===Fs?o>0&&(c=Fs,h=o,f=s.length):e===Au?u>0&&(c=Au,h=u,f=l.length):(h=Math.max(o,u),c=h>0?o>u?Fs:Au:null,f=c?c===Fs?s.length:l.length:0);const p=c===Fs&&/\b(transform|all)(,|$)/.test(r(`${Fs}Property`).toString());return{type:c,timeout:h,propCount:f,hasTransform:p}}function Yw(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Gw(n)+Gw(t[r])))}function Gw(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function gv(){return document.body.offsetHeight}function t2(t,e,n){const r=t[Pl];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Tf=Symbol("_vod"),wA=Symbol("_vsh"),ic={beforeMount(t,{value:e},{transition:n}){t[Tf]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Ou(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Ou(t,!0),r.enter(t)):r.leave(t,()=>{Ou(t,!1)}):Ou(t,e))},beforeUnmount(t,{value:e}){Ou(t,e)}};function Ou(t,e){t.style.display=e?t[Tf]:"none",t[wA]=!e}function n2(){ic.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const TA=Symbol("");function ire(t){const e=Zr();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>Ef(s,i))},r=()=>{const i=t(e.proxy);e.ce?Ef(e.ce,i):vv(e.subTree,i),n(i)};i_(()=>{mf(r)}),vn(()=>{En(r,ai,{flush:"post"});const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),Ta(()=>i.disconnect())})}function vv(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{vv(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Ef(t.el,e);else if(t.type===Ne)t.children.forEach(n=>vv(n,e));else if(t.type===gl){let{el:n,anchor:r}=t;for(;n&&(Ef(n,e),n!==r);)n=n.nextSibling}}function Ef(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const i in e)n.setProperty(`--${i}`,e[i]),r+=`--${i}: ${e[i]};`;n[TA]=r}}const r2=/(^|;)\s*display\s*:/;function i2(t,e,n){const r=t.style,i=Jt(n);let s=!1;if(n&&!i){if(e)if(Jt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Kh(r,a,"")}else for(const o in e)n[o]==null&&Kh(r,o,"");for(const o in n)o==="display"&&(s=!0),Kh(r,o,n[o])}else if(i){if(e!==n){const o=r[TA];o&&(n+=";"+o),r.cssText=n,s=r2.test(n)}}else e&&t.removeAttribute("style");Tf in t&&(t[Tf]=s?r.display:"",t[wA]&&(r.display="none"))}const Qw=/\s*!important$/;function Kh(t,e,n){if($e(n))n.forEach(r=>Kh(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=s2(t,e);Qw.test(n)?t.setProperty(Lr(r),n.replace(Qw,""),"important"):t[r]=n}}const Xw=["Webkit","Moz","ms"],Qm={};function s2(t,e){const n=Qm[e];if(n)return n;let r=vr(e);if(r!=="filter"&&r in t)return Qm[e]=r;r=yp(r);for(let i=0;i<Xw.length;i++){const s=Xw[i]+r;if(s in t)return Qm[e]=s}return e}const Jw="http://www.w3.org/1999/xlink";function Zw(t,e,n,r,i,s=rM(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Jw,e.slice(6,e.length)):t.setAttributeNS(Jw,e,n):n==null||s&&!ZS(n)?t.removeAttribute(e):t.setAttribute(e,s?"":ki(n)?String(n):n)}function eT(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?gA(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=ZS(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function fs(t,e,n,r){t.addEventListener(e,n,r)}function o2(t,e,n,r){t.removeEventListener(e,n,r)}const tT=Symbol("_vei");function a2(t,e,n,r,i=null){const s=t[tT]||(t[tT]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=l2(e);if(r){const u=s[e]=d2(r,i);fs(t,a,u,l)}else o&&(o2(t,a,o,l),s[e]=void 0)}}const nT=/(?:Once|Passive|Capture)$/;function l2(t){let e;if(nT.test(t)){e={};let r;for(;r=t.match(nT);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Lr(t.slice(2)),e]}let Xm=0;const u2=Promise.resolve(),c2=()=>Xm||(u2.then(()=>Xm=0),Xm=Date.now());function d2(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ri(h2(r,n.value),e,5,[r])};return n.value=t,n.attached=c2(),n}function h2(t,e){if($e(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const rT=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,f2=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?t2(t,r,o):e==="style"?i2(t,n,r):bd(e)?Hy(e)||a2(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):p2(t,e,r,o))?(eT(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Zw(t,e,r,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Jt(r))?eT(t,vr(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Zw(t,e,r,o))};function p2(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&rT(e)&&Ze(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return rT(e)&&Jt(n)?!1:e in t}const iT={};/*! #__NO_SIDE_EFFECTS__ */function m2(t,e,n){const r=Kt(t,e);gp(r)&&zt(r,e);class i extends p_{constructor(o){super(r,o,n)}}return i.def=r,i}/*! #__NO_SIDE_EFFECTS__ */const sre=(t,e)=>m2(t,e,D2),g2=typeof HTMLElement<"u"?HTMLElement:class{};class p_ extends g2{constructor(e,n={},r=_v){super(),this._def=e,this._props=n,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==_v?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof p_){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,jn(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,i=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:s,styles:o}=r;let a;if(s&&!$e(s))for(const l in s){const u=s[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=cf(this._props[l])),(a||(a=Object.create(null)))[vr(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this.shadowRoot&&this._applyStyles(o),this._mount(r)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(r=>e(this._def=r,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const r in n)kt(this,r)||Object.defineProperty(this,r,{get:()=>G(n[r])})}_resolveProps(e){const{props:n}=e,r=$e(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i]);for(const i of r.map(vr))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let r=n?this.getAttribute(e):iT;const i=vr(e);n&&this._numberProps&&this._numberProps[i]&&(r=cf(r)),this._setProp(i,r,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!1){if(n!==this._props[e]&&(n===iT?delete this._props[e]:(this._props[e]=n,e==="key"&&this._app&&(this._app._ceVNode.key=n)),i&&this._instance&&this._update(),r)){const s=this._ob;s&&s.disconnect(),n===!0?this.setAttribute(Lr(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Lr(e),n+""):n||this.removeAttribute(Lr(e)),s&&s.observe(this,{attributes:!0})}}_update(){Mc(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=et(this._def,zt(e,this._props));return this._instance||(n.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const i=(s,o)=>{this.dispatchEvent(new CustomEvent(s,gp(o[0])?zt({detail:o},o[0]):{detail:o}))};r.emit=(s,...o)=>{i(s,o),Lr(s)!==s&&i(Lr(s),o)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const r=this._nonce;for(let i=e.length-1;i>=0;i--){const s=document.createElement("style");r&&s.setAttribute("nonce",r),s.textContent=e[i],this.shadowRoot.prepend(s)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const r=n.nodeType===1&&n.getAttribute("slot")||"default";(e[r]||(e[r]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let r=0;r<e.length;r++){const i=e[r],s=i.getAttribute("name")||"default",o=this._slots[s],a=i.parentNode;if(o)for(const l of o){if(n&&l.nodeType===1){const u=n+"-s",c=document.createTreeWalker(l,1);l.setAttribute(u,"");let h;for(;h=c.nextNode();)h.setAttribute(u,"")}a.insertBefore(l,i)}else for(;i.firstChild;)a.insertBefore(i.firstChild,i);a.removeChild(i)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function v2(t){const e=Zr(),n=e&&e.ce;return n||null}function ore(){const t=v2();return t&&t.shadowRoot}function are(t="$style"){{const e=Zr();if(!e)return mt;const n=e.type.__cssModules;if(!n)return mt;const r=n[t];return r||mt}}const EA=new WeakMap,IA=new WeakMap,If=Symbol("_moveCb"),sT=Symbol("_enterCb"),y2=t=>(delete t.props.mode,t),_2=y2({name:"TransitionGroup",props:zt({},yA,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Zr(),r=NC();let i,s;return s_(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!I2(i[0].el,n.vnode.el,o))return;i.forEach(w2),i.forEach(T2);const a=i.filter(E2);gv(),a.forEach(l=>{const u=l.el,c=u.style;Vi(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const h=u[If]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",h),u[If]=null,Ws(u,o))};u.addEventListener("transitionend",h)})}),()=>{const o=pt(t),a=_A(o);let l=o.tag||Ne;if(i=[],s)for(let u=0;u<s.length;u++){const c=s[u];c.el&&c.el instanceof Element&&(i.push(c),mo(c,Rc(c,a,r,n)),EA.set(c,c.el.getBoundingClientRect()))}s=e.default?n_(e.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&mo(c,Rc(c,a,r,n))}return et(l,null,s)}}}),b2=_2;function w2(t){const e=t.el;e[If]&&e[If](),e[sT]&&e[sT]()}function T2(t){IA.set(t,t.el.getBoundingClientRect())}function E2(t){const e=EA.get(t),n=IA.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function I2(t,e,n){const r=t.cloneNode(),i=t[Pl];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:o}=bA(r);return s.removeChild(r),o}const vo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return $e(e)?n=>fl(e,n):e};function S2(t){t.target.composing=!0}function oT(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ui=Symbol("_assign"),yv={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[ui]=vo(i);const s=r||i.props&&i.props.type==="number";fs(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=uf(a)),t[ui](a)}),n&&fs(t,"change",()=>{t.value=t.value.trim()}),e||(fs(t,"compositionstart",S2),fs(t,"compositionend",oT),fs(t,"change",oT))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(t[ui]=vo(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?uf(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},SA={deep:!0,created(t,e,n){t[ui]=vo(n),fs(t,"change",()=>{const r=t._modelValue,i=kl(t),s=t.checked,o=t[ui];if($e(r)){const a=bp(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const u=[...r];u.splice(a,1),o(u)}}else if(wa(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(AA(t,s))})},mounted:aT,beforeUpdate(t,e,n){t[ui]=vo(n),aT(t,e,n)}};function aT(t,{value:e,oldValue:n},r){t._modelValue=e;let i;if($e(e))i=bp(e,r.props.value)>-1;else if(wa(e))i=e.has(r.props.value);else{if(e===n)return;i=po(e,AA(t,!0))}t.checked!==i&&(t.checked=i)}const CA={created(t,{value:e},n){t.checked=po(e,n.props.value),t[ui]=vo(n),fs(t,"change",()=>{t[ui](kl(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[ui]=vo(r),e!==n&&(t.checked=po(e,r.props.value))}},C2={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=wa(e);fs(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?uf(kl(o)):kl(o));t[ui](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,jn(()=>{t._assigning=!1})}),t[ui]=vo(r)},mounted(t,{value:e}){lT(t,e)},beforeUpdate(t,e,n){t[ui]=vo(n)},updated(t,{value:e}){t._assigning||lT(t,e)}};function lT(t,e){const n=t.multiple,r=$e(e);if(!(n&&!r&&!wa(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],a=kl(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=bp(e,a)>-1}else o.selected=e.has(a);else if(po(kl(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function kl(t){return"_value"in t?t._value:t.value}function AA(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const A2={created(t,e,n){_h(t,e,n,null,"created")},mounted(t,e,n){_h(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){_h(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){_h(t,e,n,r,"updated")}};function OA(t,e){switch(t){case"SELECT":return C2;case"TEXTAREA":return yv;default:switch(e){case"checkbox":return SA;case"radio":return CA;default:return yv}}}function _h(t,e,n,r,i){const o=OA(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,r)}function O2(){yv.getSSRProps=({value:t})=>({value:t}),CA.getSSRProps=({value:t},e)=>{if(e.props&&po(e.props.value,t))return{checked:!0}},SA.getSSRProps=({value:t},e)=>{if($e(t)){if(e.props&&bp(t,e.props.value)>-1)return{checked:!0}}else if(wa(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},A2.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=OA(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const P2=["ctrl","shift","alt","meta"],k2={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>P2.some(n=>t[`${n}Key`]&&!e.includes(n))},Lt=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<e.length;o++){const a=k2[e[o]];if(a&&a(i,e))return}return t(i,...s)})},R2={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},at=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=Lr(i.key);if(e.some(o=>o===s||R2[o]===s))return t(i)})},PA=zt({patchProp:f2},XL);let sc,uT=!1;function kA(){return sc||(sc=TL(PA))}function RA(){return sc=uT?sc:EL(PA),uT=!0,sc}const Mc=(...t)=>{kA().render(...t)},lre=(...t)=>{RA().hydrate(...t)},_v=(...t)=>{const e=kA().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=xA(r);if(!i)return;const s=e._component;!Ze(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,DA(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},D2=(...t)=>{const e=RA().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=xA(r);if(i)return n(i,!0,DA(i))},e};function DA(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function xA(t){return Jt(t)?document.querySelector(t):t}let cT=!1;const ure=()=>{cT||(cT=!0,O2(),n2())};function x2(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(i){i(n)}),(r=t.get("*"))&&r.slice().map(function(i){i(e,n)})}}}const Sf=x2();let dT=0;const N2=()=>{const t=dT;return dT+=1,t},NA=()=>(t,e)=>{const n={...t,id:N2(),group:t.group||""};return Sf.emit("notify",{notification:n,timeout:e}),()=>Sf.emit("close",n.id)},MA="context",bv=Kt({__name:"Notification",props:{maxNotifications:{default:10},enter:{default:""},enterFrom:{default:""},enterTo:{default:""},leave:{default:""},leaveFrom:{default:""},leaveTo:{default:""},move:{default:""},moveDelay:{default:""}},emits:["close"],setup(t,{emit:e}){const n=t,r=e,i=kr(MA),s=Rr({notifications:[],timeouts:{}}),o=le(()=>s.notifications.filter(p=>p.group===i.group)),a=le(()=>i.position==="bottom"?[...o.value]:[...o.value].reverse()),l=(p,g)=>{s.timeouts[p]=window.setTimeout(()=>{g!==-1&&u(p)},Math.max(g||3e3,0))},u=p=>{s.notifications.splice(s.notifications.findIndex(g=>g.id===p),1),clearTimeout(s.timeouts[p])},c=({notification:p,timeout:g})=>{s.notifications.length!==n.maxNotifications&&(s.notifications.push(p),l(p.id,g))},h=p=>{r("close"),u(p)},f=(p,g,b)=>{g?clearTimeout(s.timeouts[p]):l(p,b)};return vn(()=>{Sf.on("notify",c),Sf.on("close",u)}),(p,g)=>(W(),qe(b2,{"enter-active-class":o.value.length>1?[n.enter,n.moveDelay].join(" "):n.enter,"enter-from-class":n.enterFrom,"enter-to-class":n.enterTo,"leave-active-class":n.leave,"leave-from-class":n.leaveFrom,"leave-to-class":n.leaveTo,"move-class":n.move},{default:Qe(()=>[_e(p.$slots,"default",{notifications:a.value,close:h,hovering:f})]),_:3},8,["enter-active-class","enter-from-class","enter-to-class","leave-active-class","leave-from-class","leave-to-class","move-class"]))}}),hT=Kt({inheritAttrs:!1,__name:"NotificationGroup",props:{group:{default:""},position:{default:"top"}},setup(t){const e=t;return nc(MA,{group:e.group,position:e.position}),(n,r)=>_e(n.$slots,"default",{group:n.group})}});function M2(t){t.config.globalProperties.$notify=NA(),t.component("Notification",bv),t.component("NotificationGroup",hT),t.component("notification",bv),t.component("notificationGroup",hT)}const L2={install:M2},V2=NA(),F2={class:"px-4 py-2 -mx-3"},$2={class:"mx-3"},U2={class:"font-semibold text-white"},B2={class:"text-sm text-gray-100"},Jm=Kt({__name:"Notification",props:{type:{},color:{}},setup(t){return(e,n)=>(W(),qe(G(bv),{enter:"transform ease-out duration-300 transition","enter-from":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-4","enter-to":"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-500","leave-from":"opacity-100","leave-to":"opacity-0",move:"transition duration-500","move-delay":"delay-300"},{default:Qe(({notifications:r})=>[(W(!0),ee(Ne,null,Ft(r,i=>(W(),ee("div",{key:i.id},[i.type===e.type?(W(),ee("div",{key:0,class:tt("flex w-full max-w-sm mx-auto mt-4 overflow-hidden bg-opacity-75 rounded-primary shadow-md "+e.color)},[Ce("div",F2,[Ce("div",$2,[Ce("span",U2,dt(i.title),1),Ce("p",B2,dt(i.text),1)])])],2)):de("",!0)]))),128))]),_:1}))}}),j2={class:"fixed inset-0 flex items-end justify-center p-6 px-4 py-6 pointer-events-none"},H2={class:"w-full max-w-sm"},W2=Kt({__name:"NotificationGroup",setup(t){return(e,n)=>{const r=zr("NotificationGroup",!0);return W(),qe(r,null,{default:Qe(()=>[Ce("div",j2,[Ce("div",H2,[et(Jm,{type:"error",color:"bg-red-800"}),et(Jm,{type:"warning",color:"bg-yellow-800"}),et(Jm,{type:"success",color:"bg-green-800"})])])]),_:1})}}});/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Ga=typeof document<"u";function LA(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function q2(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&LA(t.default)}const Mt=Object.assign;function Zm(t,e){const n={};for(const r in e){const i=e[r];n[r]=Di(i)?i.map(t):t(i)}return n}const oc=()=>{},Di=Array.isArray,VA=/#/g,z2=/&/g,K2=/\//g,Y2=/=/g,G2=/\?/g,FA=/\+/g,Q2=/%5B/g,X2=/%5D/g,$A=/%5E/g,J2=/%60/g,UA=/%7B/g,Z2=/%7C/g,BA=/%7D/g,eV=/%20/g;function m_(t){return encodeURI(""+t).replace(Z2,"|").replace(Q2,"[").replace(X2,"]")}function tV(t){return m_(t).replace(UA,"{").replace(BA,"}").replace($A,"^")}function wv(t){return m_(t).replace(FA,"%2B").replace(eV,"+").replace(VA,"%23").replace(z2,"%26").replace(J2,"`").replace(UA,"{").replace(BA,"}").replace($A,"^")}function nV(t){return wv(t).replace(Y2,"%3D")}function rV(t){return m_(t).replace(VA,"%23").replace(G2,"%3F")}function iV(t){return t==null?"":rV(t).replace(K2,"%2F")}function Lc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const sV=/\/$/,oV=t=>t.replace(sV,"");function eg(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=cV(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:Lc(o)}}function aV(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function fT(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function lV(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Rl(e.matched[r],n.matched[i])&&jA(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Rl(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function jA(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!uV(t[n],e[n]))return!1;return!0}function uV(t,e){return Di(t)?pT(t,e):Di(e)?pT(e,t):t===e}function pT(t,e){return Di(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function cV(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const $s={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Vc;(function(t){t.pop="pop",t.push="push"})(Vc||(Vc={}));var ac;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ac||(ac={}));function dV(t){if(!t)if(Ga){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),oV(t)}const hV=/^[^#]+#/;function fV(t,e){return t.replace(hV,"#")+e}function pV(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Pp=()=>({left:window.scrollX,top:window.scrollY});function mV(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=pV(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function mT(t,e){return(history.state?history.state.position-e:-1)+t}const Tv=new Map;function gV(t,e){Tv.set(t,e)}function vV(t){const e=Tv.get(t);return Tv.delete(t),e}let yV=()=>location.protocol+"//"+location.host;function HA(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),fT(l,"")}return fT(n,t)+r+i}function _V(t,e,n,r){let i=[],s=[],o=null;const a=({state:f})=>{const p=HA(t,location),g=n.value,b=e.value;let A=0;if(f){if(n.value=p,e.value=f,o&&o===g){o=null;return}A=b?f.position-b.position:0}else r(p);i.forEach(R=>{R(n.value,g,{delta:A,type:Vc.pop,direction:A?A>0?ac.forward:ac.back:ac.unknown})})};function l(){o=n.value}function u(f){i.push(f);const p=()=>{const g=i.indexOf(f);g>-1&&i.splice(g,1)};return s.push(p),p}function c(){const{history:f}=window;f.state&&f.replaceState(Mt({},f.state,{scroll:Pp()}),"")}function h(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function gT(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Pp():null}}function bV(t){const{history:e,location:n}=window,r={value:HA(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:yV()+t+l;try{e[c?"replaceState":"pushState"](u,"",f),i.value=u}catch(p){console.error(p),n[c?"replace":"assign"](f)}}function o(l,u){const c=Mt({},e.state,gT(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=Mt({},i.value,e.state,{forward:l,scroll:Pp()});s(c.current,c,!0);const h=Mt({},gT(r.value,l,null),{position:c.position+1},u);s(l,h,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function wV(t){t=dV(t);const e=bV(t),n=_V(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=Mt({location:"",base:t,go:r,createHref:fV.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function TV(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),wV(t)}function EV(t){return typeof t=="string"||t&&typeof t=="object"}function WA(t){return typeof t=="string"||typeof t=="symbol"}const qA=Symbol("");var vT;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(vT||(vT={}));function Dl(t,e){return Mt(new Error,{type:t,[qA]:!0},e)}function ls(t,e){return t instanceof Error&&qA in t&&(e==null||!!(t.type&e))}const yT="[^/]+?",IV={sensitive:!1,strict:!1,start:!0,end:!0},SV=/[.+*?^${}()[\]/\\]/g;function CV(t,e){const n=Mt({},IV,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let h=0;h<u.length;h++){const f=u[h];let p=40+(n.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(SV,"\\$&"),p+=40;else if(f.type===1){const{value:g,repeatable:b,optional:A,regexp:R}=f;s.push({name:g,repeatable:b,optional:A});const k=R||yT;if(k!==yT){p+=10;try{new RegExp(`(${k})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${g}" (${k}): `+S.message)}}let T=b?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;h||(T=A&&u.length<2?`(?:/${T})`:"/"+T),A&&(T+="?"),i+=T,p+=20,A&&(p+=-8),b&&(p+=-20),k===".*"&&(p+=-50)}c.push(p)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let f=1;f<c.length;f++){const p=c[f]||"",g=s[f-1];h[g.name]=p&&g.repeatable?p.split("/"):p}return h}function l(u){let c="",h=!1;for(const f of t){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const p of f)if(p.type===0)c+=p.value;else if(p.type===1){const{value:g,repeatable:b,optional:A}=p,R=g in u?u[g]:"";if(Di(R)&&!b)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const k=Di(R)?R.join("/"):R;if(!k)if(A)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);c+=k}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function AV(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function zA(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=AV(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(_T(r))return 1;if(_T(i))return-1}return i.length-r.length}function _T(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const OV={type:0,value:""},PV=/[a-zA-Z0-9_]/;function kV(t){if(!t)return[[]];if(t==="/")return[[OV]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${u}": ${p}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function h(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:PV.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),i}function RV(t,e,n){const r=CV(kV(t.path),n),i=Mt(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function DV(t,e){const n=[],r=new Map;e=ET({strict:!1,end:!0,sensitive:!1},e);function i(h){return r.get(h)}function s(h,f,p){const g=!p,b=wT(h);b.aliasOf=p&&p.record;const A=ET(e,h),R=[b];if("alias"in h){const S=typeof h.alias=="string"?[h.alias]:h.alias;for(const M of S)R.push(wT(Mt({},b,{components:p?p.record.components:b.components,path:M,aliasOf:p?p.record:b})))}let k,T;for(const S of R){const{path:M}=S;if(f&&M[0]!=="/"){const L=f.record.path,I=L[L.length-1]==="/"?"":"/";S.path=f.record.path+(M&&I+M)}if(k=RV(S,f,A),p?p.alias.push(k):(T=T||k,T!==k&&T.alias.push(k),g&&h.name&&!TT(k)&&o(h.name)),KA(k)&&l(k),b.children){const L=b.children;for(let I=0;I<L.length;I++)s(L[I],k,p&&p.children[I])}p=p||k}return T?()=>{o(T)}:oc}function o(h){if(WA(h)){const f=r.get(h);f&&(r.delete(h),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(h);f>-1&&(n.splice(f,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return n}function l(h){const f=MV(h,n);n.splice(f,0,h),h.record.name&&!TT(h)&&r.set(h.record.name,h)}function u(h,f){let p,g={},b,A;if("name"in h&&h.name){if(p=r.get(h.name),!p)throw Dl(1,{location:h});A=p.record.name,g=Mt(bT(f.params,p.keys.filter(T=>!T.optional).concat(p.parent?p.parent.keys.filter(T=>T.optional):[]).map(T=>T.name)),h.params&&bT(h.params,p.keys.map(T=>T.name))),b=p.stringify(g)}else if(h.path!=null)b=h.path,p=n.find(T=>T.re.test(b)),p&&(g=p.parse(b),A=p.record.name);else{if(p=f.name?r.get(f.name):n.find(T=>T.re.test(f.path)),!p)throw Dl(1,{location:h,currentLocation:f});A=p.record.name,g=Mt({},f.params,h.params),b=p.stringify(g)}const R=[];let k=p;for(;k;)R.unshift(k.record),k=k.parent;return{name:A,path:b,params:g,matched:R,meta:NV(R)}}t.forEach(h=>s(h));function c(){n.length=0,r.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:i}}function bT(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function wT(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:xV(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function xV(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function TT(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function NV(t){return t.reduce((e,n)=>Mt(e,n.meta),{})}function ET(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function MV(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;zA(t,e[s])<0?r=s:n=s+1}const i=LV(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function LV(t){let e=t;for(;e=e.parent;)if(KA(e)&&zA(t,e)===0)return e}function KA({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function VV(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(FA," "),o=s.indexOf("="),a=Lc(o<0?s:s.slice(0,o)),l=o<0?null:Lc(s.slice(o+1));if(a in e){let u=e[a];Di(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function IT(t){let e="";for(let n in t){const r=t[n];if(n=nV(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Di(r)?r.map(s=>s&&wv(s)):[r&&wv(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function FV(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Di(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const $V=Symbol(""),ST=Symbol(""),kp=Symbol(""),g_=Symbol(""),Ev=Symbol("");function Pu(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Qs(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(Dl(4,{from:n,to:e})):f instanceof Error?l(f):EV(f)?l(Dl(2,{from:e,to:f})):(o&&r.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},c=s(()=>t.call(r&&r.instances[i],e,n,u));let h=Promise.resolve(c);t.length<3&&(h=h.then(u)),h.catch(f=>l(f))})}function tg(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(LA(l)){const c=(l.__vccOpts||l)[e];c&&s.push(Qs(c,n,r,o,a,i))}else{let u=l();s.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=q2(c)?c.default:c;o.mods[a]=c,o.components[a]=h;const p=(h.__vccOpts||h)[e];return p&&Qs(p,n,r,o,a,i)()}))}}return s}function CT(t){const e=kr(kp),n=kr(g_),r=le(()=>{const l=G(t.to);return e.resolve(l)}),i=le(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=n.matched;if(!c||!h.length)return-1;const f=h.findIndex(Rl.bind(null,c));if(f>-1)return f;const p=AT(l[u-2]);return u>1&&AT(c)===p&&h[h.length-1].path!==p?h.findIndex(Rl.bind(null,l[u-2])):f}),s=le(()=>i.value>-1&&WV(n.params,r.value.params)),o=le(()=>i.value>-1&&i.value===n.matched.length-1&&jA(n.params,r.value.params));function a(l={}){if(HV(l)){const u=e[G(t.replace)?"replace":"push"](G(t.to)).catch(oc);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:le(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}function UV(t){return t.length===1?t[0]:t}const BV=Kt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:CT,setup(t,{slots:e}){const n=Rr(CT(t)),{options:r}=kr(kp),i=le(()=>({[OT(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[OT(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&UV(e.default(n));return t.custom?s:Ol("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),jV=BV;function HV(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function WV(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Di(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function AT(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const OT=(t,e,n)=>t??e??n,qV=Kt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=kr(Ev),i=le(()=>t.route||r.value),s=kr(ST,0),o=le(()=>{let u=G(s);const{matched:c}=i.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=le(()=>i.value.matched[o.value]);nc(ST,le(()=>o.value+1)),nc($V,a),nc(Ev,i);const l=fe();return En(()=>[l.value,a.value,t.name],([u,c,h],[f,p,g])=>{c&&(c.instances[h]=u,p&&p!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!Rl(c,p)||!f)&&(c.enterCallbacks[h]||[]).forEach(b=>b(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,h=a.value,f=h&&h.components[c];if(!f)return PT(n.default,{Component:f,route:u});const p=h.props[c],g=p?p===!0?u.params:typeof p=="function"?p(u):p:null,A=Ol(f,Mt({},g,e,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return PT(n.default,{Component:A,route:u})||A}}});function PT(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const YA=qV;function zV(t){const e=DV(t.routes,t),n=t.parseQuery||VV,r=t.stringifyQuery||IT,i=t.history,s=Pu(),o=Pu(),a=Pu(),l=bC($s);let u=$s;Ga&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Zm.bind(null,Q=>""+Q),h=Zm.bind(null,iV),f=Zm.bind(null,Lc);function p(Q,ie){let X,ce;return WA(Q)?(X=e.getRecordMatcher(Q),ce=ie):ce=Q,e.addRoute(ce,X)}function g(Q){const ie=e.getRecordMatcher(Q);ie&&e.removeRoute(ie)}function b(){return e.getRoutes().map(Q=>Q.record)}function A(Q){return!!e.getRecordMatcher(Q)}function R(Q,ie){if(ie=Mt({},ie||l.value),typeof Q=="string"){const V=eg(n,Q,ie.path),B=e.resolve({path:V.path},ie),oe=i.createHref(V.fullPath);return Mt(V,B,{params:f(B.params),hash:Lc(V.hash),redirectedFrom:void 0,href:oe})}let X;if(Q.path!=null)X=Mt({},Q,{path:eg(n,Q.path,ie.path).path});else{const V=Mt({},Q.params);for(const B in V)V[B]==null&&delete V[B];X=Mt({},Q,{params:h(V)}),ie.params=h(ie.params)}const ce=e.resolve(X,ie),be=Q.hash||"";ce.params=c(f(ce.params));const ne=aV(r,Mt({},Q,{hash:tV(be),path:ce.path})),D=i.createHref(ne);return Mt({fullPath:ne,hash:be,query:r===IT?FV(Q.query):Q.query||{}},ce,{redirectedFrom:void 0,href:D})}function k(Q){return typeof Q=="string"?eg(n,Q,l.value.path):Mt({},Q)}function T(Q,ie){if(u!==Q)return Dl(8,{from:ie,to:Q})}function S(Q){return I(Q)}function M(Q){return S(Mt(k(Q),{replace:!0}))}function L(Q){const ie=Q.matched[Q.matched.length-1];if(ie&&ie.redirect){const{redirect:X}=ie;let ce=typeof X=="function"?X(Q):X;return typeof ce=="string"&&(ce=ce.includes("?")||ce.includes("#")?ce=k(ce):{path:ce},ce.params={}),Mt({query:Q.query,hash:Q.hash,params:ce.path!=null?{}:Q.params},ce)}}function I(Q,ie){const X=u=R(Q),ce=l.value,be=Q.state,ne=Q.force,D=Q.replace===!0,V=L(X);if(V)return I(Mt(k(V),{state:typeof V=="object"?Mt({},be,V.state):be,force:ne,replace:D}),ie||X);const B=X;B.redirectedFrom=ie;let oe;return!ne&&lV(r,ce,X)&&(oe=Dl(16,{to:B,from:ce}),z(ce,ce,!0,!1)),(oe?Promise.resolve(oe):v(B,ce)).catch(se=>ls(se)?ls(se,2)?se:O(se):U(se,B,ce)).then(se=>{if(se){if(ls(se,2))return I(Mt({replace:D},k(se.to),{state:typeof se.to=="object"?Mt({},be,se.to.state):be,force:ne}),ie||B)}else se=C(B,ce,!0,D,be);return w(B,ce,se),se})}function E(Q,ie){const X=T(Q,ie);return X?Promise.reject(X):Promise.resolve()}function y(Q){const ie=he.values().next().value;return ie&&typeof ie.runWithContext=="function"?ie.runWithContext(Q):Q()}function v(Q,ie){let X;const[ce,be,ne]=KV(Q,ie);X=tg(ce.reverse(),"beforeRouteLeave",Q,ie);for(const V of ce)V.leaveGuards.forEach(B=>{X.push(Qs(B,Q,ie))});const D=E.bind(null,Q,ie);return X.push(D),H(X).then(()=>{X=[];for(const V of s.list())X.push(Qs(V,Q,ie));return X.push(D),H(X)}).then(()=>{X=tg(be,"beforeRouteUpdate",Q,ie);for(const V of be)V.updateGuards.forEach(B=>{X.push(Qs(B,Q,ie))});return X.push(D),H(X)}).then(()=>{X=[];for(const V of ne)if(V.beforeEnter)if(Di(V.beforeEnter))for(const B of V.beforeEnter)X.push(Qs(B,Q,ie));else X.push(Qs(V.beforeEnter,Q,ie));return X.push(D),H(X)}).then(()=>(Q.matched.forEach(V=>V.enterCallbacks={}),X=tg(ne,"beforeRouteEnter",Q,ie,y),X.push(D),H(X))).then(()=>{X=[];for(const V of o.list())X.push(Qs(V,Q,ie));return X.push(D),H(X)}).catch(V=>ls(V,8)?V:Promise.reject(V))}function w(Q,ie,X){a.list().forEach(ce=>y(()=>ce(Q,ie,X)))}function C(Q,ie,X,ce,be){const ne=T(Q,ie);if(ne)return ne;const D=ie===$s,V=Ga?history.state:{};X&&(ce||D?i.replace(Q.fullPath,Mt({scroll:D&&V&&V.scroll},be)):i.push(Q.fullPath,be)),l.value=Q,z(Q,ie,X,D),O()}let P;function q(){P||(P=i.listen((Q,ie,X)=>{if(!Z.listening)return;const ce=R(Q),be=L(ce);if(be){I(Mt(be,{replace:!0,force:!0}),ce).catch(oc);return}u=ce;const ne=l.value;Ga&&gV(mT(ne.fullPath,X.delta),Pp()),v(ce,ne).catch(D=>ls(D,12)?D:ls(D,2)?(I(Mt(k(D.to),{force:!0}),ce).then(V=>{ls(V,20)&&!X.delta&&X.type===Vc.pop&&i.go(-1,!1)}).catch(oc),Promise.reject()):(X.delta&&i.go(-X.delta,!1),U(D,ce,ne))).then(D=>{D=D||C(ce,ne,!1),D&&(X.delta&&!ls(D,8)?i.go(-X.delta,!1):X.type===Vc.pop&&ls(D,20)&&i.go(-1,!1)),w(ce,ne,D)}).catch(oc)}))}let $=Pu(),j=Pu(),F;function U(Q,ie,X){O(Q);const ce=j.list();return ce.length?ce.forEach(be=>be(Q,ie,X)):console.error(Q),Promise.reject(Q)}function x(){return F&&l.value!==$s?Promise.resolve():new Promise((Q,ie)=>{$.add([Q,ie])})}function O(Q){return F||(F=!Q,q(),$.list().forEach(([ie,X])=>Q?X(Q):ie()),$.reset()),Q}function z(Q,ie,X,ce){const{scrollBehavior:be}=t;if(!Ga||!be)return Promise.resolve();const ne=!X&&vV(mT(Q.fullPath,0))||(ce||!X)&&history.state&&history.state.scroll||null;return jn().then(()=>be(Q,ie,ne)).then(D=>D&&mV(D)).catch(D=>U(D,Q,ie))}const K=Q=>i.go(Q);let te;const he=new Set,Z={currentRoute:l,listening:!0,addRoute:p,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:A,getRoutes:b,resolve:R,options:t,push:S,replace:M,go:K,back:()=>K(-1),forward:()=>K(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:j.add,isReady:x,install(Q){const ie=this;Q.component("RouterLink",jV),Q.component("RouterView",YA),Q.config.globalProperties.$router=ie,Object.defineProperty(Q.config.globalProperties,"$route",{enumerable:!0,get:()=>G(l)}),Ga&&!te&&l.value===$s&&(te=!0,S(i.location).catch(be=>{}));const X={};for(const be in $s)Object.defineProperty(X,be,{get:()=>l.value[be],enumerable:!0});Q.provide(kp,ie),Q.provide(g_,_C(X)),Q.provide(Ev,l);const ce=Q.unmount;he.add(Q),Q.unmount=function(){he.delete(Q),he.size<1&&(u=$s,P&&P(),P=null,l.value=$s,te=!1,F=!1),ce()}}};function H(Q){return Q.reduce((ie,X)=>ie.then(()=>y(X)),Promise.resolve())}return Z}function KV(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>Rl(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Rl(u,l))||i.push(l))}return[n,r,i]}function cre(){return kr(kp)}function dre(t){return kr(g_)}const YV=Kt({__name:"App",setup(t){return(e,n)=>(W(),ee(Ne,null,[et(G(YA)),et(W2)],64))}});var kT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke=function(t,e){if(!t)throw nu(e)},nu=function(t){return new Error("Firebase Database ("+GA.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},GV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Rp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[c],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new QV;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class QV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XA=function(t){const e=QA(t);return Rp.encodeByteArray(e,!0)},Cf=function(t){return XA(t).replace(/\./g,"")},Af=function(t){try{return Rp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(t){return JA(void 0,t)}function JA(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!JV(n)||(t[n]=JA(t[n],e[n]));return t}function JV(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=()=>ZA().__FIREBASE_DEFAULTS__,eF=()=>{if(typeof process>"u"||typeof kT>"u")return;const t=kT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Af(t[1]);return e&&JSON.parse(e)},Dp=()=>{try{return ZV()||eF()||tF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nF=t=>{var e,n;return(n=(e=Dp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},eO=t=>{const e=nF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tO=()=>{var t;return(t=Dp())===null||t===void 0?void 0:t.config},rF=t=>{var e;return(e=Dp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Cf(JSON.stringify(n)),Cf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(br())}function iF(){var t;const e=(t=Dp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oF(){const t=br();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sO(){return GA.NODE_ADMIN===!0}function aF(){return!iF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xp(){try{return typeof indexedDB=="object"}catch{return!1}}function oO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function lF(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF="FirebaseError";class ei extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uF,Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Co.prototype.create)}}class Co{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?cF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ei(i,a,r)}}function cF(t,e){return t.replace(dF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const dF=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(t){return JSON.parse(t)}function Gn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Fc(Af(s[0])||""),n=Fc(Af(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},hF=function(t){const e=aO(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},fF=function(t){const e=aO(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function xl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Iv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Of(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function $c(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(RT(s)&&RT(o)){if(!$c(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function RT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function qu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let h=0;h<80;h++){h<40?h<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):h<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const f=(i<<5|i>>>27)+u+l+c+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function mF(t,e){const n=new gF(t,e);return n.subscribe.bind(n)}class gF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ng),i.error===void 0&&(i.error=ng),i.complete===void 0&&(i.complete=ng);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ng(){}function yF(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ke(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Np=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF=1e3,TF=2,EF=4*60*60*1e3,IF=.5;function Sv(t,e=wF,n=TF){const r=e*Math.pow(n,t),i=Math.round(IF*r*(Math.random()-.5)*2);return Math.min(EF,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class Dr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sa;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AF(e))try{this.getOrInitializeService({instanceIdentifier:Vo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Vo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vo){return this.instances.has(e)}getOptions(e=Vo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vo){return this.component?this.component.multipleInstances?e:Vo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CF(t){return t===Vo?void 0:t}function AF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ht||(ht={}));const PF={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},kF=ht.INFO,RF={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},DF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=RF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iu{constructor(e){this.name=e,this._logLevel=kF,this._logHandler=DF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const xF=(t,e)=>e.some(n=>t instanceof n);let DT,xT;function NF(){return DT||(DT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MF(){return xT||(xT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lO=new WeakMap,Cv=new WeakMap,uO=new WeakMap,rg=new WeakMap,y_=new WeakMap;function LF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(so(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&lO.set(n,t)}).catch(()=>{}),y_.set(e,t),e}function VF(t){if(Cv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Cv.set(t,e)}let Av={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return so(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FF(t){Av=t(Av)}function $F(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ig(this),e,...n);return uO.set(r,e.sort?e.sort():[e]),so(r)}:MF().includes(t)?function(...e){return t.apply(ig(this),e),so(lO.get(this))}:function(...e){return so(t.apply(ig(this),e))}}function UF(t){return typeof t=="function"?$F(t):(t instanceof IDBTransaction&&VF(t),xF(t,NF())?new Proxy(t,Av):t)}function so(t){if(t instanceof IDBRequest)return LF(t);if(rg.has(t))return rg.get(t);const e=UF(t);return e!==t&&(rg.set(t,e),y_.set(e,t)),e}const ig=t=>y_.get(t);function cO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=so(o);return r&&o.addEventListener("upgradeneeded",l=>{r(so(o.result),l.oldVersion,l.newVersion,so(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const BF=["get","getKey","getAll","getAllKeys","count"],jF=["put","add","delete","clear"],sg=new Map;function NT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sg.get(e))return sg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=jF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||BF.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return sg.set(e,s),s}FF(t=>({...t,get:(e,n,r)=>NT(e,n)||t.get(e,n,r),has:(e,n)=>!!NT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function WF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ov="@firebase/app",MT="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new iu("@firebase/app"),qF="@firebase/app-compat",zF="@firebase/analytics-compat",KF="@firebase/analytics",YF="@firebase/app-check-compat",GF="@firebase/app-check",QF="@firebase/auth",XF="@firebase/auth-compat",JF="@firebase/database",ZF="@firebase/data-connect",e$="@firebase/database-compat",t$="@firebase/functions",n$="@firebase/functions-compat",r$="@firebase/installations",i$="@firebase/installations-compat",s$="@firebase/messaging",o$="@firebase/messaging-compat",a$="@firebase/performance",l$="@firebase/performance-compat",u$="@firebase/remote-config",c$="@firebase/remote-config-compat",d$="@firebase/storage",h$="@firebase/storage-compat",f$="@firebase/firestore",p$="@firebase/vertexai-preview",m$="@firebase/firestore-compat",g$="firebase",v$="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="[DEFAULT]",y$={[Ov]:"fire-core",[qF]:"fire-core-compat",[KF]:"fire-analytics",[zF]:"fire-analytics-compat",[GF]:"fire-app-check",[YF]:"fire-app-check-compat",[QF]:"fire-auth",[XF]:"fire-auth-compat",[JF]:"fire-rtdb",[ZF]:"fire-data-connect",[e$]:"fire-rtdb-compat",[t$]:"fire-fn",[n$]:"fire-fn-compat",[r$]:"fire-iid",[i$]:"fire-iid-compat",[s$]:"fire-fcm",[o$]:"fire-fcm-compat",[a$]:"fire-perf",[l$]:"fire-perf-compat",[u$]:"fire-rc",[c$]:"fire-rc-compat",[d$]:"fire-gcs",[h$]:"fire-gcs-compat",[f$]:"fire-fst",[m$]:"fire-fst-compat",[p$]:"fire-vertex","fire-js":"fire-js",[g$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf=new Map,_$=new Map,kv=new Map;function LT(t,e){try{t.container.addComponent(e)}catch(n){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jr(t){const e=t.name;if(kv.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;kv.set(e,t);for(const n of Pf.values())LT(n,t);for(const n of _$.values())LT(n,t);return!0}function xs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ti(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oo=new Co("app","Firebase",b$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=v$;function dO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Pv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw oo.create("bad-app-name",{appName:String(i)});if(n||(n=tO()),!n)throw oo.create("no-options");const s=Pf.get(i);if(s){if($c(n,s.options)&&$c(r,s.config))return s;throw oo.create("duplicate-app",{appName:i})}const o=new OF(i);for(const l of kv.values())o.addComponent(l);const a=new w$(n,r,o);return Pf.set(i,a),a}function Sd(t=Pv){const e=Pf.get(t);if(!e&&t===Pv&&tO())return dO();if(!e)throw oo.create("no-app",{appName:t});return e}function er(t,e,n){var r;let i=(r=y$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(a.join(" "));return}jr(new Dr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$="firebase-heartbeat-database",E$=1,Uc="firebase-heartbeat-store";let og=null;function hO(){return og||(og=cO(T$,E$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Uc)}catch(n){console.warn(n)}}}}).catch(t=>{throw oo.create("idb-open",{originalErrorMessage:t.message})})),og}async function I$(t){try{const n=(await hO()).transaction(Uc),r=await n.objectStore(Uc).get(fO(t));return await n.done,r}catch(e){if(e instanceof ei)Ss.warn(e.message);else{const n=oo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ss.warn(n.message)}}}async function VT(t,e){try{const r=(await hO()).transaction(Uc,"readwrite");await r.objectStore(Uc).put(e,fO(t)),await r.done}catch(n){if(n instanceof ei)Ss.warn(n.message);else{const r=oo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ss.warn(r.message)}}}function fO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$=1024,C$=30*24*60*60*1e3;class A${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new P$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=FT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=C$}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ss.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=FT(),{heartbeatsToSend:r,unsentEntries:i}=O$(this._heartbeatsCache.heartbeats),s=Cf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ss.warn(n),""}}}function FT(){return new Date().toISOString().substring(0,10)}function O$(t,e=S$){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),$T(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$T(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class P${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xp()?oO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await I$(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return VT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return VT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function $T(t){return Cf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k$(t){jr(new Dr("platform-logger",e=>new HF(e),"PRIVATE")),jr(new Dr("heartbeat",e=>new A$(e),"PRIVATE")),er(Ov,MT,t),er(Ov,MT,"esm2017"),er("fire-js","")}k$("");const pO="@firebase/installations",__="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=1e4,gO=`w:${__}`,vO="FIS_v2",R$="https://firebaseinstallations.googleapis.com/v1",D$=60*60*1e3,x$="installations",N$="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},oa=new Co(x$,N$,M$);function yO(t){return t instanceof ei&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O({projectId:t}){return`${R$}/projects/${t}/installations`}function bO(t){return{token:t.token,requestStatus:2,expiresIn:V$(t.expiresIn),creationTime:Date.now()}}async function wO(t,e){const r=(await e.json()).error;return oa.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function TO({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function L$(t,{refreshToken:e}){const n=TO(t);return n.append("Authorization",F$(e)),n}async function EO(t){const e=await t();return e.status>=500&&e.status<600?t():e}function V$(t){return Number(t.replace("s","000"))}function F$(t){return`${vO} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $$({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=_O(t),i=TO(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:vO,appId:t.appId,sdkVersion:gO},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await EO(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:bO(u.authToken)}}else throw await wO("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U$(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$=/^[cdef][\w-]{21}$/,Rv="";function j$(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=H$(t);return B$.test(n)?n:Rv}catch{return Rv}}function H$(t){return U$(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=new Map;function CO(t,e){const n=Mp(t);AO(n,e),W$(n,e)}function AO(t,e){const n=SO.get(t);if(n)for(const r of n)r(e)}function W$(t,e){const n=q$();n&&n.postMessage({key:t,fid:e}),z$()}let Ho=null;function q$(){return!Ho&&"BroadcastChannel"in self&&(Ho=new BroadcastChannel("[Firebase] FID Change"),Ho.onmessage=t=>{AO(t.data.key,t.data.fid)}),Ho}function z$(){SO.size===0&&Ho&&(Ho.close(),Ho=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$="firebase-installations-database",Y$=1,aa="firebase-installations-store";let ag=null;function b_(){return ag||(ag=cO(K$,Y$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(aa)}}})),ag}async function kf(t,e){const n=Mp(t),i=(await b_()).transaction(aa,"readwrite"),s=i.objectStore(aa),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&CO(t,e.fid),e}async function OO(t){const e=Mp(t),r=(await b_()).transaction(aa,"readwrite");await r.objectStore(aa).delete(e),await r.done}async function Lp(t,e){const n=Mp(t),i=(await b_()).transaction(aa,"readwrite"),s=i.objectStore(aa),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&CO(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w_(t){let e;const n=await Lp(t.appConfig,r=>{const i=G$(r),s=Q$(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Rv?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function G$(t){const e=t||{fid:j$(),registrationStatus:0};return PO(e)}function Q$(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(oa.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=X$(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:J$(t)}:{installationEntry:e}}async function X$(t,e){try{const n=await $$(t,e);return kf(t.appConfig,n)}catch(n){throw yO(n)&&n.customData.serverCode===409?await OO(t.appConfig):await kf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function J$(t){let e=await UT(t.appConfig);for(;e.registrationStatus===1;)await IO(100),e=await UT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await w_(t);return r||n}return e}function UT(t){return Lp(t,e=>{if(!e)throw oa.create("installation-not-found");return PO(e)})}function PO(t){return Z$(t)?{fid:t.fid,registrationStatus:0}:t}function Z$(t){return t.registrationStatus===1&&t.registrationTime+mO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e3({appConfig:t,heartbeatServiceProvider:e},n){const r=t3(t,n),i=L$(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:gO,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await EO(()=>fetch(r,a));if(l.ok){const u=await l.json();return bO(u)}else throw await wO("Generate Auth Token",l)}function t3(t,{fid:e}){return`${_O(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T_(t,e=!1){let n;const r=await Lp(t.appConfig,s=>{if(!kO(s))throw oa.create("not-registered");const o=s.authToken;if(!e&&i3(o))return s;if(o.requestStatus===1)return n=n3(t,e),s;{if(!navigator.onLine)throw oa.create("app-offline");const a=o3(s);return n=r3(t,a),a}});return n?await n:r.authToken}async function n3(t,e){let n=await BT(t.appConfig);for(;n.authToken.requestStatus===1;)await IO(100),n=await BT(t.appConfig);const r=n.authToken;return r.requestStatus===0?T_(t,e):r}function BT(t){return Lp(t,e=>{if(!kO(e))throw oa.create("not-registered");const n=e.authToken;return a3(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function r3(t,e){try{const n=await e3(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await kf(t.appConfig,r),n}catch(n){if(yO(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await OO(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await kf(t.appConfig,r)}throw n}}function kO(t){return t!==void 0&&t.registrationStatus===2}function i3(t){return t.requestStatus===2&&!s3(t)}function s3(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+D$}function o3(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function a3(t){return t.requestStatus===1&&t.requestTime+mO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l3(t){const e=t,{installationEntry:n,registrationPromise:r}=await w_(e);return r?r.catch(console.error):T_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u3(t,e=!1){const n=t;return await c3(n),(await T_(n,e)).token}async function c3(t){const{registrationPromise:e}=await w_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t){if(!t||!t.options)throw lg("App Configuration");if(!t.name)throw lg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw lg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function lg(t){return oa.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="installations",h3="installations-internal",f3=t=>{const e=t.getProvider("app").getImmediate(),n=d3(e),r=xs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},p3=t=>{const e=t.getProvider("app").getImmediate(),n=xs(e,RO).getImmediate();return{getId:()=>l3(n),getToken:i=>u3(n,i)}};function m3(){jr(new Dr(RO,f3,"PUBLIC")),jr(new Dr(h3,p3,"PRIVATE"))}m3();er(pO,__);er(pO,__,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="analytics",g3="firebase_id",v3="origin",y3=60*1e3,_3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",E_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new iu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Xr=new Co("analytics","Analytics",b3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t){if(!t.startsWith(E_)){const e=Xr.create("invalid-gtag-resource",{gtagURL:t});return Ur.warn(e.message),""}return t}function DO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function T3(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function E3(t,e){const n=T3("firebase-js-sdk-policy",{createScriptURL:w3}),r=document.createElement("script"),i=`${E_}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function I3(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function S3(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await DO(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Ur.error(a)}t("config",i,s)}async function C3(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await DO(n);for(const l of o){const u=a.find(h=>h.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Ur.error(s)}}function A3(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await C3(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await S3(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Ur.error(a)}}return i}function O3(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=A3(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function P3(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(E_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=30,R3=1e3;class D3{constructor(e={},n=R3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const xO=new D3;function x3(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function N3(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:x3(r)},s=_3.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Xr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function M3(t,e=xO,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Xr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Xr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new F3;return setTimeout(async()=>{a.abort()},n!==void 0?n:y3),NO({appId:r,apiKey:i,measurementId:s},o,a,e)}async function NO(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=xO){var s;const{appId:o,measurementId:a}=t;try{await L3(r,e)}catch(l){if(a)return Ur.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await N3(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!V3(u)){if(i.deleteThrottleMetadata(o),a)return Ur.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?Sv(n,i.intervalMillis,k3):Sv(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,h),Ur.debug(`Calling attemptFetch again in ${c} millis`),NO(t,h,r,i)}}function L3(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Xr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function V3(t){if(!(t instanceof ei)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class F3{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function $3(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U3(){if(xp())try{await oO()}catch(t){return Ur.warn(Xr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ur.warn(Xr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function B3(t,e,n,r,i,s,o){var a;const l=M3(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Ur.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Ur.error(p)),e.push(l);const u=U3().then(p=>{if(p)return r.getId()}),[c,h]=await Promise.all([l,u]);P3(s)||E3(s,c.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[v3]="firebase",f.update=!0,h!=null&&(f[g3]=h),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e){this.app=e}_delete(){return delete lc[this.app.options.appId],Promise.resolve()}}let lc={},jT=[];const HT={};let ug="dataLayer",H3="gtag",WT,MO,qT=!1;function W3(){const t=[];if(rO()&&t.push("This is a browser extension environment."),lF()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Xr.create("invalid-analytics-context",{errorInfo:e});Ur.warn(n.message)}}function q3(t,e,n){W3();const r=t.options.appId;if(!r)throw Xr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ur.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Xr.create("no-api-key");if(lc[r]!=null)throw Xr.create("already-exists",{id:r});if(!qT){I3(ug);const{wrappedGtag:s,gtagCore:o}=O3(lc,jT,HT,ug,H3);MO=s,WT=o,qT=!0}return lc[r]=B3(t,jT,HT,e,WT,ug,n),new j3(t)}function LO(t=Sd()){t=Dt(t);const e=xs(t,Rf);return e.isInitialized()?e.getImmediate():z3(t)}function z3(t,e={}){const n=xs(t,Rf);if(n.isInitialized()){const i=n.getImmediate();if($c(e,n.getOptions()))return i;throw Xr.create("already-initialized")}return n.initialize({options:e})}function VO(t,e,n,r){t=Dt(t),$3(MO,lc[t.app.options.appId],e,n,r).catch(i=>Ur.error(i))}const zT="@firebase/analytics",KT="0.10.8";function K3(){jr(new Dr(Rf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return q3(r,i,n)},"PUBLIC")),jr(new Dr("analytics-internal",t,"PRIVATE")),er(zT,KT),er(zT,KT,"esm2017");function t(e){try{const n=e.getProvider(Rf).getImmediate();return{logEvent:(r,i,s)=>VO(n,r,i,s)}}catch(n){throw Xr.create("interop-component-reg-failed",{reason:n})}}}K3();var Y3="firebase",G3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er(Y3,G3,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=new Map,FO={activated:!1,tokenObservers:[]},Q3={initialized:!1,enabled:!1};function Ln(t){return Dv.get(t)||Object.assign({},FO)}function X3(t,e){return Dv.set(t,e),Dv.get(t)}function Vp(){return Q3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O="https://content-firebaseappcheck.googleapis.com/v1",J3="exchangeRecaptchaV3Token",Z3="exchangeDebugToken",YT={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},e4=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new sa,this.pending.promise.catch(n=>{}),await n4(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new sa,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function n4(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Fr=new Co("appCheck","AppCheck",r4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function I_(t){if(!Ln(t).activated)throw Fr.create("use-before-activation",{appName:t.name})}function UO(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),s=e-n*3600*24-r*3600-i*60;let o="";return n&&(o+=bh(n)+"d:"),r&&(o+=bh(r)+"h:"),o+=bh(i)+"m:"+bh(s)+"s",o}function bh(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S_({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&(r["X-Firebase-Client"]=h)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o;try{o=await fetch(t,s)}catch(h){throw Fr.create("fetch-network-error",{originalErrorMessage:h==null?void 0:h.message})}if(o.status!==200)throw Fr.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(h){throw Fr.create("fetch-parse-error",{originalErrorMessage:h==null?void 0:h.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Fr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function i4(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${$O}/projects/${n}/apps/${r}:${J3}?key=${i}`,body:{recaptcha_v3_token:e}}}function BO(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${$O}/projects/${n}/apps/${r}:${Z3}?key=${i}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4="firebase-app-check-database",o4=1,Bc="firebase-app-check-store",jO="debug-token";let wh=null;function HO(){return wh||(wh=new Promise((t,e)=>{try{const n=indexedDB.open(s4,o4);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Fr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Bc,{keyPath:"compositeKey"})}}}catch(n){e(Fr.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),wh)}function a4(t){return qO(zO(t))}function l4(t,e){return WO(zO(t),e)}function u4(t){return WO(jO,t)}function c4(){return qO(jO)}async function WO(t,e){const r=(await HO()).transaction(Bc,"readwrite"),s=r.objectStore(Bc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(Fr.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function qO(t){const n=(await HO()).transaction(Bc,"readonly"),i=n.objectStore(Bc).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},n.onerror=a=>{var l;o(Fr.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function zO(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new iu("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4(t){if(xp()){let e;try{e=await a4(t)}catch(n){jc.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function cg(t,e){return xp()?l4(t,e).catch(n=>{jc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function h4(){let t;try{t=await c4()}catch{}if(t)return t;{const e=bF();return u4(e).catch(n=>jc.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(){return Vp().enabled}async function A_(){const t=Vp();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function f4(){const t=ZA(),e=Vp();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new sa;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(h4())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4={error:"UNKNOWN_ERROR"};function m4(t){return Rp.encodeString(JSON.stringify(t),!1)}async function xv(t,e=!1){const n=t.app;I_(n);const r=Ln(n);let i=r.token,s;if(i&&!nl(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(nl(l)?i=l:await cg(n,void 0))}if(!e&&i&&nl(i))return{token:i.token};let o=!1;if(C_()){r.exchangeTokenPromise||(r.exchangeTokenPromise=S_(BO(n,await A_()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=await r.exchangeTokenPromise;return await cg(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await Ln(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?jc.warn(l.message):jc.error(l),s=l}let a;return i?s?nl(i)?a={token:i.token,internalError:s}:a=XT(s):(a={token:i.token},r.token=i,await cg(n,i)):a=XT(s),o&&GO(n,a),a}async function g4(t){const e=t.app;I_(e);const{provider:n}=Ln(e);if(C_()){const r=await A_(),{token:i}=await S_(BO(e,r),t.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function KO(t,e,n,r){const{app:i}=t,s=Ln(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&nl(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),QT(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>QT(t))}function YO(t,e){const n=Ln(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function QT(t){const{app:e}=t,n=Ln(e);let r=n.tokenRefresher;r||(r=v4(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function v4(t){const{app:e}=t;return new t4(async()=>{const n=Ln(e);let r;if(n.token?r=await xv(t,!0):r=await xv(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=Ln(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},YT.RETRIAL_MIN_WAIT,YT.RETRIAL_MAX_WAIT)}function GO(t,e){const n=Ln(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function nl(t){return t.expireTimeMillis-Date.now()>0}function XT(t){return{token:m4(p4),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Ln(this.app);for(const n of e)YO(this.app,n.next);return Promise.resolve()}}function _4(t,e){return new y4(t,e)}function b4(t){return{getToken:e=>xv(t,e),getLimitedUseToken:()=>g4(t),addTokenListener:e=>KO(t,"INTERNAL",e),removeTokenListener:e=>YO(t.app,e)}}const w4="@firebase/app-check",T4="0.8.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="https://www.google.com/recaptcha/api.js";function I4(t,e){const n=new sa,r=Ln(t);r.reCAPTCHAState={initialized:n};const i=S4(t),s=GT(!1);return s?JT(t,e,s,i,n):O4(()=>{const o=GT(!1);if(!o)throw new Error("no recaptcha");JT(t,e,o,i,n)}),n.promise}function JT(t,e,n,r,i){n.ready(()=>{A4(t,e,n,r),i.resolve(n)})}function S4(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function C4(t){I_(t);const n=await Ln(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=Ln(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function A4(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{Ln(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Ln(t).reCAPTCHAState.succeeded=!1}}),s=Ln(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function O4(t){const e=document.createElement("script");e.src=E4,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,n,r;k4(this._throttleData);const i=await C4(this._app).catch(o=>{throw Fr.create("recaptcha-error")});if(!(!((e=Ln(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw Fr.create("recaptcha-error");let s;try{s=await S_(i4(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=P4(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Fr.create("throttled",{time:UO(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(e){this._app=e,this._heartbeatServiceProvider=xs(e,"heartbeat"),I4(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof O_?this._siteKey===e._siteKey:!1}}function P4(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+e4,httpStatus:t};{const n=e?e.backoffCount:0,r=Sv(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function k4(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw Fr.create("throttled",{time:UO(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(t=Sd(),e){t=Dt(t);const n=xs(t,"app-check");if(Vp().initialized||f4(),C_()&&A_().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw Fr.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return D4(t,e.provider,e.isTokenAutoRefreshEnabled),Ln(t).isTokenAutoRefreshEnabled&&KO(r,"INTERNAL",()=>{}),r}function D4(t,e,n){const r=X3(t,Object.assign({},FO));r.activated=!0,r.provider=e,r.cachedTokenPromise=d4(t).then(i=>(i&&nl(i)&&(r.token=i,GO(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}const x4="app-check",ZT="app-check-internal";function N4(){jr(new Dr(x4,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return _4(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(ZT).initialize()})),jr(new Dr(ZT,t=>{const e=t.getProvider("app-check").getImmediate();return b4(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),er(w4,T4)}N4();var Cn=(t=>(t.CONTENT="content",t.PROJECTS="projects",t.MENU_ITEMS="menuItems",t.MENU_ITEMS_PRIVATE="menuItemsPrivate",t.BLOG_POSTS="blogPosts",t.BLOG_POSTS_PRIVATE="blogPostsPrivate",t.BLOG_REACTIONS="blogReactions",t.BLOG_REACTIONS_PRIVATE="blogReactionsPrivate",t.USERS="users",t.USERS_PUBLIC="usersPublic",t.USERS_ONLINE="usersOnline",t.FILES="files",t.GAME_DATA="gameData",t.HIGHSCORES="highscores",t))(Cn||{});const M4={apiKey:"AIzaSyAjt3RyE1KkK110jxZQUrm9kjfclWO126k",authDomain:"personal-website-c3482.firebaseapp.com",projectId:"personal-website-c3482",storageBucket:"personal-website-c3482.appspot.com",messagingSenderId:"110986644823",appId:"1:110986644823:web:4081c484521ba6b37bc212",measurementId:"G-PF7D6JKSC3"},L4=t=>{R4(t,{provider:new O_("6LdIOxQpAAAAAKwbiQMkZD5Fid1DmlsKvWxOIQA5"),isTokenAutoRefreshEnabled:!0})},V4=()=>{const t=dO(M4);return L4(t),LO(t),t},F4=V4();var $4=!1;/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let QO;const Fp=t=>QO=t,XO=Symbol();function Nv(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var uc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(uc||(uc={}));function U4(){const t=Ky(!0),e=t.run(()=>fe({}));let n=[],r=[];const i=e_({install(s){Fp(i),i._a=s,s.provide(XO,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!$4?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const JO=()=>{};function e1(t,e,n,r=JO){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&Yy()&&rC(i),i}function Ba(t,...e){t.slice().forEach(n=>{n(...e)})}const B4=t=>t(),t1=Symbol(),dg=Symbol();function Mv(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];Nv(i)&&Nv(r)&&t.hasOwnProperty(n)&&!an(r)&&!Ki(r)?t[n]=Mv(i,r):t[n]=r}return t}const j4=Symbol();function H4(t){return!Nv(t)||!t.hasOwnProperty(j4)}const{assign:qs}=Object;function W4(t){return!!(an(t)&&t.effect)}function q4(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=i?i():{});const c=OM(n.state.value[t]);return qs(c,s,Object.keys(o||{}).reduce((h,f)=>(h[f]=e_(le(()=>{Fp(n);const p=n._s.get(t);return o[f].call(p,p)})),h),{}))}return l=ZO(t,u,e,n,r,!0),l}function ZO(t,e,n={},r,i,s){let o;const a=qs({actions:{}},n),l={deep:!0};let u,c,h=[],f=[],p;const g=r.state.value[t];!s&&!g&&(r.state.value[t]={}),fe({});let b;function A(E){let y;u=c=!1,typeof E=="function"?(E(r.state.value[t]),y={type:uc.patchFunction,storeId:t,events:p}):(Mv(r.state.value[t],E),y={type:uc.patchObject,payload:E,storeId:t,events:p});const v=b=Symbol();jn().then(()=>{b===v&&(u=!0)}),c=!0,Ba(h,y,r.state.value[t])}const R=s?function(){const{state:y}=n,v=y?y():{};this.$patch(w=>{qs(w,v)})}:JO;function k(){o.stop(),h=[],f=[],r._s.delete(t)}const T=(E,y="")=>{if(t1 in E)return E[dg]=y,E;const v=function(){Fp(r);const w=Array.from(arguments),C=[],P=[];function q(F){C.push(F)}function $(F){P.push(F)}Ba(f,{args:w,name:v[dg],store:M,after:q,onError:$});let j;try{j=E.apply(this&&this.$id===t?this:M,w)}catch(F){throw Ba(P,F),F}return j instanceof Promise?j.then(F=>(Ba(C,F),F)).catch(F=>(Ba(P,F),Promise.reject(F))):(Ba(C,j),j)};return v[t1]=!0,v[dg]=y,v},S={_p:r,$id:t,$onAction:e1.bind(null,f),$patch:A,$reset:R,$subscribe(E,y={}){const v=e1(h,E,y.detached,()=>w()),w=o.run(()=>En(()=>r.state.value[t],C=>{(y.flush==="sync"?c:u)&&E({storeId:t,type:uc.direct,events:p},C)},qs({},l,y)));return v},$dispose:k},M=Rr(S);r._s.set(t,M);const I=(r._a&&r._a.runWithContext||B4)(()=>r._e.run(()=>(o=Ky()).run(()=>e({action:T}))));for(const E in I){const y=I[E];if(an(y)&&!W4(y)||Ki(y))s||(g&&H4(y)&&(an(y)?y.value=g[E]:Mv(y,g[E])),r.state.value[t][E]=y);else if(typeof y=="function"){const v=T(y,E);I[E]=v,a.actions[E]=y}}return qs(M,I),qs(pt(M),I),Object.defineProperty(M,"$state",{get:()=>r.state.value[t],set:E=>{A(y=>{qs(y,E)})}}),r._p.forEach(E=>{qs(M,o.run(()=>E({store:M,app:r._a,pinia:r,options:a})))}),g&&s&&n.hydrate&&n.hydrate(M.$state,g),u=!0,c=!0,M}/*! #__NO_SIDE_EFFECTS__ */function su(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function o(a,l){const u=mL();return a=a||(u?kr(XO,null):null),a&&Fp(a),a=QO,a._s.has(r)||(s?ZO(r,e,i,a):q4(r,i,a)),a._s.get(r)}return o.$id=r,o}function Df(t){{const e=pt(t),n={};for(const r in e){const i=e[r];i.effect?n[r]=le({get:()=>t[r],set(s){t[r]=s}}):(an(i)||Ki(i))&&(n[r]=Oc(t,r))}return n}}const n1=(t,e)=>{const n=t.storage||sessionStorage,r=t.key||e.$id;if(t.paths){const i=t.paths.reduce((s,o)=>(s[o]=e.$state[o],s),{});n.setItem(r,JSON.stringify(i))}else n.setItem(r,JSON.stringify(e.$state))};var z4=({options:t,store:e})=>{var n,r,i,s;if((n=t.persist)!=null&&n.enabled){const o=[{key:e.$id,storage:sessionStorage}],a=(i=(r=t.persist)==null?void 0:r.strategies)!=null&&i.length?(s=t.persist)==null?void 0:s.strategies:o;a.forEach(l=>{const u=l.storage||sessionStorage,c=l.key||e.$id,h=u.getItem(c);h&&(e.$patch(JSON.parse(h)),n1(l,e))}),e.$subscribe(()=>{a.forEach(l=>{n1(l,e)})})}};const eP=U4();eP.use(z4);const K4="modulepreload",Y4=function(t,e){return new URL(t,e).href},r1={},ti=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link");i=Promise.all(n.map(o=>{if(o=Y4(o,r),o in r1)return;r1[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let h=s.length-1;h>=0;h--){const f=s[h];if(f.href===o&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":K4,a||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),a)return new Promise((h,f)=>{c.addEventListener("load",h),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var i1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qo,tP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,E){function y(){}y.prototype=E.prototype,I.D=E.prototype,I.prototype=new y,I.prototype.constructor=I,I.C=function(v,w,C){for(var P=Array(arguments.length-2),q=2;q<arguments.length;q++)P[q-2]=arguments[q];return E.prototype[w].apply(v,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,E,y){y||(y=0);var v=Array(16);if(typeof E=="string")for(var w=0;16>w;++w)v[w]=E.charCodeAt(y++)|E.charCodeAt(y++)<<8|E.charCodeAt(y++)<<16|E.charCodeAt(y++)<<24;else for(w=0;16>w;++w)v[w]=E[y++]|E[y++]<<8|E[y++]<<16|E[y++]<<24;E=I.g[0],y=I.g[1],w=I.g[2];var C=I.g[3],P=E+(C^y&(w^C))+v[0]+3614090360&4294967295;E=y+(P<<7&4294967295|P>>>25),P=C+(w^E&(y^w))+v[1]+3905402710&4294967295,C=E+(P<<12&4294967295|P>>>20),P=w+(y^C&(E^y))+v[2]+606105819&4294967295,w=C+(P<<17&4294967295|P>>>15),P=y+(E^w&(C^E))+v[3]+3250441966&4294967295,y=w+(P<<22&4294967295|P>>>10),P=E+(C^y&(w^C))+v[4]+4118548399&4294967295,E=y+(P<<7&4294967295|P>>>25),P=C+(w^E&(y^w))+v[5]+1200080426&4294967295,C=E+(P<<12&4294967295|P>>>20),P=w+(y^C&(E^y))+v[6]+2821735955&4294967295,w=C+(P<<17&4294967295|P>>>15),P=y+(E^w&(C^E))+v[7]+4249261313&4294967295,y=w+(P<<22&4294967295|P>>>10),P=E+(C^y&(w^C))+v[8]+1770035416&4294967295,E=y+(P<<7&4294967295|P>>>25),P=C+(w^E&(y^w))+v[9]+2336552879&4294967295,C=E+(P<<12&4294967295|P>>>20),P=w+(y^C&(E^y))+v[10]+4294925233&4294967295,w=C+(P<<17&4294967295|P>>>15),P=y+(E^w&(C^E))+v[11]+2304563134&4294967295,y=w+(P<<22&4294967295|P>>>10),P=E+(C^y&(w^C))+v[12]+1804603682&4294967295,E=y+(P<<7&4294967295|P>>>25),P=C+(w^E&(y^w))+v[13]+4254626195&4294967295,C=E+(P<<12&4294967295|P>>>20),P=w+(y^C&(E^y))+v[14]+2792965006&4294967295,w=C+(P<<17&4294967295|P>>>15),P=y+(E^w&(C^E))+v[15]+1236535329&4294967295,y=w+(P<<22&4294967295|P>>>10),P=E+(w^C&(y^w))+v[1]+4129170786&4294967295,E=y+(P<<5&4294967295|P>>>27),P=C+(y^w&(E^y))+v[6]+3225465664&4294967295,C=E+(P<<9&4294967295|P>>>23),P=w+(E^y&(C^E))+v[11]+643717713&4294967295,w=C+(P<<14&4294967295|P>>>18),P=y+(C^E&(w^C))+v[0]+3921069994&4294967295,y=w+(P<<20&4294967295|P>>>12),P=E+(w^C&(y^w))+v[5]+3593408605&4294967295,E=y+(P<<5&4294967295|P>>>27),P=C+(y^w&(E^y))+v[10]+38016083&4294967295,C=E+(P<<9&4294967295|P>>>23),P=w+(E^y&(C^E))+v[15]+3634488961&4294967295,w=C+(P<<14&4294967295|P>>>18),P=y+(C^E&(w^C))+v[4]+3889429448&4294967295,y=w+(P<<20&4294967295|P>>>12),P=E+(w^C&(y^w))+v[9]+568446438&4294967295,E=y+(P<<5&4294967295|P>>>27),P=C+(y^w&(E^y))+v[14]+3275163606&4294967295,C=E+(P<<9&4294967295|P>>>23),P=w+(E^y&(C^E))+v[3]+4107603335&4294967295,w=C+(P<<14&4294967295|P>>>18),P=y+(C^E&(w^C))+v[8]+1163531501&4294967295,y=w+(P<<20&4294967295|P>>>12),P=E+(w^C&(y^w))+v[13]+2850285829&4294967295,E=y+(P<<5&4294967295|P>>>27),P=C+(y^w&(E^y))+v[2]+4243563512&4294967295,C=E+(P<<9&4294967295|P>>>23),P=w+(E^y&(C^E))+v[7]+1735328473&4294967295,w=C+(P<<14&4294967295|P>>>18),P=y+(C^E&(w^C))+v[12]+2368359562&4294967295,y=w+(P<<20&4294967295|P>>>12),P=E+(y^w^C)+v[5]+4294588738&4294967295,E=y+(P<<4&4294967295|P>>>28),P=C+(E^y^w)+v[8]+2272392833&4294967295,C=E+(P<<11&4294967295|P>>>21),P=w+(C^E^y)+v[11]+1839030562&4294967295,w=C+(P<<16&4294967295|P>>>16),P=y+(w^C^E)+v[14]+4259657740&4294967295,y=w+(P<<23&4294967295|P>>>9),P=E+(y^w^C)+v[1]+2763975236&4294967295,E=y+(P<<4&4294967295|P>>>28),P=C+(E^y^w)+v[4]+1272893353&4294967295,C=E+(P<<11&4294967295|P>>>21),P=w+(C^E^y)+v[7]+4139469664&4294967295,w=C+(P<<16&4294967295|P>>>16),P=y+(w^C^E)+v[10]+3200236656&4294967295,y=w+(P<<23&4294967295|P>>>9),P=E+(y^w^C)+v[13]+681279174&4294967295,E=y+(P<<4&4294967295|P>>>28),P=C+(E^y^w)+v[0]+3936430074&4294967295,C=E+(P<<11&4294967295|P>>>21),P=w+(C^E^y)+v[3]+3572445317&4294967295,w=C+(P<<16&4294967295|P>>>16),P=y+(w^C^E)+v[6]+76029189&4294967295,y=w+(P<<23&4294967295|P>>>9),P=E+(y^w^C)+v[9]+3654602809&4294967295,E=y+(P<<4&4294967295|P>>>28),P=C+(E^y^w)+v[12]+3873151461&4294967295,C=E+(P<<11&4294967295|P>>>21),P=w+(C^E^y)+v[15]+530742520&4294967295,w=C+(P<<16&4294967295|P>>>16),P=y+(w^C^E)+v[2]+3299628645&4294967295,y=w+(P<<23&4294967295|P>>>9),P=E+(w^(y|~C))+v[0]+4096336452&4294967295,E=y+(P<<6&4294967295|P>>>26),P=C+(y^(E|~w))+v[7]+1126891415&4294967295,C=E+(P<<10&4294967295|P>>>22),P=w+(E^(C|~y))+v[14]+2878612391&4294967295,w=C+(P<<15&4294967295|P>>>17),P=y+(C^(w|~E))+v[5]+4237533241&4294967295,y=w+(P<<21&4294967295|P>>>11),P=E+(w^(y|~C))+v[12]+1700485571&4294967295,E=y+(P<<6&4294967295|P>>>26),P=C+(y^(E|~w))+v[3]+2399980690&4294967295,C=E+(P<<10&4294967295|P>>>22),P=w+(E^(C|~y))+v[10]+4293915773&4294967295,w=C+(P<<15&4294967295|P>>>17),P=y+(C^(w|~E))+v[1]+2240044497&4294967295,y=w+(P<<21&4294967295|P>>>11),P=E+(w^(y|~C))+v[8]+1873313359&4294967295,E=y+(P<<6&4294967295|P>>>26),P=C+(y^(E|~w))+v[15]+4264355552&4294967295,C=E+(P<<10&4294967295|P>>>22),P=w+(E^(C|~y))+v[6]+2734768916&4294967295,w=C+(P<<15&4294967295|P>>>17),P=y+(C^(w|~E))+v[13]+1309151649&4294967295,y=w+(P<<21&4294967295|P>>>11),P=E+(w^(y|~C))+v[4]+4149444226&4294967295,E=y+(P<<6&4294967295|P>>>26),P=C+(y^(E|~w))+v[11]+3174756917&4294967295,C=E+(P<<10&4294967295|P>>>22),P=w+(E^(C|~y))+v[2]+718787259&4294967295,w=C+(P<<15&4294967295|P>>>17),P=y+(C^(w|~E))+v[9]+3951481745&4294967295,I.g[0]=I.g[0]+E&4294967295,I.g[1]=I.g[1]+(w+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+w&4294967295,I.g[3]=I.g[3]+C&4294967295}r.prototype.u=function(I,E){E===void 0&&(E=I.length);for(var y=E-this.blockSize,v=this.B,w=this.h,C=0;C<E;){if(w==0)for(;C<=y;)i(this,I,C),C+=this.blockSize;if(typeof I=="string"){for(;C<E;)if(v[w++]=I.charCodeAt(C++),w==this.blockSize){i(this,v),w=0;break}}else for(;C<E;)if(v[w++]=I[C++],w==this.blockSize){i(this,v),w=0;break}}this.h=w,this.o+=E},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var E=1;E<I.length-8;++E)I[E]=0;var y=8*this.o;for(E=I.length-8;E<I.length;++E)I[E]=y&255,y/=256;for(this.u(I),I=Array(16),E=y=0;4>E;++E)for(var v=0;32>v;v+=8)I[y++]=this.g[E]>>>v&255;return I};function s(I,E){var y=a;return Object.prototype.hasOwnProperty.call(y,I)?y[I]:y[I]=E(I)}function o(I,E){this.h=E;for(var y=[],v=!0,w=I.length-1;0<=w;w--){var C=I[w]|0;v&&C==E||(y[w]=C,v=!1)}this.g=y}var a={};function l(I){return-128<=I&&128>I?s(I,function(E){return new o([E|0],0>E?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return A(u(-I));for(var E=[],y=1,v=0;I>=y;v++)E[v]=I/y|0,y*=4294967296;return new o(E,0)}function c(I,E){if(I.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(I.charAt(0)=="-")return A(c(I.substring(1),E));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=u(Math.pow(E,8)),v=h,w=0;w<I.length;w+=8){var C=Math.min(8,I.length-w),P=parseInt(I.substring(w,w+C),E);8>C?(C=u(Math.pow(E,C)),v=v.j(C).add(u(P))):(v=v.j(y),v=v.add(u(P)))}return v}var h=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(b(this))return-A(this).m();for(var I=0,E=1,y=0;y<this.g.length;y++){var v=this.i(y);I+=(0<=v?v:4294967296+v)*E,E*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(g(this))return"0";if(b(this))return"-"+A(this).toString(I);for(var E=u(Math.pow(I,6)),y=this,v="";;){var w=S(y,E).g;y=R(y,w.j(E));var C=((0<y.g.length?y.g[0]:y.h)>>>0).toString(I);if(y=w,g(y))return C+v;for(;6>C.length;)C="0"+C;v=C+v}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function g(I){if(I.h!=0)return!1;for(var E=0;E<I.g.length;E++)if(I.g[E]!=0)return!1;return!0}function b(I){return I.h==-1}t.l=function(I){return I=R(this,I),b(I)?-1:g(I)?0:1};function A(I){for(var E=I.g.length,y=[],v=0;v<E;v++)y[v]=~I.g[v];return new o(y,~I.h).add(f)}t.abs=function(){return b(this)?A(this):this},t.add=function(I){for(var E=Math.max(this.g.length,I.g.length),y=[],v=0,w=0;w<=E;w++){var C=v+(this.i(w)&65535)+(I.i(w)&65535),P=(C>>>16)+(this.i(w)>>>16)+(I.i(w)>>>16);v=P>>>16,C&=65535,P&=65535,y[w]=P<<16|C}return new o(y,y[y.length-1]&-2147483648?-1:0)};function R(I,E){return I.add(A(E))}t.j=function(I){if(g(this)||g(I))return h;if(b(this))return b(I)?A(this).j(A(I)):A(A(this).j(I));if(b(I))return A(this.j(A(I)));if(0>this.l(p)&&0>I.l(p))return u(this.m()*I.m());for(var E=this.g.length+I.g.length,y=[],v=0;v<2*E;v++)y[v]=0;for(v=0;v<this.g.length;v++)for(var w=0;w<I.g.length;w++){var C=this.i(v)>>>16,P=this.i(v)&65535,q=I.i(w)>>>16,$=I.i(w)&65535;y[2*v+2*w]+=P*$,k(y,2*v+2*w),y[2*v+2*w+1]+=C*$,k(y,2*v+2*w+1),y[2*v+2*w+1]+=P*q,k(y,2*v+2*w+1),y[2*v+2*w+2]+=C*q,k(y,2*v+2*w+2)}for(v=0;v<E;v++)y[v]=y[2*v+1]<<16|y[2*v];for(v=E;v<2*E;v++)y[v]=0;return new o(y,0)};function k(I,E){for(;(I[E]&65535)!=I[E];)I[E+1]+=I[E]>>>16,I[E]&=65535,E++}function T(I,E){this.g=I,this.h=E}function S(I,E){if(g(E))throw Error("division by zero");if(g(I))return new T(h,h);if(b(I))return E=S(A(I),E),new T(A(E.g),A(E.h));if(b(E))return E=S(I,A(E)),new T(A(E.g),E.h);if(30<I.g.length){if(b(I)||b(E))throw Error("slowDivide_ only works with positive integers.");for(var y=f,v=E;0>=v.l(I);)y=M(y),v=M(v);var w=L(y,1),C=L(v,1);for(v=L(v,2),y=L(y,2);!g(v);){var P=C.add(v);0>=P.l(I)&&(w=w.add(y),C=P),v=L(v,1),y=L(y,1)}return E=R(I,w.j(E)),new T(w,E)}for(w=h;0<=I.l(E);){for(y=Math.max(1,Math.floor(I.m()/E.m())),v=Math.ceil(Math.log(y)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),C=u(y),P=C.j(E);b(P)||0<P.l(I);)y-=v,C=u(y),P=C.j(E);g(C)&&(C=f),w=w.add(C),I=R(I,P)}return new T(w,I)}t.A=function(I){return S(this,I).h},t.and=function(I){for(var E=Math.max(this.g.length,I.g.length),y=[],v=0;v<E;v++)y[v]=this.i(v)&I.i(v);return new o(y,this.h&I.h)},t.or=function(I){for(var E=Math.max(this.g.length,I.g.length),y=[],v=0;v<E;v++)y[v]=this.i(v)|I.i(v);return new o(y,this.h|I.h)},t.xor=function(I){for(var E=Math.max(this.g.length,I.g.length),y=[],v=0;v<E;v++)y[v]=this.i(v)^I.i(v);return new o(y,this.h^I.h)};function M(I){for(var E=I.g.length+1,y=[],v=0;v<E;v++)y[v]=I.i(v)<<1|I.i(v-1)>>>31;return new o(y,I.h)}function L(I,E){var y=E>>5;E%=32;for(var v=I.g.length-y,w=[],C=0;C<v;C++)w[C]=0<E?I.i(C+y)>>>E|I.i(C+y+1)<<32-E:I.i(C+y);return new o(w,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,tP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Qo=o}).apply(typeof i1<"u"?i1:typeof self<"u"?self:typeof window<"u"?window:{});var Th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nP,zu,rP,Yh,Lv,iP,sP,oP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,m,_){return d==Array.prototype||d==Object.prototype||(d[m]=_.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Th=="object"&&Th];for(var m=0;m<d.length;++m){var _=d[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(d,m){if(m)e:{var _=r;d=d.split(".");for(var N=0;N<d.length-1;N++){var J=d[N];if(!(J in _))break e;_=_[J]}d=d[d.length-1],N=_[d],m=m(N),m!=N&&m!=null&&e(_,d,{configurable:!0,writable:!0,value:m})}}function s(d,m){d instanceof String&&(d+="");var _=0,N=!1,J={next:function(){if(!N&&_<d.length){var re=_++;return{value:m(re,d[re]),done:!1}}return N=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(d){return d||function(){return s(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var m=typeof d;return m=m!="object"?m:d?Array.isArray(d)?"array":m:"null",m=="array"||m=="object"&&typeof d.length=="number"}function u(d){var m=typeof d;return m=="object"&&d!=null||m=="function"}function c(d,m,_){return d.call.apply(d.bind,arguments)}function h(d,m,_){if(!d)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,N),d.apply(m,J)}}return function(){return d.apply(m,arguments)}}function f(d,m,_){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,f.apply(null,arguments)}function p(d,m){var _=Array.prototype.slice.call(arguments,1);return function(){var N=_.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function g(d,m){function _(){}_.prototype=m.prototype,d.aa=m.prototype,d.prototype=new _,d.prototype.constructor=d,d.Qb=function(N,J,re){for(var Ae=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)Ae[Ht-2]=arguments[Ht];return m.prototype[J].apply(N,Ae)}}function b(d){const m=d.length;if(0<m){const _=Array(m);for(let N=0;N<m;N++)_[N]=d[N];return _}return[]}function A(d,m){for(let _=1;_<arguments.length;_++){const N=arguments[_];if(l(N)){const J=d.length||0,re=N.length||0;d.length=J+re;for(let Ae=0;Ae<re;Ae++)d[J+Ae]=N[Ae]}else d.push(N)}}class R{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function k(d){return/^[\s\xa0]*$/.test(d)}function T(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function S(d){return S[" "](d),d}S[" "]=function(){};var M=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function L(d,m,_){for(const N in d)m.call(_,d[N],N,d)}function I(d,m){for(const _ in d)m.call(void 0,d[_],_,d)}function E(d){const m={};for(const _ in d)m[_]=d[_];return m}const y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(d,m){let _,N;for(let J=1;J<arguments.length;J++){N=arguments[J];for(_ in N)d[_]=N[_];for(let re=0;re<y.length;re++)_=y[re],Object.prototype.hasOwnProperty.call(N,_)&&(d[_]=N[_])}}function w(d){var m=1;d=d.split(":");const _=[];for(;0<m&&d.length;)_.push(d.shift()),m--;return d.length&&_.push(d.join(":")),_}function C(d){a.setTimeout(()=>{throw d},0)}function P(){var d=x;let m=null;return d.g&&(m=d.g,d.g=d.g.next,d.g||(d.h=null),m.next=null),m}class q{constructor(){this.h=this.g=null}add(m,_){const N=$.get();N.set(m,_),this.h?this.h.next=N:this.g=N,this.h=N}}var $=new R(()=>new j,d=>d.reset());class j{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let F,U=!1,x=new q,O=()=>{const d=a.Promise.resolve(void 0);F=()=>{d.then(z)}};var z=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(_){C(_)}var m=$;m.j(d),100>m.h&&(m.h++,d.next=m.g,m.g=d)}U=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(d,m){this.type=d,this.g=this.target=m,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,m=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const _=()=>{};a.addEventListener("test",_,m),a.removeEventListener("test",_,m)}catch{}return d}();function Z(d,m){if(te.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var _=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=m,m=d.relatedTarget){if(M){e:{try{S(m.nodeName);var J=!0;break e}catch{}J=!1}J||(m=null)}}else _=="mouseover"?m=d.fromElement:_=="mouseout"&&(m=d.toElement);this.relatedTarget=m,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:H[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Z.aa.h.call(this)}}g(Z,te);var H={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),ie=0;function X(d,m,_,N,J){this.listener=d,this.proxy=null,this.src=m,this.type=_,this.capture=!!N,this.ha=J,this.key=++ie,this.da=this.fa=!1}function ce(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function be(d){this.src=d,this.g={},this.h=0}be.prototype.add=function(d,m,_,N,J){var re=d.toString();d=this.g[re],d||(d=this.g[re]=[],this.h++);var Ae=D(d,m,N,J);return-1<Ae?(m=d[Ae],_||(m.fa=!1)):(m=new X(m,this.src,re,!!N,J),m.fa=_,d.push(m)),m};function ne(d,m){var _=m.type;if(_ in d.g){var N=d.g[_],J=Array.prototype.indexOf.call(N,m,void 0),re;(re=0<=J)&&Array.prototype.splice.call(N,J,1),re&&(ce(m),d.g[_].length==0&&(delete d.g[_],d.h--))}}function D(d,m,_,N){for(var J=0;J<d.length;++J){var re=d[J];if(!re.da&&re.listener==m&&re.capture==!!_&&re.ha==N)return J}return-1}var V="closure_lm_"+(1e6*Math.random()|0),B={};function oe(d,m,_,N,J){if(N&&N.once)return Se(d,m,_,N,J);if(Array.isArray(m)){for(var re=0;re<m.length;re++)oe(d,m[re],_,N,J);return null}return _=Ge(_),d&&d[Q]?d.K(m,_,u(N)?!!N.capture:!!N,J):se(d,m,_,!1,N,J)}function se(d,m,_,N,J,re){if(!m)throw Error("Invalid event type");var Ae=u(J)?!!J.capture:!!J,Ht=Ie(d);if(Ht||(d[V]=Ht=new be(d)),_=Ht.add(m,_,N,Ae,re),_.proxy)return _;if(N=me(),_.proxy=N,N.src=d,N.listener=_,d.addEventListener)he||(J=Ae),J===void 0&&(J=!1),d.addEventListener(m.toString(),N,J);else if(d.attachEvent)d.attachEvent(ge(m.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return _}function me(){function d(_){return m.call(d.src,d.listener,_)}const m=He;return d}function Se(d,m,_,N,J){if(Array.isArray(m)){for(var re=0;re<m.length;re++)Se(d,m[re],_,N,J);return null}return _=Ge(_),d&&d[Q]?d.L(m,_,u(N)?!!N.capture:!!N,J):se(d,m,_,!0,N,J)}function Ee(d,m,_,N,J){if(Array.isArray(m))for(var re=0;re<m.length;re++)Ee(d,m[re],_,N,J);else N=u(N)?!!N.capture:!!N,_=Ge(_),d&&d[Q]?(d=d.i,m=String(m).toString(),m in d.g&&(re=d.g[m],_=D(re,_,N,J),-1<_&&(ce(re[_]),Array.prototype.splice.call(re,_,1),re.length==0&&(delete d.g[m],d.h--)))):d&&(d=Ie(d))&&(m=d.g[m.toString()],d=-1,m&&(d=D(m,_,N,J)),(_=-1<d?m[d]:null)&&Te(_))}function Te(d){if(typeof d!="number"&&d&&!d.da){var m=d.src;if(m&&m[Q])ne(m.i,d);else{var _=d.type,N=d.proxy;m.removeEventListener?m.removeEventListener(_,N,d.capture):m.detachEvent?m.detachEvent(ge(_),N):m.addListener&&m.removeListener&&m.removeListener(N),(_=Ie(m))?(ne(_,d),_.h==0&&(_.src=null,m[V]=null)):ce(d)}}}function ge(d){return d in B?B[d]:B[d]="on"+d}function He(d,m){if(d.da)d=!0;else{m=new Z(m,this);var _=d.listener,N=d.ha||d.src;d.fa&&Te(d),d=_.call(N,m)}return d}function Ie(d){return d=d[V],d instanceof be?d:null}var Fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ge(d){return typeof d=="function"?d:(d[Fe]||(d[Fe]=function(m){return d.handleEvent(m)}),d[Fe])}function Ke(){K.call(this),this.i=new be(this),this.M=this,this.F=null}g(Ke,K),Ke.prototype[Q]=!0,Ke.prototype.removeEventListener=function(d,m,_,N){Ee(this,d,m,_,N)};function Y(d,m){var _,N=d.F;if(N)for(_=[];N;N=N.F)_.push(N);if(d=d.M,N=m.type||m,typeof m=="string")m=new te(m,d);else if(m instanceof te)m.target=m.target||d;else{var J=m;m=new te(N,d),v(m,J)}if(J=!0,_)for(var re=_.length-1;0<=re;re--){var Ae=m.g=_[re];J=ae(Ae,N,!0,m)&&J}if(Ae=m.g=d,J=ae(Ae,N,!0,m)&&J,J=ae(Ae,N,!1,m)&&J,_)for(re=0;re<_.length;re++)Ae=m.g=_[re],J=ae(Ae,N,!1,m)&&J}Ke.prototype.N=function(){if(Ke.aa.N.call(this),this.i){var d=this.i,m;for(m in d.g){for(var _=d.g[m],N=0;N<_.length;N++)ce(_[N]);delete d.g[m],d.h--}}this.F=null},Ke.prototype.K=function(d,m,_,N){return this.i.add(String(d),m,!1,_,N)},Ke.prototype.L=function(d,m,_,N){return this.i.add(String(d),m,!0,_,N)};function ae(d,m,_,N){if(m=d.i.g[String(m)],!m)return!0;m=m.concat();for(var J=!0,re=0;re<m.length;++re){var Ae=m[re];if(Ae&&!Ae.da&&Ae.capture==_){var Ht=Ae.listener,qn=Ae.ha||Ae.src;Ae.fa&&ne(d.i,Ae),J=Ht.call(qn,N)!==!1&&J}}return J&&!N.defaultPrevented}function xe(d,m,_){if(typeof d=="function")_&&(d=f(d,_));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(d,m||0)}function We(d){d.g=xe(()=>{d.g=null,d.i&&(d.i=!1,We(d))},d.l);const m=d.h;d.h=null,d.m.apply(null,m)}class ct extends K{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:We(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nt(d){K.call(this),this.h=d,this.g={}}g(Nt,K);var Hn=[];function Oe(d){L(d.g,function(m,_){this.g.hasOwnProperty(_)&&Te(m)},d),d.g={}}Nt.prototype.N=function(){Nt.aa.N.call(this),Oe(this)},Nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Be=a.JSON.stringify,je=a.JSON.parse,Wn=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Hr(){}Hr.prototype.h=null;function Na(d){return d.h||(d.h=d.i())}function Nb(){}var pu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cm(){te.call(this,"d")}g(Cm,te);function Am(){te.call(this,"c")}g(Am,te);var ko={},Mb=null;function Gd(){return Mb=Mb||new Ke}ko.La="serverreachability";function Lb(d){te.call(this,ko.La,d)}g(Lb,te);function mu(d){const m=Gd();Y(m,new Lb(m))}ko.STAT_EVENT="statevent";function Vb(d,m){te.call(this,ko.STAT_EVENT,d),this.stat=m}g(Vb,te);function wr(d){const m=Gd();Y(m,new Vb(m,d))}ko.Ma="timingevent";function Fb(d,m){te.call(this,ko.Ma,d),this.size=m}g(Fb,te);function gu(d,m){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},m)}function vu(){this.g=!0}vu.prototype.xa=function(){this.g=!1};function _N(d,m,_,N,J,re){d.info(function(){if(d.g)if(re)for(var Ae="",Ht=re.split("&"),qn=0;qn<Ht.length;qn++){var Ct=Ht[qn].split("=");if(1<Ct.length){var rr=Ct[0];Ct=Ct[1];var ir=rr.split("_");Ae=2<=ir.length&&ir[1]=="type"?Ae+(rr+"="+Ct+"&"):Ae+(rr+"=redacted&")}}else Ae=null;else Ae=re;return"XMLHTTP REQ ("+N+") [attempt "+J+"]: "+m+`
`+_+`
`+Ae})}function bN(d,m,_,N,J,re,Ae){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+J+"]: "+m+`
`+_+`
`+re+" "+Ae})}function Ma(d,m,_,N){d.info(function(){return"XMLHTTP TEXT ("+m+"): "+TN(d,_)+(N?" "+N:"")})}function wN(d,m){d.info(function(){return"TIMEOUT: "+m})}vu.prototype.info=function(){};function TN(d,m){if(!d.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(d=0;d<_.length;d++)if(Array.isArray(_[d])){var N=_[d];if(!(2>N.length)){var J=N[1];if(Array.isArray(J)&&!(1>J.length)){var re=J[0];if(re!="noop"&&re!="stop"&&re!="close")for(var Ae=1;Ae<J.length;Ae++)J[Ae]=""}}}}return Be(_)}catch{return m}}var Qd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$b={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Om;function Xd(){}g(Xd,Hr),Xd.prototype.g=function(){return new XMLHttpRequest},Xd.prototype.i=function(){return{}},Om=new Xd;function Ms(d,m,_,N){this.j=d,this.i=m,this.l=_,this.R=N||1,this.U=new Nt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ub}function Ub(){this.i=null,this.g="",this.h=!1}var Bb={},Pm={};function km(d,m,_){d.L=1,d.v=th(is(m)),d.m=_,d.P=!0,jb(d,null)}function jb(d,m){d.F=Date.now(),Jd(d),d.A=is(d.v);var _=d.A,N=d.R;Array.isArray(N)||(N=[String(N)]),nw(_.i,"t",N),d.C=0,_=d.j.J,d.h=new Ub,d.g=bw(d.j,_?m:null,!d.m),0<d.O&&(d.M=new ct(f(d.Y,d,d.g),d.O)),m=d.U,_=d.g,N=d.ca;var J="readystatechange";Array.isArray(J)||(J&&(Hn[0]=J.toString()),J=Hn);for(var re=0;re<J.length;re++){var Ae=oe(_,J[re],N||m.handleEvent,!1,m.h||m);if(!Ae)break;m.g[Ae.key]=Ae}m=d.H?E(d.H):{},d.m?(d.u||(d.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,m)):(d.u="GET",d.g.ea(d.A,d.u,null,m)),mu(),_N(d.i,d.u,d.A,d.l,d.R,d.m)}Ms.prototype.ca=function(d){d=d.target;const m=this.M;m&&ss(d)==3?m.j():this.Y(d)},Ms.prototype.Y=function(d){try{if(d==this.g)e:{const ir=ss(this.g);var m=this.g.Ba();const Fa=this.g.Z();if(!(3>ir)&&(ir!=3||this.g&&(this.h.h||this.g.oa()||uw(this.g)))){this.J||ir!=4||m==7||(m==8||0>=Fa?mu(3):mu(2)),Rm(this);var _=this.g.Z();this.X=_;t:if(Hb(this)){var N=uw(this.g);d="";var J=N.length,re=ss(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ro(this),yu(this);var Ae="";break t}this.h.i=new a.TextDecoder}for(m=0;m<J;m++)this.h.h=!0,d+=this.h.i.decode(N[m],{stream:!(re&&m==J-1)});N.length=0,this.h.g+=d,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=_==200,bN(this.i,this.u,this.A,this.l,this.R,ir,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ht,qn=this.g;if((Ht=qn.g?qn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(Ht)){var Ct=Ht;break t}}Ct=null}if(_=Ct)Ma(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dm(this,_);else{this.o=!1,this.s=3,wr(12),Ro(this),yu(this);break e}}if(this.P){_=!0;let mi;for(;!this.J&&this.C<Ae.length;)if(mi=EN(this,Ae),mi==Pm){ir==4&&(this.s=4,wr(14),_=!1),Ma(this.i,this.l,null,"[Incomplete Response]");break}else if(mi==Bb){this.s=4,wr(15),Ma(this.i,this.l,Ae,"[Invalid Chunk]"),_=!1;break}else Ma(this.i,this.l,mi,null),Dm(this,mi);if(Hb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ir!=4||Ae.length!=0||this.h.h||(this.s=1,wr(16),_=!1),this.o=this.o&&_,!_)Ma(this.i,this.l,Ae,"[Invalid Chunked Response]"),Ro(this),yu(this);else if(0<Ae.length&&!this.W){this.W=!0;var rr=this.j;rr.g==this&&rr.ba&&!rr.M&&(rr.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),Fm(rr),rr.M=!0,wr(11))}}else Ma(this.i,this.l,Ae,null),Dm(this,Ae);ir==4&&Ro(this),this.o&&!this.J&&(ir==4?gw(this.j,this):(this.o=!1,Jd(this)))}else UN(this.g),_==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,wr(12)):(this.s=0,wr(13)),Ro(this),yu(this)}}}catch{}finally{}};function Hb(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function EN(d,m){var _=d.C,N=m.indexOf(`
`,_);return N==-1?Pm:(_=Number(m.substring(_,N)),isNaN(_)?Bb:(N+=1,N+_>m.length?Pm:(m=m.slice(N,N+_),d.C=N+_,m)))}Ms.prototype.cancel=function(){this.J=!0,Ro(this)};function Jd(d){d.S=Date.now()+d.I,Wb(d,d.I)}function Wb(d,m){if(d.B!=null)throw Error("WatchDog timer not null");d.B=gu(f(d.ba,d),m)}function Rm(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Ms.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(wN(this.i,this.A),this.L!=2&&(mu(),wr(17)),Ro(this),this.s=2,yu(this)):Wb(this,this.S-d)};function yu(d){d.j.G==0||d.J||gw(d.j,d)}function Ro(d){Rm(d);var m=d.M;m&&typeof m.ma=="function"&&m.ma(),d.M=null,Oe(d.U),d.g&&(m=d.g,d.g=null,m.abort(),m.ma())}function Dm(d,m){try{var _=d.j;if(_.G!=0&&(_.g==d||xm(_.h,d))){if(!d.K&&xm(_.h,d)&&_.G==3){try{var N=_.Da.g.parse(m)}catch{N=null}if(Array.isArray(N)&&N.length==3){var J=N;if(J[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<d.F)ah(_),sh(_);else break e;Vm(_),wr(18)}}else _.za=J[1],0<_.za-_.T&&37500>J[2]&&_.F&&_.v==0&&!_.C&&(_.C=gu(f(_.Za,_),6e3));if(1>=Kb(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else xo(_,11)}else if((d.K||_.g==d)&&ah(_),!k(m))for(J=_.Da.g.parse(m),m=0;m<J.length;m++){let Ct=J[m];if(_.T=Ct[0],Ct=Ct[1],_.G==2)if(Ct[0]=="c"){_.K=Ct[1],_.ia=Ct[2];const rr=Ct[3];rr!=null&&(_.la=rr,_.j.info("VER="+_.la));const ir=Ct[4];ir!=null&&(_.Aa=ir,_.j.info("SVER="+_.Aa));const Fa=Ct[5];Fa!=null&&typeof Fa=="number"&&0<Fa&&(N=1.5*Fa,_.L=N,_.j.info("backChannelRequestTimeoutMs_="+N)),N=_;const mi=d.g;if(mi){const uh=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(uh){var re=N.h;re.g||uh.indexOf("spdy")==-1&&uh.indexOf("quic")==-1&&uh.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Nm(re,re.h),re.h=null))}if(N.D){const $m=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;$m&&(N.ya=$m,Zt(N.I,N.D,$m))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-d.F,_.j.info("Handshake RTT: "+_.R+"ms")),N=_;var Ae=d;if(N.qa=_w(N,N.J?N.ia:null,N.W),Ae.K){Yb(N.h,Ae);var Ht=Ae,qn=N.L;qn&&(Ht.I=qn),Ht.B&&(Rm(Ht),Jd(Ht)),N.g=Ae}else pw(N);0<_.i.length&&oh(_)}else Ct[0]!="stop"&&Ct[0]!="close"||xo(_,7);else _.G==3&&(Ct[0]=="stop"||Ct[0]=="close"?Ct[0]=="stop"?xo(_,7):Lm(_):Ct[0]!="noop"&&_.l&&_.l.ta(Ct),_.v=0)}}mu(4)}catch{}}var IN=class{constructor(d,m){this.g=d,this.map=m}};function qb(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zb(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Kb(d){return d.h?1:d.g?d.g.size:0}function xm(d,m){return d.h?d.h==m:d.g?d.g.has(m):!1}function Nm(d,m){d.g?d.g.add(m):d.h=m}function Yb(d,m){d.h&&d.h==m?d.h=null:d.g&&d.g.has(m)&&d.g.delete(m)}qb.prototype.cancel=function(){if(this.i=Gb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Gb(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let m=d.i;for(const _ of d.g.values())m=m.concat(_.D);return m}return b(d.i)}function SN(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var m=[],_=d.length,N=0;N<_;N++)m.push(d[N]);return m}m=[],_=0;for(N in d)m[_++]=d[N];return m}function CN(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var m=[];d=d.length;for(var _=0;_<d;_++)m.push(_);return m}m=[],_=0;for(const N in d)m[_++]=N;return m}}}function Qb(d,m){if(d.forEach&&typeof d.forEach=="function")d.forEach(m,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,m,void 0);else for(var _=CN(d),N=SN(d),J=N.length,re=0;re<J;re++)m.call(void 0,N[re],_&&_[re],d)}var Xb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function AN(d,m){if(d){d=d.split("&");for(var _=0;_<d.length;_++){var N=d[_].indexOf("="),J=null;if(0<=N){var re=d[_].substring(0,N);J=d[_].substring(N+1)}else re=d[_];m(re,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Do(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Do){this.h=d.h,Zd(this,d.j),this.o=d.o,this.g=d.g,eh(this,d.s),this.l=d.l;var m=d.i,_=new wu;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Jb(this,_),this.m=d.m}else d&&(m=String(d).match(Xb))?(this.h=!1,Zd(this,m[1]||"",!0),this.o=_u(m[2]||""),this.g=_u(m[3]||"",!0),eh(this,m[4]),this.l=_u(m[5]||"",!0),Jb(this,m[6]||"",!0),this.m=_u(m[7]||"")):(this.h=!1,this.i=new wu(null,this.h))}Do.prototype.toString=function(){var d=[],m=this.j;m&&d.push(bu(m,Zb,!0),":");var _=this.g;return(_||m=="file")&&(d.push("//"),(m=this.o)&&d.push(bu(m,Zb,!0),"@"),d.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&d.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&d.push("/"),d.push(bu(_,_.charAt(0)=="/"?kN:PN,!0))),(_=this.i.toString())&&d.push("?",_),(_=this.m)&&d.push("#",bu(_,DN)),d.join("")};function is(d){return new Do(d)}function Zd(d,m,_){d.j=_?_u(m,!0):m,d.j&&(d.j=d.j.replace(/:$/,""))}function eh(d,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);d.s=m}else d.s=null}function Jb(d,m,_){m instanceof wu?(d.i=m,xN(d.i,d.h)):(_||(m=bu(m,RN)),d.i=new wu(m,d.h))}function Zt(d,m,_){d.i.set(m,_)}function th(d){return Zt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function _u(d,m){return d?m?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function bu(d,m,_){return typeof d=="string"?(d=encodeURI(d).replace(m,ON),_&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function ON(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Zb=/[#\/\?@]/g,PN=/[#\?:]/g,kN=/[#\?]/g,RN=/[#\?@]/g,DN=/#/g;function wu(d,m){this.h=this.g=null,this.i=d||null,this.j=!!m}function Ls(d){d.g||(d.g=new Map,d.h=0,d.i&&AN(d.i,function(m,_){d.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}t=wu.prototype,t.add=function(d,m){Ls(this),this.i=null,d=La(this,d);var _=this.g.get(d);return _||this.g.set(d,_=[]),_.push(m),this.h+=1,this};function ew(d,m){Ls(d),m=La(d,m),d.g.has(m)&&(d.i=null,d.h-=d.g.get(m).length,d.g.delete(m))}function tw(d,m){return Ls(d),m=La(d,m),d.g.has(m)}t.forEach=function(d,m){Ls(this),this.g.forEach(function(_,N){_.forEach(function(J){d.call(m,J,N,this)},this)},this)},t.na=function(){Ls(this);const d=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let N=0;N<m.length;N++){const J=d[N];for(let re=0;re<J.length;re++)_.push(m[N])}return _},t.V=function(d){Ls(this);let m=[];if(typeof d=="string")tw(this,d)&&(m=m.concat(this.g.get(La(this,d))));else{d=Array.from(this.g.values());for(let _=0;_<d.length;_++)m=m.concat(d[_])}return m},t.set=function(d,m){return Ls(this),this.i=null,d=La(this,d),tw(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[m]),this.h+=1,this},t.get=function(d,m){return d?(d=this.V(d),0<d.length?String(d[0]):m):m};function nw(d,m,_){ew(d,m),0<_.length&&(d.i=null,d.g.set(La(d,m),b(_)),d.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var N=m[_];const re=encodeURIComponent(String(N)),Ae=this.V(N);for(N=0;N<Ae.length;N++){var J=re;Ae[N]!==""&&(J+="="+encodeURIComponent(String(Ae[N]))),d.push(J)}}return this.i=d.join("&")};function La(d,m){return m=String(m),d.j&&(m=m.toLowerCase()),m}function xN(d,m){m&&!d.j&&(Ls(d),d.i=null,d.g.forEach(function(_,N){var J=N.toLowerCase();N!=J&&(ew(this,N),nw(this,J,_))},d)),d.j=m}function NN(d,m){const _=new vu;if(a.Image){const N=new Image;N.onload=p(Vs,_,"TestLoadImage: loaded",!0,m,N),N.onerror=p(Vs,_,"TestLoadImage: error",!1,m,N),N.onabort=p(Vs,_,"TestLoadImage: abort",!1,m,N),N.ontimeout=p(Vs,_,"TestLoadImage: timeout",!1,m,N),a.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else m(!1)}function MN(d,m){const _=new vu,N=new AbortController,J=setTimeout(()=>{N.abort(),Vs(_,"TestPingServer: timeout",!1,m)},1e4);fetch(d,{signal:N.signal}).then(re=>{clearTimeout(J),re.ok?Vs(_,"TestPingServer: ok",!0,m):Vs(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(J),Vs(_,"TestPingServer: error",!1,m)})}function Vs(d,m,_,N,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),N(_)}catch{}}function LN(){this.g=new Wn}function VN(d,m,_){const N=_||"";try{Qb(d,function(J,re){let Ae=J;u(J)&&(Ae=Be(J)),m.push(N+re+"="+encodeURIComponent(Ae))})}catch(J){throw m.push(N+"type="+encodeURIComponent("_badmap")),J}}function nh(d){this.l=d.Ub||null,this.j=d.eb||!1}g(nh,Hr),nh.prototype.g=function(){return new rh(this.l,this.j)},nh.prototype.i=function(d){return function(){return d}}({});function rh(d,m){Ke.call(this),this.D=d,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(rh,Ke),t=rh.prototype,t.open=function(d,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=m,this.readyState=1,Eu(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(m.body=d),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tu(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Eu(this)),this.g&&(this.readyState=3,Eu(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rw(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function rw(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var m=d.value?d.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!d.done}))&&(this.response=this.responseText+=m)}d.done?Tu(this):Eu(this),this.readyState==3&&rw(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Tu(this))},t.Qa=function(d){this.g&&(this.response=d,Tu(this))},t.ga=function(){this.g&&Tu(this)};function Tu(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Eu(d)}t.setRequestHeader=function(d,m){this.u.append(d,m)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,d.push(_[0]+": "+_[1]),_=m.next();return d.join(`\r
`)};function Eu(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(rh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function iw(d){let m="";return L(d,function(_,N){m+=N,m+=":",m+=_,m+=`\r
`}),m}function Mm(d,m,_){e:{for(N in _){var N=!1;break e}N=!0}N||(_=iw(_),typeof d=="string"?_!=null&&encodeURIComponent(String(_)):Zt(d,m,_))}function pn(d){Ke.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(pn,Ke);var FN=/^https?$/i,$N=["POST","PUT"];t=pn.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,m,_,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);m=m?m.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Om.g(),this.v=this.o?Na(this.o):Na(Om),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(d),!0),this.B=!1}catch(re){sw(this,re);return}if(d=_||"",_=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var J in N)_.set(J,N[J]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const re of N.keys())_.set(re,N.get(re));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(_.keys()).find(re=>re.toLowerCase()=="content-type"),J=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call($N,m,void 0))||N||J||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,Ae]of _)this.g.setRequestHeader(re,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lw(this),this.u=!0,this.g.send(d),this.u=!1}catch(re){sw(this,re)}};function sw(d,m){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=m,d.m=5,ow(d),ih(d)}function ow(d){d.A||(d.A=!0,Y(d,"complete"),Y(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Y(this,"complete"),Y(this,"abort"),ih(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ih(this,!0)),pn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?aw(this):this.bb())},t.bb=function(){aw(this)};function aw(d){if(d.h&&typeof o<"u"&&(!d.v[1]||ss(d)!=4||d.Z()!=2)){if(d.u&&ss(d)==4)xe(d.Ea,0,d);else if(Y(d,"readystatechange"),ss(d)==4){d.h=!1;try{const Ae=d.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var N;if(N=Ae===0){var J=String(d.D).match(Xb)[1]||null;!J&&a.self&&a.self.location&&(J=a.self.location.protocol.slice(0,-1)),N=!FN.test(J?J.toLowerCase():"")}_=N}if(_)Y(d,"complete"),Y(d,"success");else{d.m=6;try{var re=2<ss(d)?d.g.statusText:""}catch{re=""}d.l=re+" ["+d.Z()+"]",ow(d)}}finally{ih(d)}}}}function ih(d,m){if(d.g){lw(d);const _=d.g,N=d.v[0]?()=>{}:null;d.g=null,d.v=null,m||Y(d,"ready");try{_.onreadystatechange=N}catch{}}}function lw(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ss(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ss(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var m=this.g.responseText;return d&&m.indexOf(d)==0&&(m=m.substring(d.length)),je(m)}};function uw(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function UN(d){const m={};d=(d.g&&2<=ss(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(k(d[N]))continue;var _=w(d[N]);const J=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const re=m[J]||[];m[J]=re,re.push(_)}I(m,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Iu(d,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[d]||m}function cw(d){this.Aa=0,this.i=[],this.j=new vu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Iu("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Iu("baseRetryDelayMs",5e3,d),this.cb=Iu("retryDelaySeedMs",1e4,d),this.Wa=Iu("forwardChannelMaxRetries",2,d),this.wa=Iu("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new qb(d&&d.concurrentRequestLimit),this.Da=new LN,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=cw.prototype,t.la=8,t.G=1,t.connect=function(d,m,_,N){wr(0),this.W=d,this.H=m||{},_&&N!==void 0&&(this.H.OSID=_,this.H.OAID=N),this.F=this.X,this.I=_w(this,null,this.W),oh(this)};function Lm(d){if(dw(d),d.G==3){var m=d.U++,_=is(d.I);if(Zt(_,"SID",d.K),Zt(_,"RID",m),Zt(_,"TYPE","terminate"),Su(d,_),m=new Ms(d,d.j,m),m.L=2,m.v=th(is(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=m.v,_=!0),_||(m.g=bw(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Jd(m)}yw(d)}function sh(d){d.g&&(Fm(d),d.g.cancel(),d.g=null)}function dw(d){sh(d),d.u&&(a.clearTimeout(d.u),d.u=null),ah(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function oh(d){if(!zb(d.h)&&!d.s){d.s=!0;var m=d.Ga;F||O(),U||(F(),U=!0),x.add(m,d),d.B=0}}function BN(d,m){return Kb(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=m.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=gu(f(d.Ga,d,m),vw(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const J=new Ms(this,this.j,d);let re=this.o;if(this.S&&(re?(re=E(re),v(re,this.S)):re=this.S),this.m!==null||this.O||(J.H=re,re=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var N=this.i[_];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(m+=N,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=fw(this,J,m),_=is(this.I),Zt(_,"RID",d),Zt(_,"CVER",22),this.D&&Zt(_,"X-HTTP-Session-Id",this.D),Su(this,_),re&&(this.O?m="headers="+encodeURIComponent(String(iw(re)))+"&"+m:this.m&&Mm(_,this.m,re)),Nm(this.h,J),this.Ua&&Zt(_,"TYPE","init"),this.P?(Zt(_,"$req",m),Zt(_,"SID","null"),J.T=!0,km(J,_,null)):km(J,_,m),this.G=2}}else this.G==3&&(d?hw(this,d):this.i.length==0||zb(this.h)||hw(this))};function hw(d,m){var _;m?_=m.l:_=d.U++;const N=is(d.I);Zt(N,"SID",d.K),Zt(N,"RID",_),Zt(N,"AID",d.T),Su(d,N),d.m&&d.o&&Mm(N,d.m,d.o),_=new Ms(d,d.j,_,d.B+1),d.m===null&&(_.H=d.o),m&&(d.i=m.D.concat(d.i)),m=fw(d,_,1e3),_.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Nm(d.h,_),km(_,N,m)}function Su(d,m){d.H&&L(d.H,function(_,N){Zt(m,N,_)}),d.l&&Qb({},function(_,N){Zt(m,N,_)})}function fw(d,m,_){_=Math.min(d.i.length,_);var N=d.l?f(d.l.Na,d.l,d):null;e:{var J=d.i;let re=-1;for(;;){const Ae=["count="+_];re==-1?0<_?(re=J[0].g,Ae.push("ofs="+re)):re=0:Ae.push("ofs="+re);let Ht=!0;for(let qn=0;qn<_;qn++){let Ct=J[qn].g;const rr=J[qn].map;if(Ct-=re,0>Ct)re=Math.max(0,J[qn].g-100),Ht=!1;else try{VN(rr,Ae,"req"+Ct+"_")}catch{N&&N(rr)}}if(Ht){N=Ae.join("&");break e}}}return d=d.i.splice(0,_),m.D=d,N}function pw(d){if(!d.g&&!d.u){d.Y=1;var m=d.Fa;F||O(),U||(F(),U=!0),x.add(m,d),d.v=0}}function Vm(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=gu(f(d.Fa,d),vw(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,mw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=gu(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wr(10),sh(this),mw(this))};function Fm(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function mw(d){d.g=new Ms(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var m=is(d.qa);Zt(m,"RID","rpc"),Zt(m,"SID",d.K),Zt(m,"AID",d.T),Zt(m,"CI",d.F?"0":"1"),!d.F&&d.ja&&Zt(m,"TO",d.ja),Zt(m,"TYPE","xmlhttp"),Su(d,m),d.m&&d.o&&Mm(m,d.m,d.o),d.L&&(d.g.I=d.L);var _=d.g;d=d.ia,_.L=1,_.v=th(is(m)),_.m=null,_.P=!0,jb(_,d)}t.Za=function(){this.C!=null&&(this.C=null,sh(this),Vm(this),wr(19))};function ah(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function gw(d,m){var _=null;if(d.g==m){ah(d),Fm(d),d.g=null;var N=2}else if(xm(d.h,m))_=m.D,Yb(d.h,m),N=1;else return;if(d.G!=0){if(m.o)if(N==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var J=d.B;N=Gd(),Y(N,new Fb(N,_)),oh(d)}else pw(d);else if(J=m.s,J==3||J==0&&0<m.X||!(N==1&&BN(d,m)||N==2&&Vm(d)))switch(_&&0<_.length&&(m=d.h,m.i=m.i.concat(_)),J){case 1:xo(d,5);break;case 4:xo(d,10);break;case 3:xo(d,6);break;default:xo(d,2)}}}function vw(d,m){let _=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(_*=2),_*m}function xo(d,m){if(d.j.info("Error code "+m),m==2){var _=f(d.fb,d),N=d.Xa;const J=!N;N=new Do(N||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Zd(N,"https"),th(N),J?NN(N.toString(),_):MN(N.toString(),_)}else wr(2);d.G=0,d.l&&d.l.sa(m),yw(d),dw(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),wr(2)):(this.j.info("Failed to ping google.com"),wr(1))};function yw(d){if(d.G=0,d.ka=[],d.l){const m=Gb(d.h);(m.length!=0||d.i.length!=0)&&(A(d.ka,m),A(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function _w(d,m,_){var N=_ instanceof Do?is(_):new Do(_);if(N.g!="")m&&(N.g=m+"."+N.g),eh(N,N.s);else{var J=a.location;N=J.protocol,m=m?m+"."+J.hostname:J.hostname,J=+J.port;var re=new Do(null);N&&Zd(re,N),m&&(re.g=m),J&&eh(re,J),_&&(re.l=_),N=re}return _=d.D,m=d.ya,_&&m&&Zt(N,_,m),Zt(N,"VER",d.la),Su(d,N),N}function bw(d,m,_){if(m&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=d.Ca&&!d.pa?new pn(new nh({eb:_})):new pn(d.pa),m.Ha(d.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ww(){}t=ww.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function lh(){}lh.prototype.g=function(d,m){return new Wr(d,m)};function Wr(d,m){Ke.call(this),this.g=new cw(m),this.l=d,this.h=m&&m.messageUrlParams||null,d=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(d?d["X-WebChannel-Content-Type"]=m.messageContentType:d={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(d?d["X-WebChannel-Client-Profile"]=m.va:d={"X-WebChannel-Client-Profile":m.va}),this.g.S=d,(d=m&&m.Sb)&&!k(d)&&(this.g.m=d),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!k(m)&&(this.g.D=m,d=this.h,d!==null&&m in d&&(d=this.h,m in d&&delete d[m])),this.j=new Va(this)}g(Wr,Ke),Wr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wr.prototype.close=function(){Lm(this.g)},Wr.prototype.o=function(d){var m=this.g;if(typeof d=="string"){var _={};_.__data__=d,d=_}else this.u&&(_={},_.__data__=Be(d),d=_);m.i.push(new IN(m.Ya++,d)),m.G==3&&oh(m)},Wr.prototype.N=function(){this.g.l=null,delete this.j,Lm(this.g),delete this.g,Wr.aa.N.call(this)};function Tw(d){Cm.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var m=d.__sm__;if(m){e:{for(const _ in m){d=_;break e}d=void 0}(this.i=d)&&(d=this.i,m=m!==null&&d in m?m[d]:void 0),this.data=m}else this.data=d}g(Tw,Cm);function Ew(){Am.call(this),this.status=1}g(Ew,Am);function Va(d){this.g=d}g(Va,ww),Va.prototype.ua=function(){Y(this.g,"a")},Va.prototype.ta=function(d){Y(this.g,new Tw(d))},Va.prototype.sa=function(d){Y(this.g,new Ew)},Va.prototype.ra=function(){Y(this.g,"b")},lh.prototype.createWebChannel=lh.prototype.g,Wr.prototype.send=Wr.prototype.o,Wr.prototype.open=Wr.prototype.m,Wr.prototype.close=Wr.prototype.close,oP=function(){return new lh},sP=function(){return Gd()},iP=ko,Lv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qd.NO_ERROR=0,Qd.TIMEOUT=8,Qd.HTTP_ERROR=6,Yh=Qd,$b.COMPLETE="complete",rP=$b,Nb.EventType=pu,pu.OPEN="a",pu.CLOSE="b",pu.ERROR="c",pu.MESSAGE="d",Ke.prototype.listen=Ke.prototype.K,zu=Nb,pn.prototype.listenOnce=pn.prototype.L,pn.prototype.getLastError=pn.prototype.Ka,pn.prototype.getLastErrorCode=pn.prototype.Ba,pn.prototype.getStatus=pn.prototype.Z,pn.prototype.getResponseJson=pn.prototype.Oa,pn.prototype.getResponseText=pn.prototype.oa,pn.prototype.send=pn.prototype.ea,pn.prototype.setWithCredentials=pn.prototype.Ha,nP=pn}).apply(typeof Th<"u"?Th:typeof self<"u"?self:typeof window<"u"?window:{});const s1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ar.UNAUTHENTICATED=new ar(null),ar.GOOGLE_CREDENTIALS=new ar("google-credentials-uid"),ar.FIRST_PARTY=new ar("first-party-uid"),ar.MOCK_USER=new ar("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new iu("@firebase/firestore");function ku(){return la.logLevel}function Ue(t,...e){if(la.logLevel<=ht.DEBUG){const n=e.map(P_);la.debug(`Firestore (${ou}): ${t}`,...n)}}function Cs(t,...e){if(la.logLevel<=ht.ERROR){const n=e.map(P_);la.error(`Firestore (${ou}): ${t}`,...n)}}function Nl(t,...e){if(la.logLevel<=ht.WARN){const n=e.map(P_);la.warn(`Firestore (${ou}): ${t}`,...n)}}function P_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t="Unexpected state"){const e=`FIRESTORE (${ou}) INTERNAL ASSERTION FAILED: `+t;throw Cs(e),new Error(e)}function Ut(t,e){t||rt()}function ot(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class G4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ar.UNAUTHENTICATED))}shutdown(){}}class Q4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class X4{constructor(e){this.t=e,this.currentUser=ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ut(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new bs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new bs,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new bs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ut(typeof r.accessToken=="string"),new aP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ut(e===null||typeof e=="string"),new ar(e)}}class J4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ar.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Z4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new J4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ar.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tU{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ut(this.o===void 0);const r=s=>{s.error!=null&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ut(typeof n.token=="string"),this.R=n.token,new eU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=nU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ot(t,e){return t<e?-1:t>e?1:0}function Ml(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Pe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.timestamp=e}static fromTimestamp(e){return new st(e)}static min(){return new st(new Qt(0,0))}static max(){return new st(new Qt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n,r){n===void 0?n=0:n>e.length&&rt(),r===void 0?r=e.length-n:r>e.length-n&&rt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Gt extends Hc{construct(e,n,r){return new Gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Gt(n)}static emptyPath(){return new Gt([])}}const rU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qn extends Hc{construct(e,n,r){return new Qn(e,n,r)}static isValidIdentifier(e){return rU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Qn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Pe(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Pe(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Pe(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Pe(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qn(n)}static emptyPath(){return new Qn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(Gt.fromString(e))}static fromName(e){return new Ye(Gt.fromString(e).popFirst(5))}static empty(){return new Ye(Gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new Gt(e.slice()))}}function iU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=st.fromTimestamp(r===1e9?new Qt(n+1,0):new Qt(n,r));return new yo(i,Ye.empty(),e)}function sU(t){return new yo(t.readTime,t.key,-1)}class yo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new yo(st.min(),Ye.empty(),-1)}static max(){return new yo(st.max(),Ye.empty(),-1)}}function oU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ye.comparator(t.documentKey,e.documentKey),n!==0?n:Ot(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cd(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==aU)throw t;Ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ve((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ve?n:ve.resolve(n)}catch(n){return ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ve.reject(n)}static resolve(e){return new ve((n,r)=>{n(e)})}static reject(e){return new ve((n,r)=>{r(e)})}static waitFor(e){return new ve((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ve.resolve(!1);for(const r of e)n=n.next(i=>i?ve.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ve((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new ve((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function uU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ad(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}k_.oe=-1;function $p(t){return t==null}function xf(t){return t===0&&1/t==-1/0}function cU(t){return typeof t=="number"&&Number.isInteger(t)&&!xf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ia(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let On=class Vv{constructor(e,n){this.comparator=e,this.root=n||ao.EMPTY}insert(e,n){return new Vv(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ao.BLACK,null,null))}remove(e){return new Vv(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ao.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eh(this.root,e,this.comparator,!0)}},Eh=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ao=class us{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??us.RED,this.left=i??us.EMPTY,this.right=s??us.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new us(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return us.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return us.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,us.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,us.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}};ao.EMPTY=null,ao.RED=!0,ao.BLACK=!1;ao.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ao(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.comparator=e,this.data=new On(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new a1(this.data.getIterator())}getIteratorFrom(e){return new a1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tr(this.comparator);return n.data=e,n}}class a1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.fields=e,e.sort(Qn.comparator)}static empty(){return new Kr([])}unionWith(e){let n=new tr(Qn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Kr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ml(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new cP("Invalid base64 string: "+s):s}}(e);return new nr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new nr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nr.EMPTY_BYTE_STRING=new nr("");const dU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _o(t){if(Ut(!!t),typeof t=="string"){let e=0;const n=dU.exec(t);if(Ut(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_n(t.seconds),nanos:_n(t.nanos)}}function _n(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ua(t){return typeof t=="string"?nr.fromBase64String(t):nr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function R_(t){const e=t.mapValue.fields.__previous_value__;return Up(e)?R_(e):e}function Wc(t){const e=_o(t.mapValue.fields.__local_write_time__.timestampValue);return new Qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class qc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new qc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof qc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ca(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Up(t)?4:pU(t)?9007199254740991:fU(t)?10:11:rt()}function es(t,e){if(t===e)return!0;const n=ca(t);if(n!==ca(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wc(t).isEqual(Wc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=_o(i.timestampValue),a=_o(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ua(i.bytesValue).isEqual(ua(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return _n(i.geoPointValue.latitude)===_n(s.geoPointValue.latitude)&&_n(i.geoPointValue.longitude)===_n(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return _n(i.integerValue)===_n(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=_n(i.doubleValue),a=_n(s.doubleValue);return o===a?xf(o)===xf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ml(t.arrayValue.values||[],e.arrayValue.values||[],es);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(o1(o)!==o1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!es(o[l],a[l])))return!1;return!0}(t,e);default:return rt()}}function zc(t,e){return(t.values||[]).find(n=>es(n,e))!==void 0}function Ll(t,e){if(t===e)return 0;const n=ca(t),r=ca(e);if(n!==r)return Ot(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=_n(s.integerValue||s.doubleValue),l=_n(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return l1(t.timestampValue,e.timestampValue);case 4:return l1(Wc(t),Wc(e));case 5:return Ot(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ua(s),l=ua(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ot(a[u],l[u]);if(c!==0)return c}return Ot(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ot(_n(s.latitude),_n(o.latitude));return a!==0?a:Ot(_n(s.longitude),_n(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return u1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const h=s.fields||{},f=o.fields||{},p=(a=h.value)===null||a===void 0?void 0:a.arrayValue,g=(l=f.value)===null||l===void 0?void 0:l.arrayValue,b=Ot(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return b!==0?b:u1(p,g)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ih.mapValue&&o===Ih.mapValue)return 0;if(s===Ih.mapValue)return 1;if(o===Ih.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const f=Ot(l[h],c[h]);if(f!==0)return f;const p=Ll(a[l[h]],u[c[h]]);if(p!==0)return p}return Ot(l.length,c.length)}(t.mapValue,e.mapValue);default:throw rt()}}function l1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ot(t,e);const n=_o(t),r=_o(e),i=Ot(n.seconds,r.seconds);return i!==0?i:Ot(n.nanos,r.nanos)}function u1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ll(n[i],r[i]);if(s)return s}return Ot(n.length,r.length)}function Vl(t){return Fv(t)}function Fv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=_o(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ua(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Fv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Fv(n.fields[o])}`;return i+"}"}(t.mapValue):rt()}function Nf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $v(t){return!!t&&"integerValue"in t}function D_(t){return!!t&&"arrayValue"in t}function c1(t){return!!t&&"nullValue"in t}function d1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gh(t){return!!t&&"mapValue"in t}function fU(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function cc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ia(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function pU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.value=e}static empty(){return new Vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cc(n)}setAll(e){let n=Qn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=cc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return es(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Gh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ia(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Vr(cc(this.value))}}function dP(t){const e=[];return Ia(t.fields,(n,r)=>{const i=new Qn([n]);if(Gh(r)){const s=dP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Kr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new cr(e,0,st.min(),st.min(),st.min(),Vr.empty(),0)}static newFoundDocument(e,n,r,i){return new cr(e,1,n,st.min(),r,i,0)}static newNoDocument(e,n){return new cr(e,2,n,st.min(),st.min(),Vr.empty(),0)}static newUnknownDocument(e,n){return new cr(e,3,n,st.min(),st.min(),Vr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(st.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=st.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n){this.position=e,this.inclusive=n}}function h1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Ye.comparator(Ye.fromName(o.referenceValue),n.key):r=Ll(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function f1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!es(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n="asc"){this.field=e,this.dir=n}}function mU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{}class An extends hP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new vU(e,n,r):n==="array-contains"?new bU(e,r):n==="in"?new wU(e,r):n==="not-in"?new TU(e,r):n==="array-contains-any"?new EU(e,r):new An(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yU(e,r):new _U(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ll(n,this.value)):n!==null&&ca(this.value)===ca(n)&&this.matchesComparison(Ll(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends hP{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new xi(e,n)}matches(e){return fP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function fP(t){return t.op==="and"}function pP(t){return gU(t)&&fP(t)}function gU(t){for(const e of t.filters)if(e instanceof xi)return!1;return!0}function Uv(t){if(t instanceof An)return t.field.canonicalString()+t.op.toString()+Vl(t.value);if(pP(t))return t.filters.map(e=>Uv(e)).join(",");{const e=t.filters.map(n=>Uv(n)).join(",");return`${t.op}(${e})`}}function mP(t,e){return t instanceof An?function(r,i){return i instanceof An&&r.op===i.op&&r.field.isEqual(i.field)&&es(r.value,i.value)}(t,e):t instanceof xi?function(r,i){return i instanceof xi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&mP(o,i.filters[a]),!0):!1}(t,e):void rt()}function gP(t){return t instanceof An?function(n){return`${n.field.canonicalString()} ${n.op} ${Vl(n.value)}`}(t):t instanceof xi?function(n){return n.op.toString()+" {"+n.getFilters().map(gP).join(" ,")+"}"}(t):"Filter"}class vU extends An{constructor(e,n,r){super(e,n,r),this.key=Ye.fromName(r.referenceValue)}matches(e){const n=Ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class yU extends An{constructor(e,n){super(e,"in",n),this.keys=vP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _U extends An{constructor(e,n){super(e,"not-in",n),this.keys=vP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ye.fromName(r.referenceValue))}class bU extends An{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return D_(n)&&zc(n.arrayValue,this.value)}}class wU extends An{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zc(this.value.arrayValue,n)}}class TU extends An{constructor(e,n){super(e,"not-in",n)}matches(e){if(zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!zc(this.value.arrayValue,n)}}class EU extends An{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!D_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function p1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new IU(t,e,n,r,i,s,o)}function x_(t){const e=ot(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Uv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),$p(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vl(r)).join(",")),e.ue=n}return e.ue}function N_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!f1(t.startAt,e.startAt)&&f1(t.endAt,e.endAt)}function Bv(t){return Ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function SU(t,e,n,r,i,s,o,a){return new Sa(t,e,n,r,i,s,o,a)}function Bp(t){return new Sa(t)}function m1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function M_(t){return t.collectionGroup!==null}function vl(t){const e=ot(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new tr(Qn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Kc(s,r))}),n.has(Qn.keyField().canonicalString())||e.ce.push(new Kc(Qn.keyField(),r))}return e.ce}function Yi(t){const e=ot(t);return e.le||(e.le=CU(e,vl(t))),e.le}function CU(t,e){if(t.limitType==="F")return p1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Kc(i.field,s)});const n=t.endAt?new Fl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fl(t.startAt.position,t.startAt.inclusive):null;return p1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jv(t,e){const n=t.filters.concat([e]);return new Sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Mf(t,e,n){return new Sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jp(t,e){return N_(Yi(t),Yi(e))&&t.limitType===e.limitType}function yP(t){return`${x_(Yi(t))}|lt:${t.limitType}`}function Qa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>gP(i)).join(", ")}]`),$p(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Vl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Vl(i)).join(",")),`Target(${r})`}(Yi(t))}; limitType=${t.limitType})`}function Hp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ye.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of vl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=h1(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,vl(r),i)||r.endAt&&!function(o,a,l){const u=h1(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,vl(r),i))}(t,e)}function AU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _P(t){return(e,n)=>{let r=!1;for(const i of vl(t)){const s=OU(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function OU(t,e,n){const r=t.field.isKeyField()?Ye.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Ll(l,u):rt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ia(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return uP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=new On(Ye.comparator);function As(){return PU}const bP=new On(Ye.comparator);function Ku(...t){let e=bP;for(const n of t)e=e.insert(n.key,n);return e}function wP(t){let e=bP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wo(){return dc()}function TP(){return dc()}function dc(){return new au(t=>t.toString(),(t,e)=>t.isEqual(e))}const kU=new On(Ye.comparator),RU=new tr(Ye.comparator);function ft(...t){let e=RU;for(const n of t)e=e.add(n);return e}const DU=new tr(Ot);function xU(){return DU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xf(e)?"-0":e}}function EP(t){return{integerValue:""+t}}function NU(t,e){return cU(e)?EP(e):L_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(){this._=void 0}}function MU(t,e,n){return t instanceof Lf?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Up(s)&&(s=R_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Yc?SP(t,e):t instanceof Gc?CP(t,e):function(i,s){const o=IP(i,s),a=g1(o)+g1(i.Pe);return $v(o)&&$v(i.Pe)?EP(a):L_(i.serializer,a)}(t,e)}function LU(t,e,n){return t instanceof Yc?SP(t,e):t instanceof Gc?CP(t,e):n}function IP(t,e){return t instanceof Vf?function(r){return $v(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Lf extends Wp{}class Yc extends Wp{constructor(e){super(),this.elements=e}}function SP(t,e){const n=AP(e);for(const r of t.elements)n.some(i=>es(i,r))||n.push(r);return{arrayValue:{values:n}}}class Gc extends Wp{constructor(e){super(),this.elements=e}}function CP(t,e){let n=AP(e);for(const r of t.elements)n=n.filter(i=>!es(i,r));return{arrayValue:{values:n}}}class Vf extends Wp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function g1(t){return _n(t.integerValue||t.doubleValue)}function AP(t){return D_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function VU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Yc&&i instanceof Yc||r instanceof Gc&&i instanceof Gc?Ml(r.elements,i.elements,es):r instanceof Vf&&i instanceof Vf?es(r.Pe,i.Pe):r instanceof Lf&&i instanceof Lf}(t.transform,e.transform)}class FU{constructor(e,n){this.version=e,this.transformResults=n}}class ci{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qp{}function OP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new V_(t.key,ci.none()):new Od(t.key,t.data,ci.none());{const n=t.data,r=Vr.empty();let i=new tr(Qn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Oo(t.key,r,new Kr(i.toArray()),ci.none())}}function $U(t,e,n){t instanceof Od?function(i,s,o){const a=i.value.clone(),l=y1(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Oo?function(i,s,o){if(!Qh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=y1(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(PP(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function hc(t,e,n,r){return t instanceof Od?function(s,o,a,l){if(!Qh(s.precondition,o))return a;const u=s.value.clone(),c=_1(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Oo?function(s,o,a,l){if(!Qh(s.precondition,o))return a;const u=_1(s.fieldTransforms,l,o),c=o.data;return c.setAll(PP(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Qh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function UU(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=IP(r.transform,i||null);s!=null&&(n===null&&(n=Vr.empty()),n.set(r.field,s))}return n||null}function v1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ml(r,i,(s,o)=>VU(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Od extends qp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Oo extends qp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function PP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function y1(t,e,n){const r=new Map;Ut(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,LU(o,a,n[i]))}return r}function _1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,MU(s,o,e))}return r}class V_ extends qp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BU extends qp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&$U(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=TP();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=OP(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(st.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ft())}isEqual(e){return this.batchId===e.batchId&&Ml(this.mutations,e.mutations,(n,r)=>v1(n,r))&&Ml(this.baseMutations,e.baseMutations,(n,r)=>v1(n,r))}}class F_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ut(e.mutations.length===r.length);let i=function(){return kU}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new F_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sn,_t;function qU(t){switch(t){default:return rt();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function kP(t){if(t===void 0)return Cs("GRPC error has no .code"),ue.UNKNOWN;switch(t){case Sn.OK:return ue.OK;case Sn.CANCELLED:return ue.CANCELLED;case Sn.UNKNOWN:return ue.UNKNOWN;case Sn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Sn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Sn.INTERNAL:return ue.INTERNAL;case Sn.UNAVAILABLE:return ue.UNAVAILABLE;case Sn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Sn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Sn.NOT_FOUND:return ue.NOT_FOUND;case Sn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Sn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Sn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Sn.ABORTED:return ue.ABORTED;case Sn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Sn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Sn.DATA_LOSS:return ue.DATA_LOSS;default:return rt()}}(_t=Sn||(Sn={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=new Qo([4294967295,4294967295],0);function b1(t){const e=zU().encode(t),n=new tP;return n.update(e),new Uint8Array(n.digest())}function w1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Qo([n,r],0),new Qo([i,s],0)]}class $_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Yu(`Invalid padding: ${n}`);if(r<0)throw new Yu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Yu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Qo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Qo.fromNumber(r)));return i.compare(KU)===1&&(i=new Qo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=b1(e),[r,i]=w1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new $_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=b1(e),[r,i]=w1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Pd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zp(st.min(),i,new On(Ot),As(),ft())}}class Pd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Pd(r,n,ft(),ft(),ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class RP{constructor(e,n){this.targetId=e,this.me=n}}class DP{constructor(e,n,r=nr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class T1{constructor(){this.fe=0,this.ge=I1(),this.pe=nr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ft(),n=ft(),r=ft();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:rt()}}),new Pd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=I1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ut(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class YU{constructor(e){this.Le=e,this.Be=new Map,this.ke=As(),this.qe=E1(),this.Qe=new On(Ot)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:rt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Bv(s))if(r===0){const o=new Ye(s.path);this.Ue(n,o,cr.newNoDocument(o,st.min()))}else Ut(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ua(r).toUint8Array()}catch(l){if(l instanceof cP)return Nl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new $_(o,i,s)}catch(l){return Nl(l instanceof Yu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Bv(a.target)){const l=new Ye(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,cr.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ft();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new zp(e,n,this.Qe,this.ke,r);return this.ke=As(),this.qe=E1(),this.Qe=new On(Ot),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new T1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new tr(Ot),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ue("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new T1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function E1(){return new On(Ye.comparator)}function I1(){return new On(Ye.comparator)}const GU={asc:"ASCENDING",desc:"DESCENDING"},QU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XU={and:"AND",or:"OR"};class JU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hv(t,e){return t.useProto3Json||$p(e)?e:{value:e}}function Ff(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ZU(t,e){return Ff(t,e.toTimestamp())}function Gi(t){return Ut(!!t),st.fromTimestamp(function(n){const r=_o(n);return new Qt(r.seconds,r.nanos)}(t))}function U_(t,e){return Wv(t,e).canonicalString()}function Wv(t,e){const n=function(i){return new Gt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function NP(t){const e=Gt.fromString(t);return Ut($P(e)),e}function qv(t,e){return U_(t.databaseId,e.path)}function hg(t,e){const n=NP(e);if(n.get(1)!==t.databaseId.projectId)throw new Pe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ye(LP(n))}function MP(t,e){return U_(t.databaseId,e)}function e6(t){const e=NP(t);return e.length===4?Gt.emptyPath():LP(e)}function zv(t){return new Gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function LP(t){return Ut(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function S1(t,e,n){return{name:qv(t,e),fields:n.value.mapValue.fields}}function t6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:rt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Ut(c===void 0||typeof c=="string"),nr.fromBase64String(c||"")):(Ut(c===void 0||c instanceof Buffer||c instanceof Uint8Array),nr.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?ue.UNKNOWN:kP(u.code);return new Pe(c,u.message||"")}(o);n=new DP(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=hg(t,r.document.name),s=Gi(r.document.updateTime),o=r.document.createTime?Gi(r.document.createTime):st.min(),a=new Vr({mapValue:{fields:r.document.fields}}),l=cr.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Xh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=hg(t,r.document),s=r.readTime?Gi(r.readTime):st.min(),o=cr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Xh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=hg(t,r.document),s=r.removedTargetIds||[];n=new Xh([],s,i,null)}else{if(!("filter"in e))return rt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new WU(i,s),a=r.targetId;n=new RP(a,o)}}return n}function n6(t,e){let n;if(e instanceof Od)n={update:S1(t,e.key,e.value)};else if(e instanceof V_)n={delete:qv(t,e.key)};else if(e instanceof Oo)n={update:S1(t,e.key,e.data),updateMask:d6(e.fieldMask)};else{if(!(e instanceof BU))return rt();n={verify:qv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Lf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Yc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Gc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Vf)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw rt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:ZU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:rt()}(t,e.precondition)),n}function r6(t,e){return t&&t.length>0?(Ut(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Gi(i.updateTime):Gi(s);return o.isEqual(st.min())&&(o=Gi(s)),new FU(o,i.transformResults||[])}(n,e))):[]}function i6(t,e){return{documents:[MP(t,e.path)]}}function s6(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=MP(t,i);const s=function(u){if(u.length!==0)return FP(xi.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:Xa(f.field),direction:l6(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Hv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function o6(t){let e=e6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ut(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=VP(h);return f instanceof xi&&pP(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(g){return new Kc(Ja(g.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,$p(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new Fl(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new Fl(p,f)}(n.endAt)),SU(e,i,o,s,a,"F",l,u)}function a6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ja(n.unaryFilter.field);return An.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ja(n.unaryFilter.field);return An.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ja(n.unaryFilter.field);return An.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ja(n.unaryFilter.field);return An.create(o,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}(t):t.fieldFilter!==void 0?function(n){return An.create(Ja(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xi.create(n.compositeFilter.filters.map(r=>VP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return rt()}}(n.compositeFilter.op))}(t):rt()}function l6(t){return GU[t]}function u6(t){return QU[t]}function c6(t){return XU[t]}function Xa(t){return{fieldPath:t.canonicalString()}}function Ja(t){return Qn.fromServerFormat(t.fieldPath)}function FP(t){return t instanceof An?function(n){if(n.op==="=="){if(d1(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(c1(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(d1(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(c1(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:u6(n.op),value:n.value}}}(t):t instanceof xi?function(n){const r=n.getFilters().map(i=>FP(i));return r.length===1?r[0]:{compositeFilter:{op:c6(n.op),filters:r}}}(t):rt()}function d6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $P(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n,r,i,s=st.min(),o=st.min(),a=nr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new no(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e){this.ct=e}}function f6(t){const e=o6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(){this.un=new m6}addToCollectionParentIndex(e,n){return this.un.add(n),ve.resolve()}getCollectionParents(e,n){return ve.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ve.resolve()}deleteFieldIndex(e,n){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,n){return ve.resolve()}getDocumentsMatchingTarget(e,n){return ve.resolve(null)}getIndexType(e,n){return ve.resolve(0)}getFieldIndexes(e,n){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,n){return ve.resolve(yo.min())}getMinOffsetFromCollectionGroup(e,n){return ve.resolve(yo.min())}updateCollectionGroup(e,n,r){return ve.resolve()}updateIndexEntries(e,n){return ve.resolve()}}class m6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tr(Gt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tr(Gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new $l(0)}static kn(){return new $l(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(){this.changes=new au(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&hc(r.mutation,i,Kr.empty(),Qt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ft()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ft()){const i=Wo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ku();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Wo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ft()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=As();const o=dc(),a=function(){return dc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Oo)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),hc(c.mutation,u,c.mutation.getFieldMask(),Qt.now())):o.set(u.key,Kr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new v6(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=dc();let i=new On((o,a)=>o-a),s=ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Kr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||ft()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=TP();c.forEach(f=>{if(!s.has(f)){const p=OP(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return ve.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Ye.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):M_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ve.resolve(Wo());let a=-1,l=s;return o.next(u=>ve.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?ve.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ft())).next(c=>({batchId:a,changes:wP(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ye(n)).next(r=>{let i=Ku();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ku();return this.indexManager.getCollectionParents(e,s).next(a=>ve.forEach(a,l=>{const u=function(h,f){return new Sa(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,cr.newInvalidDocument(c)))});let a=Ku();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&hc(c.mutation,u,Kr.empty(),Qt.now()),Hp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ve.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Gi(i.createTime)}}(n)),ve.resolve()}getNamedQuery(e,n){return ve.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:f6(i.bundledQuery),readTime:Gi(i.readTime)}}(n)),ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(){this.overlays=new On(Ye.comparator),this.Ir=new Map}getOverlay(e,n){return ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wo();return ve.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),ve.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),ve.resolve()}getOverlaysForCollection(e,n,r){const i=Wo(),s=n.length+1,o=new Ye(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new On((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Wo(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Wo(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return ve.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new HU(n,r));let s=this.Ir.get(n);s===void 0&&(s=ft(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(){this.sessionToken=nr.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(){this.Tr=new tr($n.Er),this.dr=new tr($n.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new $n(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new $n(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Ye(new Gt([])),r=new $n(n,e),i=new $n(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ye(new Gt([])),r=new $n(n,e),i=new $n(n,e+1);let s=ft();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new $n(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $n{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ye.comparator(e.key,n.key)||Ot(e.wr,n.wr)}static Ar(e,n){return Ot(e.wr,n.wr)||Ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new tr($n.Er)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new jU(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new $n(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ve.resolve(o)}lookupMutationBatch(e,n){return ve.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return ve.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $n(n,0),i=new $n(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),ve.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tr(Ot);return n.forEach(i=>{const s=new $n(i,0),o=new $n(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),ve.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ye.isDocumentKey(s)||(s=s.child(""));const o=new $n(new Ye(s),0);let a=new tr(Ot);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),ve.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ut(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ve.forEach(n.mutations,i=>{const s=new $n(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new $n(n,0),i=this.br.firstAfterOrEqual(r);return ve.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e){this.Mr=e,this.docs=function(){return new On(Ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ve.resolve(r?r.document.mutableCopy():cr.newInvalidDocument(n))}getEntries(e,n){let r=As();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():cr.newInvalidDocument(i))}),ve.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=As();const o=n.path,a=new Ye(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||oU(sU(c),r)<=0||(i.has(c.key)||Hp(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return ve.resolve(s)}getAllFromCollectionGroup(e,n,r,i){rt()}Or(e,n){return ve.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new I6(this)}getSize(e){return ve.resolve(this.size)}}class I6 extends g6{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ve.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e){this.persistence=e,this.Nr=new au(n=>x_(n),N_),this.lastRemoteSnapshotVersion=st.min(),this.highestTargetId=0,this.Lr=0,this.Br=new B_,this.targetCount=0,this.kr=$l.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ve.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new $l(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ve.resolve()}updateTargetData(e,n){return this.Kn(n),ve.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ve.waitFor(s).next(()=>i)}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ve.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ve.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ve.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ve.resolve(r)}containsKey(e,n){return ve.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,n){this.qr={},this.overlays={},this.Qr=new k_(0),this.Kr=!1,this.Kr=!0,this.$r=new w6,this.referenceDelegate=e(this),this.Ur=new S6(this),this.indexManager=new p6,this.remoteDocumentCache=function(i){return new E6(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new h6(n),this.Gr=new _6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new b6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new T6(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ue("MemoryPersistence","Starting transaction:",e);const i=new A6(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return ve.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class A6 extends lU{constructor(e){super(),this.currentSequenceNumber=e}}class j_{constructor(e){this.persistence=e,this.Jr=new B_,this.Yr=null}static Zr(e){return new j_(e)}get Xr(){if(this.Yr)return this.Yr;throw rt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ve.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ve.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.Xr,r=>{const i=Ye.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,st.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ve.or([()=>ve.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ft(),i=ft();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new H_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return aF()?8:uU(br())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new O6;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ku()<=ht.DEBUG&&Ue("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ve.resolve()):(ku()<=ht.DEBUG&&Ue("QueryEngine","Query:",Qa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ku()<=ht.DEBUG&&Ue("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yi(n))):ve.resolve())}Yi(e,n){if(m1(n))return ve.resolve(null);let r=Yi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Mf(n,null,"F"),r=Yi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ft(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Mf(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return m1(n)||i.isEqual(st.min())?ve.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?ve.resolve(null):(ku()<=ht.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qa(n)),this.rs(e,o,n,iU(i,-1)).next(a=>a))})}ts(e,n){let r=new tr(_P(e));return n.forEach((i,s)=>{Hp(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return ku()<=ht.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.Ji.getDocumentsMatchingQuery(e,n,yo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new On(Ot),this._s=new au(s=>x_(s),N_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new y6(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function R6(t,e,n,r){return new k6(t,e,n,r)}async function UP(t,e){const n=ot(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ft();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function D6(t,e){const n=ot(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,f=h.keys();let p=ve.resolve();return f.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(b=>{const A=u.docVersions.get(g);Ut(A!==null),b.version.compareTo(A)<0&&(h.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),c.addEntry(b)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ft();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function BP(t){const e=ot(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function x6(t,e){const n=ot(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,c.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(nr.EMPTY_BYTE_STRING,st.min()).withLastLimboFreeSnapshotVersion(st.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(b,A,R){return b.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(f,p,c)&&a.push(n.Ur.updateTargetData(s,p))});let l=As(),u=ft();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(N6(s,o,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(st.min())){const c=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return ve.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function N6(t,e,n){let r=ft(),i=ft();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=As();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(st.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function M6(t,e){const n=ot(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function L6(t,e){const n=ot(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,ve.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new no(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Kv(t,e,n){const r=ot(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ad(o))throw o;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function C1(t,e,n){const r=ot(t);let i=st.min(),s=ft();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=ot(l),f=h._s.get(c);return f!==void 0?ve.resolve(h.os.get(f)):h.Ur.getTargetData(u,c)}(r,o,Yi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:st.min(),n?s:ft())).next(a=>(V6(r,AU(e),a),{documents:a,Ts:s})))}function V6(t,e,n){let r=t.us.get(e)||st.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class A1{constructor(){this.activeTargetIds=xU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class F6{constructor(){this.so=new A1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new A1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh=null;function fg(){return Sh===null?Sh=function(){return 268435456+Math.round(2147483648*Math.random())}():Sh++,"0x"+Sh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="WebChannelConnection";class j6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=fg(),l=this.xo(n,r.toUriEncodedString());Ue("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(c=>(Ue("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Nl("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ou}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=U6[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=fg();return new Promise((o,a)=>{const l=new nP;l.setWithCredentials(!0),l.listenOnce(rP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Yh.NO_ERROR:const c=l.getResponseJson();Ue(sr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Yh.TIMEOUT:Ue(sr,`RPC '${e}' ${s} timed out`),a(new Pe(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Yh.HTTP_ERROR:const h=l.getStatus();if(Ue(sr,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(A){const R=A.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(R)>=0?R:ue.UNKNOWN}(p.status);a(new Pe(g,p.message))}else a(new Pe(ue.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Pe(ue.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Ue(sr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Ue(sr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=fg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=oP(),a=sP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Ue(sr,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let f=!1,p=!1;const g=new B6({Io:A=>{p?Ue(sr,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(f||(Ue(sr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),Ue(sr,`RPC '${e}' stream ${i} sending:`,A),h.send(A))},To:()=>h.close()}),b=(A,R,k)=>{A.listen(R,T=>{try{k(T)}catch(S){setTimeout(()=>{throw S},0)}})};return b(h,zu.EventType.OPEN,()=>{p||(Ue(sr,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),b(h,zu.EventType.CLOSE,()=>{p||(p=!0,Ue(sr,`RPC '${e}' stream ${i} transport closed`),g.So())}),b(h,zu.EventType.ERROR,A=>{p||(p=!0,Nl(sr,`RPC '${e}' stream ${i} transport errored:`,A),g.So(new Pe(ue.UNAVAILABLE,"The operation could not be completed")))}),b(h,zu.EventType.MESSAGE,A=>{var R;if(!p){const k=A.data[0];Ut(!!k);const T=k,S=T.error||((R=T[0])===null||R===void 0?void 0:R.error);if(S){Ue(sr,`RPC '${e}' stream ${i} received error:`,S);const M=S.status;let L=function(y){const v=Sn[y];if(v!==void 0)return kP(v)}(M),I=S.message;L===void 0&&(L=ue.INTERNAL,I="Unknown error status: "+M+" with message "+S.message),p=!0,g.So(new Pe(L,I)),h.close()}else Ue(sr,`RPC '${e}' stream ${i} received:`,k),g.bo(k)}}),b(a,iP.STAT_EVENT,A=>{A.stat===Lv.PROXY?Ue(sr,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Lv.NOPROXY&&Ue(sr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function pg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(t){return new JU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new jP(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(Cs(n.toString()),Cs("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Pe(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class H6 extends HP{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=t6(this.serializer,e),r=function(s){if(!("targetChange"in s))return st.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?st.min():o.readTime?Gi(o.readTime):st.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=zv(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Bv(l)?{documents:i6(s,l)}:{query:s6(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=xP(s,o.resumeToken);const u=Hv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(st.min())>0){a.readTime=Ff(s,o.snapshotVersion.toTimestamp());const u=Hv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=a6(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=zv(this.serializer),n.removeTarget=e,this.a_(n)}}class W6 extends HP{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,Ut(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=r6(e.writeResults,e.commitTime),r=Gi(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=zv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>n6(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Pe(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Wv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Pe(ue.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Wv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pe(ue.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class z6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Cs(n),this.D_=!1):Ue("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ca(this)&&(Ue("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ot(l);u.L_.add(4),await kd(u),u.q_.set("Unknown"),u.L_.delete(4),await Yp(u)}(this))})}),this.q_=new z6(r,i)}}async function Yp(t){if(Ca(t))for(const e of t.B_)await e(!0)}async function kd(t){for(const e of t.B_)await e(!1)}function WP(t,e){const n=ot(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),K_(n)?z_(n):lu(n).r_()&&q_(n,e))}function W_(t,e){const n=ot(t),r=lu(n);n.N_.delete(e),r.r_()&&qP(n,e),n.N_.size===0&&(r.r_()?r.o_():Ca(n)&&n.q_.set("Unknown"))}function q_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(st.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lu(t).A_(e)}function qP(t,e){t.Q_.xe(e),lu(t).R_(e)}function z_(t){t.Q_=new YU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),lu(t).start(),t.q_.v_()}function K_(t){return Ca(t)&&!lu(t).n_()&&t.N_.size>0}function Ca(t){return ot(t).L_.size===0}function zP(t){t.Q_=void 0}async function Y6(t){t.q_.set("Online")}async function G6(t){t.N_.forEach((e,n)=>{q_(t,e)})}async function Q6(t,e){zP(t),K_(t)?(t.q_.M_(e),z_(t)):t.q_.set("Unknown")}async function X6(t,e,n){if(t.q_.set("Online"),e instanceof DP&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $f(t,r)}else if(e instanceof Xh?t.Q_.Ke(e):e instanceof RP?t.Q_.He(e):t.Q_.We(e),!n.isEqual(st.min()))try{const r=await BP(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(u);c&&s.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(nr.EMPTY_BYTE_STRING,c.snapshotVersion)),qP(s,l);const h=new no(c.target,l,u,c.sequenceNumber);q_(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),await $f(t,r)}}async function $f(t,e,n){if(!Ad(e))throw e;t.L_.add(1),await kd(t),t.q_.set("Offline"),n||(n=()=>BP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ue("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Yp(t)})}function KP(t,e){return e().catch(n=>$f(t,n,e))}async function Gp(t){const e=ot(t),n=bo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;J6(e);)try{const i=await M6(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Z6(e,i)}catch(i){await $f(e,i)}YP(e)&&GP(e)}function J6(t){return Ca(t)&&t.O_.length<10}function Z6(t,e){t.O_.push(e);const n=bo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function YP(t){return Ca(t)&&!bo(t).n_()&&t.O_.length>0}function GP(t){bo(t).start()}async function e9(t){bo(t).p_()}async function t9(t){const e=bo(t);for(const n of t.O_)e.m_(n.mutations)}async function n9(t,e,n){const r=t.O_.shift(),i=F_.from(r,e,n);await KP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Gp(t)}async function r9(t,e){e&&bo(t).V_&&await async function(r,i){if(function(o){return qU(o)&&o!==ue.ABORTED}(i.code)){const s=r.O_.shift();bo(r).s_(),await KP(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Gp(r)}}(t,e),YP(t)&&GP(t)}async function P1(t,e){const n=ot(t);n.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=Ca(n);n.L_.add(3),await kd(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Yp(n)}async function i9(t,e){const n=ot(t);e?(n.L_.delete(2),await Yp(n)):e||(n.L_.add(2),await kd(n),n.q_.set("Unknown"))}function lu(t){return t.K_||(t.K_=function(n,r,i){const s=ot(n);return s.w_(),new H6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Y6.bind(null,t),Ro:G6.bind(null,t),mo:Q6.bind(null,t),d_:X6.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),K_(t)?z_(t):t.q_.set("Unknown")):(await t.K_.stop(),zP(t))})),t.K_}function bo(t){return t.U_||(t.U_=function(n,r,i){const s=ot(n);return s.w_(),new W6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:e9.bind(null,t),mo:r9.bind(null,t),f_:t9.bind(null,t),g_:n9.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Gp(t)):(await t.U_.stop(),t.O_.length>0&&(Ue("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Y_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function G_(t,e){if(Cs("AsyncQueue",`${e}: ${t}`),Ad(t))return new Pe(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ye.comparator(n.key,r.key):(n,r)=>Ye.comparator(n.key,r.key),this.keyedMap=Ku(),this.sortedSet=new On(this.comparator)}static emptySet(e){return new yl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.W_=new On(Ye.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):rt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ul{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ul(e,n,yl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class o9{constructor(){this.queries=R1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ot(n),s=i.queries;i.queries=R1(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Pe(ue.ABORTED,"Firestore shutting down"))}}function R1(){return new au(t=>yP(t),jp)}async function Q_(t,e){const n=ot(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new s9,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=G_(o,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&J_(n)}async function X_(t,e){const n=ot(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function a9(t,e){const n=ot(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&J_(n)}function l9(t,e,n){const r=ot(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function J_(t){t.Y_.forEach(e=>{e.next()})}var Yv,D1;(D1=Yv||(Yv={})).ea="default",D1.Cache="cache";class Z_{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ul(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Yv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.key=e}}class XP{constructor(e){this.key=e}}class u9{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ft(),this.mutatedKeys=ft(),this.Aa=_P(e),this.Ra=new yl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new k1,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),p=Hp(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),b=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let A=!1;f&&p?f.data.isEqual(p.data)?g!==b&&(r.track({type:3,doc:p}),A=!0):this.ga(f,p)||(r.track({type:2,doc:p}),A=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),A=!0):f&&!p&&(r.track({type:1,doc:f}),A=!0,(l||u)&&(a=!0)),A&&(p?(o=o.add(p),s=b?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,h)=>function(p,g){const b=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return b(p)-b(g)}(c.type,h.type)||this.Aa(c.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Ul(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new k1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ft(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new XP(r))}),this.da.forEach(r=>{e.has(r)||n.push(new QP(r))}),n}ba(e){this.Ta=e.Ts,this.da=ft();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ul.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class c9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class d9{constructor(e){this.key=e,this.va=!1}}class h9{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new au(a=>yP(a),jp),this.Ma=new Map,this.xa=new Set,this.Oa=new On(Ye.comparator),this.Na=new Map,this.La=new B_,this.Ba={},this.ka=new Map,this.qa=$l.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function f9(t,e,n=!0){const r=rk(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await JP(r,e,n,!0),i}async function p9(t,e){const n=rk(t);await JP(n,e,!0,!1)}async function JP(t,e,n,r){const i=await L6(t.localStore,Yi(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await m9(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&WP(t.remoteStore,i),a}async function m9(t,e,n,r,i){t.Ka=(h,f,p)=>async function(b,A,R,k){let T=A.view.ma(R);T.ns&&(T=await C1(b.localStore,A.query,!1).then(({documents:I})=>A.view.ma(I,T)));const S=k&&k.targetChanges.get(A.targetId),M=k&&k.targetMismatches.get(A.targetId)!=null,L=A.view.applyChanges(T,b.isPrimaryClient,S,M);return N1(b,A.targetId,L.wa),L.snapshot}(t,h,f,p);const s=await C1(t.localStore,e,!0),o=new u9(e,s.Ts),a=o.ma(s.documents),l=Pd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);N1(t,n,u.wa);const c=new c9(e,n,o);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function g9(t,e,n){const r=ot(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!jp(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Kv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&W_(r.remoteStore,i.targetId),Gv(r,i.targetId)}).catch(Cd)):(Gv(r,i.targetId),await Kv(r.localStore,i.targetId,!0))}async function v9(t,e){const n=ot(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),W_(n.remoteStore,r.targetId))}async function y9(t,e,n){const r=S9(t);try{const i=await function(o,a){const l=ot(o),u=Qt.now(),c=a.reduce((p,g)=>p.add(g.key),ft());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=As(),b=ft();return l.cs.getEntries(p,c).next(A=>{g=A,g.forEach((R,k)=>{k.isValidDocument()||(b=b.add(R))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(A=>{h=A;const R=[];for(const k of a){const T=UU(k,h.get(k.key).overlayedDocument);T!=null&&R.push(new Oo(k.key,T,dP(T.value.mapValue),ci.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,R,a)}).next(A=>{f=A;const R=A.applyToLocalDocumentSet(h,b);return l.documentOverlayCache.saveOverlays(p,A.batchId,R)})}).then(()=>({batchId:f.batchId,changes:wP(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new On(Ot)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Rd(r,i.changes),await Gp(r.remoteStore)}catch(i){const s=G_(i,"Failed to persist write");n.reject(s)}}async function ZP(t,e){const n=ot(t);try{const r=await x6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ut(o.va):i.removedDocuments.size>0&&(Ut(o.va),o.va=!1))}),await Rd(n,r,e)}catch(r){await Cd(r)}}function x1(t,e,n){const r=ot(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ot(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const f of h.j_)f.Z_(a)&&(u=!0)}),u&&J_(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _9(t,e,n){const r=ot(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new On(Ye.comparator);o=o.insert(s,cr.newNoDocument(s,st.min()));const a=ft().add(s),l=new zp(st.min(),new Map,new On(Ot),o,a);await ZP(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),e0(r)}else await Kv(r.localStore,e,!1).then(()=>Gv(r,e,n)).catch(Cd)}async function b9(t,e){const n=ot(t),r=e.batch.batchId;try{const i=await D6(n.localStore,e);tk(n,r,null),ek(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rd(n,i)}catch(i){await Cd(i)}}async function w9(t,e,n){const r=ot(t);try{const i=await function(o,a){const l=ot(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Ut(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);tk(r,e,n),ek(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Rd(r,i)}catch(i){await Cd(i)}}function ek(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function tk(t,e,n){const r=ot(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Gv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||nk(t,r)})}function nk(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(W_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),e0(t))}function N1(t,e,n){for(const r of n)r instanceof QP?(t.La.addReference(r.key,e),T9(t,r)):r instanceof XP?(Ue("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||nk(t,r.key)):rt()}function T9(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ue("SyncEngine","New document in limbo: "+n),t.xa.add(r),e0(t))}function e0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ye(Gt.fromString(e)),r=t.qa.next();t.Na.set(r,new d9(n)),t.Oa=t.Oa.insert(n,r),WP(t.remoteStore,new no(Yi(Bp(n.path)),r,"TargetPurposeLimboResolution",k_.oe))}}async function Rd(t,e,n){const r=ot(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=H_.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const c=ot(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ve.forEach(u,f=>ve.forEach(f.$i,p=>c.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>ve.forEach(f.Ui,p=>c.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Ad(h))throw h;Ue("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=c.os.get(f),g=p.snapshotVersion,b=p.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(f,b)}}}(r.localStore,s))}async function E9(t,e){const n=ot(t);if(!n.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=await UP(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Pe(ue.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Rd(n,r.hs)}}function I9(t,e){const n=ot(t),r=n.Na.get(e);if(r&&r.va)return ft().add(r.key);{let i=ft();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function rk(t){const e=ot(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=I9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_9.bind(null,e),e.Ca.d_=a9.bind(null,e.eventManager),e.Ca.$a=l9.bind(null,e.eventManager),e}function S9(t){const e=ot(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=w9.bind(null,e),e}class Uf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return R6(this.persistence,new P6,e.initialUser,this.serializer)}Ga(e){return new C6(j_.Zr,this.serializer)}Wa(e){return new F6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uf.provider={build:()=>new Uf};class Qv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>x1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=E9.bind(null,this.syncEngine),await i9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new o9}()}createDatastore(e){const n=Kp(e.databaseInfo.databaseId),r=function(s){return new j6(s)}(e.databaseInfo);return function(s,o,a,l){return new q6(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new K6(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>x1(this.syncEngine,n,0),function(){return O1.D()?new O1:new $6}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const h=new h9(i,s,o,a,l,u);return c&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ot(i);Ue("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await kd(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Qv.provider={build:()=>new Qv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Cs("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ar.UNAUTHENTICATED,this.clientId=lP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ue("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ue("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=G_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function mg(t,e){t.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await UP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function M1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await A9(t);Ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>P1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>P1(e.remoteStore,i)),t._onlineComponents=e}async function A9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await mg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Nl("Error using user provided cache. Falling back to memory cache: "+n),await mg(t,new Uf)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),await mg(t,new Uf);return t._offlineComponents}async function ik(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),await M1(t,t._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),await M1(t,new Qv))),t._onlineComponents}function O9(t){return ik(t).then(e=>e.syncEngine)}async function Bf(t){const e=await ik(t),n=e.eventManager;return n.onListen=f9.bind(null,e.syncEngine),n.onUnlisten=g9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=p9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=v9.bind(null,e.syncEngine),n}function P9(t,e,n={}){const r=new bs;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new t0({next:f=>{c.Za(),o.enqueueAndForget(()=>X_(s,h));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new Pe(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new Pe(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new Z_(Bp(a.path),c,{includeMetadataChanges:!0,_a:!0});return Q_(s,h)}(await Bf(t),t.asyncQueue,e,n,r)),r.promise}function k9(t,e,n={}){const r=new bs;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new t0({next:f=>{c.Za(),o.enqueueAndForget(()=>X_(s,h)),f.fromCache&&l.source==="server"?u.reject(new Pe(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new Z_(a,c,{includeMetadataChanges:!0,_a:!0});return Q_(s,h)}(await Bf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t,e,n){if(!n)throw new Pe(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function R9(t,e,n,r){if(e===!0&&r===!0)throw new Pe(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function V1(t){if(!Ye.isDocumentKey(t))throw new Pe(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function F1(t){if(Ye.isDocumentKey(t))throw new Pe(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":rt()}function Br(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qp(t);throw new Pe(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function D9(t,e){if(e<=0)throw new Pe(ue.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Pe(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}R9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Pe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Pe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Pe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new G4;switch(r.type){case"firstParty":return new Z4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=L1.get(n);r&&(Ue("ComponentProvider","Removing Datastore"),L1.delete(n),r.terminate())}(this),Promise.resolve()}}function x9(t,e,n,r={}){var i;const s=(t=Br(t,Xp))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=ar.MOCK_USER;else{a=nO(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Pe(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ar(u)}t._authCredentials=new Q4(new aP(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ts(this.firestore,e,this._query)}}class yr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yr(this.firestore,e,this._key)}}class lo extends ts{constructor(e,n,r){super(e,n,Bp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yr(this.firestore,null,new Ye(e))}withConverter(e){return new lo(this.firestore,e,this._path)}}function fr(t,e,...n){if(t=Dt(t),ok("collection","path",e),t instanceof Xp){const r=Gt.fromString(e,...n);return F1(r),new lo(t,null,r)}{if(!(t instanceof yr||t instanceof lo))throw new Pe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Gt.fromString(e,...n));return F1(r),new lo(t.firestore,null,r)}}function bt(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=lP.newId()),ok("doc","path",e),t instanceof Xp){const r=Gt.fromString(e,...n);return V1(r),new yr(t,null,new Ye(r))}{if(!(t instanceof yr||t instanceof lo))throw new Pe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Gt.fromString(e,...n));return V1(r),new yr(t.firestore,t instanceof lo?t.converter:null,new Ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new jP(this,"async_queue_retry"),this.Vu=()=>{const r=pg();r&&Ue("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=pg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=pg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new bs;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ad(e))throw e;Ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Cs("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Y_.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&rt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function B1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Os extends Xp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new U1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new U1(e),this._firestoreClient=void 0,await e}}}function N9(t,e){const n=typeof t=="object"?t:Sd(),r=typeof t=="string"?t:e||"(default)",i=xs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=eO("firestore");s&&x9(i,...s)}return i}function Jp(t){if(t._terminated)throw new Pe(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||M9(t),t._firestoreClient}function M9(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new hU(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,sk(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new C9(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bl(nr.fromBase64String(e))}catch(n){throw new Pe(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bl(nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Pe(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9=/^__.*__$/;class V9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Od(e,this.data,n,this.fieldTransforms)}}class ak{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function lk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class s0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new s0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return jf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(lk(this.Cu)&&L9.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class F9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kp(e)}Qu(e,n,r,i=!1){return new s0({Cu:e,methodName:n,qu:r,path:Qn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dd(t){const e=t._freezeSettings(),n=Kp(t._databaseId);return new F9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uk(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);o0("Data must be an object, but it was:",o,r);const a=dk(r,o);let l,u;if(s.merge)l=new Kr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=Xv(e,h,n);if(!o.contains(f))throw new Pe(ue.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);fk(c,f)||c.push(f)}l=new Kr(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new V9(new Vr(a),l,u)}class em extends n0{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof em}}function $9(t,e,n,r){const i=t.Qu(1,e,n);o0("Data must be an object, but it was:",i,r);const s=[],o=Vr.empty();Ia(r,(l,u)=>{const c=a0(e,l,n);u=Dt(u);const h=i.Nu(c);if(u instanceof em)s.push(c);else{const f=xd(u,h);f!=null&&(s.push(c),o.set(c,f))}});const a=new Kr(s);return new ak(o,a,i.fieldTransforms)}function U9(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[Xv(e,r,n)],l=[i];if(s.length%2!=0)throw new Pe(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Xv(e,s[f])),l.push(s[f+1]);const u=[],c=Vr.empty();for(let f=a.length-1;f>=0;--f)if(!fk(u,a[f])){const p=a[f];let g=l[f];g=Dt(g);const b=o.Nu(p);if(g instanceof em)u.push(p);else{const A=xd(g,b);A!=null&&(u.push(p),c.set(p,A))}}const h=new Kr(u);return new ak(c,h,o.fieldTransforms)}function ck(t,e,n,r=!1){return xd(n,t.Qu(r?4:3,e))}function xd(t,e){if(hk(t=Dt(t)))return o0("Unsupported field value:",e,t),dk(t,e);if(t instanceof n0)return function(r,i){if(!lk(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=xd(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return NU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Qt.fromDate(r);return{timestampValue:Ff(i.serializer,s)}}if(r instanceof Qt){const s=new Qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ff(i.serializer,s)}}if(r instanceof r0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bl)return{bytesValue:xP(i.serializer,r._byteString)};if(r instanceof yr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:U_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof i0)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return L_(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Qp(r)}`)}(t,e)}function dk(t,e){const n={};return uP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ia(t,(r,i)=>{const s=xd(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function hk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qt||t instanceof r0||t instanceof Bl||t instanceof yr||t instanceof n0||t instanceof i0)}function o0(t,e,n){if(!hk(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Qp(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Xv(t,e,n){if((e=Dt(e))instanceof Zp)return e._internalPath;if(typeof e=="string")return a0(t,e);throw jf("Field path arguments must be of type string or ",t,!1,void 0,n)}const B9=new RegExp("[~\\*/\\[\\]]");function a0(t,e,n){if(e.search(B9)>=0)throw jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zp(...e.split("."))._internalPath}catch{throw jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Pe(ue.INVALID_ARGUMENT,a+t+l)}function fk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new yr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new j9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class j9 extends l0{data(){return super.data()}}function tm(t,e){return typeof e=="string"?a0(t,e):e instanceof Zp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Pe(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class u0{}class nm extends u0{}function H9(t,e,...n){let r=[];e instanceof u0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof c0).length,a=s.filter(l=>l instanceof rm).length;if(o>1||o>0&&a>0)throw new Pe(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class rm extends nm{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new rm(e,n,r)}_apply(e){const n=this._parse(e);return gk(e._query,n),new ts(e.firestore,e.converter,jv(e._query,n))}_parse(e){const n=Dd(e.firestore);return function(s,o,a,l,u,c,h){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Pe(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){W1(h,c);const p=[];for(const g of h)p.push(H1(l,s,g));f={arrayValue:{values:p}}}else f=H1(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||W1(h,c),f=ck(a,o,h,c==="in"||c==="not-in");return An.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function mk(t,e,n){const r=e,i=tm("where",t);return rm._create(i,r,n)}class c0 extends u0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new c0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:xi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)gk(o,l),o=jv(o,l)}(e._query,n),new ts(e.firestore,e.converter,jv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class d0 extends nm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new d0(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Pe(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Pe(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Kc(s,o)}(e._query,this._field,this._direction);return new ts(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Sa(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function j1(t,e="asc"){const n=e,r=tm("orderBy",t);return d0._create(r,n)}class h0 extends nm{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new h0(e,n,r)}_apply(e){return new ts(e.firestore,e.converter,Mf(e._query,this._limit,this._limitType))}}function W9(t){return D9("limit",t),h0._create("limit",t,"F")}class f0 extends nm{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new f0(e,n,r)}_apply(e){const n=z9(e,this.type,this._docOrFields,this._inclusive);return new ts(e.firestore,e.converter,function(i,s){return new Sa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function q9(...t){return f0._create("startAfter",t,!1)}function z9(t,e,n,r){if(n[0]=Dt(n[0]),n[0]instanceof l0)return function(s,o,a,l,u){if(!l)throw new Pe(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const h of vl(s))if(h.field.isKeyField())c.push(Nf(o,l.key));else{const f=l.data.field(h.field);if(Up(f))throw new Pe(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const p=h.field.canonicalString();throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}c.push(f)}return new Fl(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Dd(t.firestore);return function(o,a,l,u,c,h){const f=o.explicitOrderBy;if(c.length>f.length)throw new Pe(ue.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let g=0;g<c.length;g++){const b=c[g];if(f[g].field.isKeyField()){if(typeof b!="string")throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof b}`);if(!M_(o)&&b.indexOf("/")!==-1)throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${b}' contains a slash.`);const A=o.path.child(Gt.fromString(b));if(!Ye.isDocumentKey(A))throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${A}' is not because it contains an odd number of segments.`);const R=new Ye(A);p.push(Nf(a,R))}else{const A=ck(l,u,b);p.push(A)}}return new Fl(p,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function H1(t,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new Pe(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!M_(e)&&n.indexOf("/")!==-1)throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Gt.fromString(n));if(!Ye.isDocumentKey(r))throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Nf(t,new Ye(r))}if(n instanceof yr)return Nf(t,n._key);throw new Pe(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qp(n)}.`)}function W1(t,e){if(!Array.isArray(t)||t.length===0)throw new Pe(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gk(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Pe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class K9{convertValue(e,n="none"){switch(ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _n(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw rt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ia(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>_n(o.doubleValue));return new i0(s)}convertGeoPoint(e){return new r0(_n(e.latitude),_n(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=R_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wc(e));default:return null}}convertTimestamp(e){const n=_o(e);return new Qt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Gt.fromString(e);Ut($P(r));const i=new qc(r.get(1),r.get(3)),s=new Ye(r.popFirst(5));return i.isEqual(n)||Cs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yk extends l0{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(tm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Jh extends yk{data(e={}){return super.data(e)}}class _k{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Gu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Jh(this._firestore,this._userDataWriter,r.key,r,new Gu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Jh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Gu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Jh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Gu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:Y9(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Y9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(t){t=Br(t,yr);const e=Br(t.firestore,Os);return P9(Jp(e),t._key).then(n=>wk(e,t,n))}class p0 extends K9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yr(this.firestore,null,n)}}function G9(t){t=Br(t,ts);const e=Br(t.firestore,Os),n=Jp(e),r=new p0(e);return pk(t._query),k9(n,t._query).then(i=>new _k(e,r,t,i))}function Q9(t,e,n){t=Br(t,yr);const r=Br(t.firestore,Os),i=vk(t.converter,e,n);return im(r,[uk(Dd(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ci.none())])}function X9(t,e,n,...r){t=Br(t,yr);const i=Br(t.firestore,Os),s=Dd(i);let o;return o=typeof(e=Dt(e))=="string"||e instanceof Zp?U9(s,"updateDoc",t._key,e,n,r):$9(s,"updateDoc",t._key,e),im(i,[o.toMutation(t._key,ci.exists(!0))])}function J9(t){return im(Br(t.firestore,Os),[new V_(t._key,ci.none())])}function Z9(t,e){const n=Br(t.firestore,Os),r=bt(t),i=vk(t.converter,e);return im(n,[uk(Dd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ci.exists(!1))]).then(()=>r)}function gre(t,...e){var n,r,i;t=Dt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||B1(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(B1(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof yr)u=Br(t.firestore,Os),c=Bp(t._key.path),l={next:h=>{e[o]&&e[o](wk(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Br(t,ts);u=Br(h.firestore,Os),c=h._query;const f=new p0(u);l={next:p=>{e[o]&&e[o](new _k(u,f,h,p))},error:e[o+1],complete:e[o+2]},pk(t._query)}return function(f,p,g,b){const A=new t0(b),R=new Z_(p,A,g);return f.asyncQueue.enqueueAndForget(async()=>Q_(await Bf(f),R)),()=>{A.Za(),f.asyncQueue.enqueueAndForget(async()=>X_(await Bf(f),R))}}(Jp(u),c,a,l)}function im(t,e){return function(r,i){const s=new bs;return r.asyncQueue.enqueueAndForget(async()=>y9(await O9(r),i,s)),s.promise}(Jp(t),e)}function wk(t,e,n){const r=n.docs.get(e._key),i=new p0(t);return new yk(t,i,e._key,r,new Gu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ou=i})(Ao),jr(new Dr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Os(new X4(r.getProvider("auth-internal")),new tU(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Pe(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qc(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),er(s1,"4.7.3",e),er(s1,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk="firebasestorage.googleapis.com",Ek="storageBucket",eB=2*60*1e3,tB=10*60*1e3,nB=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn extends ei{constructor(e,n,r=0){super(gg(e),`Firebase Storage: ${n} (${gg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ln;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ln||(ln={}));function gg(t){return"storage/"+t}function m0(){const t="An unknown error occurred, please check the error payload for server response.";return new fn(ln.UNKNOWN,t)}function rB(t){return new fn(ln.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function iB(t){return new fn(ln.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function sB(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new fn(ln.UNAUTHENTICATED,t)}function oB(){return new fn(ln.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function aB(t){return new fn(ln.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Ik(){return new fn(ln.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Sk(){return new fn(ln.CANCELED,"User canceled the upload/download.")}function lB(t){return new fn(ln.INVALID_URL,"Invalid URL '"+t+"'.")}function uB(t){return new fn(ln.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function cB(){return new fn(ln.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ek+"' property when initializing the app?")}function Ck(){return new fn(ln.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function dB(){return new fn(ln.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function hB(){return new fn(ln.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function fB(t){return new fn(ln.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Jv(t){return new fn(ln.INVALID_ARGUMENT,t)}function Ak(){return new fn(ln.APP_DELETED,"The Firebase app was deleted.")}function pB(t){return new fn(ln.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fc(t,e){return new fn(ln.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ru(t){throw new fn(ln.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Yr.makeFromUrl(e,n)}catch{return new Yr(e,"")}if(r.path==="")return r;throw uB(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(S){S.path_=decodeURIComponent(S.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${c}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},b=n===Tk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",R=new RegExp(`^https?://${b}/${i}/${A}`,"i"),T=[{regex:a,indices:l,postModify:s},{regex:p,indices:g,postModify:u},{regex:R,indices:{bucket:1,path:2},postModify:u}];for(let S=0;S<T.length;S++){const M=T[S],L=M.regex.exec(e);if(L){const I=L[M.indices.bucket];let E=L[M.indices.path];E||(E=""),r=new Yr(I,E),M.postModify(r);break}}if(r==null)throw lB(e);return r}}class mB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gB(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...A){u||(u=!0,e.apply(null,A))}function h(A){i=setTimeout(()=>{i=null,t(p,l())},A)}function f(){s&&clearTimeout(s)}function p(A,...R){if(u){f();return}if(A){f(),c.call(null,A,...R);return}if(l()||o){f(),c.call(null,A,...R);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,h(T)}let g=!1;function b(A){g||(g=!0,f(),!u&&(i!==null?(A||(a=2),clearTimeout(i),h(0)):A||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,b(!0)},n),b}function vB(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yB(t){return t!==void 0}function _B(t){return typeof t=="function"}function bB(t){return typeof t=="object"&&!Array.isArray(t)}function sm(t){return typeof t=="string"||t instanceof String}function q1(t){return g0()&&t instanceof Blob}function g0(){return typeof Blob<"u"}function z1(t,e,n,r){if(r<e)throw Jv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Jv(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Ok(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Xo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Xo||(Xo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e,n,r,i,s,o,a,l,u,c,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ch(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Xo.NO_ERROR,l=s.getStatus();if(!a||Pk(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Xo.ABORT;r(!1,new Ch(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Ch(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());yB(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=m0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?Ak():Sk();o(l)}else{const l=Ik();o(l)}};this.canceled_?n(!1,new Ch(!1,null,!0)):this.backoffId_=gB(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&vB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ch{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function TB(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function EB(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function IB(t,e){e&&(t["X-Firebase-GMPID"]=e)}function SB(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function CB(t,e,n,r,i,s,o=!0){const a=Ok(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return IB(u,e),TB(u,n),EB(u,s),SB(u,r),new wB(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function OB(...t){const e=AB();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(g0())return new Blob(t);throw new fn(ln.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function PB(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kB(t){if(typeof atob>"u")throw fB("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vg{constructor(e,n){this.data=e,this.contentType=n||null}}function RB(t,e){switch(t){case Wi.RAW:return new vg(kk(e));case Wi.BASE64:case Wi.BASE64URL:return new vg(Rk(t,e));case Wi.DATA_URL:return new vg(xB(e),NB(e))}throw m0()}function kk(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function DB(t){let e;try{e=decodeURIComponent(t)}catch{throw fc(Wi.DATA_URL,"Malformed data URL.")}return kk(e)}function Rk(t,e){switch(t){case Wi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw fc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Wi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw fc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=kB(e)}catch(i){throw i.message.includes("polyfill")?i:fc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Dk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw fc(Wi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=MB(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function xB(t){const e=new Dk(t);return e.base64?Rk(Wi.BASE64,e.rest):DB(e.rest)}function NB(t){return new Dk(t).contentType}function MB(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){let r=0,i="";q1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(q1(this.data_)){const r=this.data_,i=PB(r,e,n);return i===null?null:new Xs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Xs(r,!0)}}static getBlob(...e){if(g0()){const n=e.map(r=>r instanceof Xs?r.data_:r);return new Xs(OB.apply(null,n))}else{const n=e.map(o=>sm(o)?RB(Wi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Xs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(t){let e;try{e=JSON.parse(t)}catch{return null}return bB(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LB(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function VB(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Nk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FB(t,e){return e}class Tr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||FB}}let Ah=null;function $B(t){return!sm(t)||t.length<2?t:Nk(t)}function Mk(){if(Ah)return Ah;const t=[];t.push(new Tr("bucket")),t.push(new Tr("generation")),t.push(new Tr("metageneration")),t.push(new Tr("name","fullPath",!0));function e(s,o){return $B(o)}const n=new Tr("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Tr("size");return i.xform=r,t.push(i),t.push(new Tr("timeCreated")),t.push(new Tr("updated")),t.push(new Tr("md5Hash",null,!0)),t.push(new Tr("cacheControl",null,!0)),t.push(new Tr("contentDisposition",null,!0)),t.push(new Tr("contentEncoding",null,!0)),t.push(new Tr("contentLanguage",null,!0)),t.push(new Tr("contentType",null,!0)),t.push(new Tr("metadata","customMetadata",!0)),Ah=t,Ah}function UB(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Yr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function BB(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return UB(r,t),r}function Lk(t,e,n){const r=xk(e);return r===null?null:BB(t,r,n)}function jB(t,e,n,r){const i=xk(e);if(i===null||!sm(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,h=t.fullPath,f="/b/"+o(c)+"/o/"+o(h),p=uu(f,n,r),g=Ok({alt:"media",token:u});return p+g})[0]}function Vk(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Aa{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(t){if(!t)throw m0()}function v0(t,e){function n(r,i){const s=Lk(t,i,e);return ws(s!==null),s}return n}function HB(t,e){function n(r,i){const s=Lk(t,i,e);return ws(s!==null),jB(s,i,t.host,t._protocol)}return n}function Nd(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=oB():i=sB():n.getStatus()===402?i=iB(t.bucket):n.getStatus()===403?i=aB(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function y0(t){const e=Nd(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=rB(t.path)),s.serverResponse=i.serverResponse,s}return n}function WB(t,e,n){const r=e.fullServerUrl(),i=uu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Aa(i,s,v0(t,n),o);return a.errorHandler=y0(e),a}function qB(t,e,n){const r=e.fullServerUrl(),i=uu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Aa(i,s,HB(t,n),o);return a.errorHandler=y0(e),a}function zB(t,e){const n=e.fullServerUrl(),r=uu(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new Aa(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=y0(e),a}function KB(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Fk(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=KB(null,e)),r}function YB(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let S=0;S<2;S++)T=T+Math.random().toString().slice(2);return T}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=Fk(e,r,i),c=Vk(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Xs.getBlob(h,r,f);if(p===null)throw Ck();const g={name:u.fullPath},b=uu(s,t.host,t._protocol),A="POST",R=t.maxUploadRetryTime,k=new Aa(b,A,v0(t,n),R);return k.urlParams=g,k.headers=o,k.body=p.uploadData(),k.errorHandler=Nd(e),k}class Hf{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function _0(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ws(!1)}return ws(!!n&&(e||["active"]).indexOf(n)!==-1),n}function GB(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=Fk(e,r,i),a={name:o.fullPath},l=uu(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=Vk(o,n),f=t.maxUploadRetryTime;function p(b){_0(b);let A;try{A=b.getResponseHeader("X-Goog-Upload-URL")}catch{ws(!1)}return ws(sm(A)),A}const g=new Aa(l,u,p,f);return g.urlParams=a,g.headers=c,g.body=h,g.errorHandler=Nd(e),g}function QB(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=_0(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ws(!1)}h||ws(!1);const f=Number(h);return ws(!isNaN(f)),new Hf(f,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Aa(n,o,s,a);return l.headers=i,l.errorHandler=Nd(e),l}const K1=256*1024;function XB(t,e,n,r,i,s,o,a){const l=new Hf(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw dB();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const h=l.current,f=h+c;let p="";c===0?p="finalize":u===c?p="upload, finalize":p="upload";const g={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},b=r.slice(h,f);if(b===null)throw Ck();function A(S,M){const L=_0(S,["active","final"]),I=l.current+c,E=r.size();let y;return L==="final"?y=v0(e,s)(S,M):y=null,new Hf(I,E,L==="final",y)}const R="POST",k=e.maxUploadRetryTime,T=new Aa(n,R,A,k);return T.headers=g,T.body=b.uploadData(),T.progressCallback=a||null,T.errorHandler=Nd(t),T}const Nr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function yg(t){switch(t){case"running":case"pausing":case"canceling":return Nr.RUNNING;case"paused":return Nr.PAUSED;case"success":return Nr.SUCCESS;case"canceled":return Nr.CANCELED;case"error":return Nr.ERROR;default:return Nr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e,n,r){if(_B(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class ZB{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ru("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ru("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ru("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ru("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ru("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class e5 extends ZB{initXhr(){this.xhr_.responseType="text"}}function Bo(){return new e5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Mk(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(ln.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(Pk(i.status,[]))if(s)i=Ik();else{this.sleepTime=Math.max(this.sleepTime*2,nB),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(ln.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=GB(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Bo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=QB(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Bo,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=K1*this._chunkMultiplier,n=new Hf(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=XB(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Bo,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){K1*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=WB(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Bo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=YB(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Bo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Sk(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=yg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new JB(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(yg(this._state)){case Nr.SUCCESS:ja(this._resolve.bind(null,this.snapshot))();break;case Nr.CANCELED:case Nr.ERROR:const n=this._reject;ja(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(yg(this._state)){case Nr.RUNNING:case Nr.PAUSED:e.next&&ja(e.next.bind(e,this.snapshot))();break;case Nr.SUCCESS:e.complete&&ja(e.complete.bind(e))();break;case Nr.CANCELED:case Nr.ERROR:e.error&&ja(e.error.bind(e,this._error))();break;default:e.error&&ja(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n){this._service=e,n instanceof Yr?this._location=n:this._location=Yr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new da(e,n)}get root(){const e=new Yr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Nk(this._location.path)}get storage(){return this._service}get parent(){const e=LB(this._location.path);if(e===null)return null;const n=new Yr(this._location.bucket,e);return new da(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw pB(e)}}function n5(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new t5(t,new Xs(e),n)}function r5(t){t._throwIfRoot("getDownloadURL");const e=qB(t.storage,t._location,Mk());return t.storage.makeRequestWithTokens(e,Bo).then(n=>{if(n===null)throw hB();return n})}function i5(t){t._throwIfRoot("deleteObject");const e=zB(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Bo)}function s5(t,e){const n=VB(t._location.path,e),r=new Yr(t._location.bucket,n);return new da(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t){return/^[A-Za-z]+:\/\//.test(t)}function a5(t,e){return new da(t,e)}function $k(t,e){if(t instanceof b0){const n=t;if(n._bucket==null)throw cB();const r=new da(n,n._bucket);return e!=null?$k(r,e):r}else return e!==void 0?s5(t,e):t}function l5(t,e){if(e&&o5(e)){if(t instanceof b0)return a5(t,e);throw Jv("To use ref(service, url), the first argument must be a Storage instance.")}else return $k(t,e)}function Y1(t,e){const n=e==null?void 0:e[Ek];return n==null?null:Yr.makeFromBucketSpec(n,t)}function u5(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:nO(i,t.app.options.projectId))}class b0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Tk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=eB,this._maxUploadRetryTime=tB,this._requests=new Set,i!=null?this._bucket=Yr.makeFromBucketSpec(i,this._host):this._bucket=Y1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yr.makeFromBucketSpec(this._url,e):this._bucket=Y1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){z1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){z1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new da(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new mB(Ak());{const o=CB(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const G1="@firebase/storage",Q1="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk="storage";function c5(t,e,n){return t=Dt(t),n5(t,e,n)}function vre(t){return t=Dt(t),r5(t)}function d5(t){return t=Dt(t),i5(t)}function h5(t,e){return t=Dt(t),l5(t,e)}function f5(t=Sd(),e){t=Dt(t);const r=xs(t,Uk).getImmediate({identifier:e}),i=eO("storage");return i&&p5(r,...i),r}function p5(t,e,n,r={}){u5(t,e,n,r)}function m5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new b0(n,r,i,e,Ao)}function g5(){jr(new Dr(Uk,m5,"PUBLIC").setMultipleInstances(!0)),er(G1,Q1,""),er(G1,Q1,"esm2017")}g5();let Oh;const v5=new Uint8Array(16);function y5(){if(!Oh&&(Oh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Oh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Oh(v5)}const Kn=[];for(let t=0;t<256;++t)Kn.push((t+256).toString(16).slice(1));function _5(t,e=0){return Kn[t[e+0]]+Kn[t[e+1]]+Kn[t[e+2]]+Kn[t[e+3]]+"-"+Kn[t[e+4]]+Kn[t[e+5]]+"-"+Kn[t[e+6]]+Kn[t[e+7]]+"-"+Kn[t[e+8]]+Kn[t[e+9]]+"-"+Kn[t[e+10]]+Kn[t[e+11]]+Kn[t[e+12]]+Kn[t[e+13]]+Kn[t[e+14]]+Kn[t[e+15]]}const b5=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),X1={randomUUID:b5};function w5(t,e,n){if(X1.randomUUID&&!e&&!t)return X1.randomUUID();t=t||{};const r=t.random||(t.rng||y5)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return _5(r)}const Yn=class Yn{constructor(e,n,r={},i,s){os(this,"errorCode");this.errorCode=s,Yn.log(r.debug,n),r.route&&KD.push({name:r.route}),V2({title:i??e,type:e.toLowerCase(),text:n},5e3)}};os(Yn,"success",(e,n={})=>new Yn("Success",e,n)),os(Yn,"update",(e,n={})=>new Yn("Warning",e,n,"Update")),os(Yn,"warning",(e,n={})=>new Yn("Warning",e,n)),os(Yn,"error",(e,n={})=>new Yn("Error",e,n)),os(Yn,"generalError",(e,n,r)=>new Yn("Error",(n==null?void 0:n.message)||Bk,{debug:e},void 0,r)),os(Yn,"firebaseError",(e,n)=>{Yn.log(e,n);let r;return n instanceof ei&&Object.keys(Ph).includes(n.code)?(r=n.code,n.message=Ph[r]):n instanceof Error&&Object.keys(Ph).includes(n.name)?(r=n.name,n.message=Ph[r]):n.message=void 0,Yn.generalError(e,n,r)}),os(Yn,"log",(e,n)=>{e&&console.log(n)});let Ve=Yn;const Bk="Something went wrong";var jk=(t=>(t.DEFAULT_ERROR="",t.AUTH_USER_NOT_FOUND="auth/user-not-found",t.AUTH_INVALID_EMAIL="auth/invalid-email",t.AUTH_EMAIL_ALREADY_IN_USE="auth/email-already-in-use",t.AUTH_WRONG_PASSWORD="auth/wrong-password",t.AUTH_TOO_MANY_REQUESTS="auth/too-many-requests",t.AUTH_WEAK_PASSWORD="auth/weak-password",t.AUTH_REQUIRES_RECENT_LOGIN="auth/requires-recent-login",t.PERMISSION_DENIED="permission-denied",t))(jk||{});const J1=t=>Object.values(jk).includes(t),Ph={"":Bk,"auth/user-not-found":"Unknown user","auth/invalid-email":"Invalid e-mail address","auth/email-already-in-use":"E-mail already in use","auth/wrong-password":"Wrong password","auth/too-many-requests":"Temporarily blocked","auth/weak-password":"Weak password","auth/requires-recent-login":"You need to re-login to do this","permission-denied":"Not logged in or no permission"};function w0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Hk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const T5=Hk,Wk=new Co("auth","Firebase",Hk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf=new iu("@firebase/auth");function E5(t,...e){Wf.logLevel<=ht.WARN&&Wf.warn(`Auth (${Ao}): ${t}`,...e)}function Zh(t,...e){Wf.logLevel<=ht.ERROR&&Wf.error(`Auth (${Ao}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t,...e){throw T0(t,...e)}function Qi(t,...e){return T0(t,...e)}function qk(t,e,n){const r=Object.assign(Object.assign({},T5()),{[e]:n});return new Co("auth","Firebase",r).create(e,{appName:t.name})}function Xi(t){return qk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function T0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Wk.create(t,...e)}function Je(t,e,...n){if(!t)throw T0(e,...n)}function ms(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zh(e),new Error(e)}function Ps(t,e){t||ms(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function I5(){return Z1()==="http:"||Z1()==="https:"}function Z1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(I5()||rO()||"connection"in navigator)?navigator.onLine:!0}function C5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ps(n>e,"Short delay should be less than long delay!"),this.isMobile=v_()||iO()}get(){return S5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t,e){Ps(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=new Md(3e4,6e4);function Ns(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ns(t,e,n,r,i={}){return Kk(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ru(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return sF()||(u.referrerPolicy="no-referrer"),zk.fetch()(Yk(t,t.config.apiHost,n,a),u)})}async function Kk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},A5),e);try{const i=new k5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw kh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw kh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw kh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw kh(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw qk(t,c,u);Ni(t,c)}}catch(i){if(i instanceof ei)throw i;Ni(t,"network-request-failed",{message:String(i)})}}async function Ld(t,e,n,r,i={}){const s=await ns(t,e,n,r,i);return"mfaPendingCredential"in s&&Ni(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Yk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?E0(t.config,i):`${t.config.apiScheme}://${i}`}function P5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class k5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qi(this.auth,"network-request-failed")),O5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qi(t,e,r);return i.customData._tokenResponse=n,i}function eE(t){return t!==void 0&&t.enterprise!==void 0}class R5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return P5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function D5(t,e){return ns(t,"GET","/v2/recaptchaConfig",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x5(t,e){return ns(t,"POST","/v1/accounts:delete",e)}async function Gk(t,e){return ns(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function N5(t,e=!1){const n=Dt(t),r=await n.getIdToken(e),i=I0(r);Je(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:pc(_g(i.auth_time)),issuedAtTime:pc(_g(i.iat)),expirationTime:pc(_g(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function _g(t){return Number(t)*1e3}function I0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Af(n);return i?JSON.parse(i):(Zh("Failed to decode base64 JWT payload"),null)}catch(i){return Zh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function tE(t){const e=I0(t);return Je(e,"internal-error"),Je(typeof e.exp<"u","internal-error"),Je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ei&&M5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function M5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pc(this.lastLoginAt),this.creationTime=pc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await jl(t,Gk(n,{idToken:r}));Je(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Qk(s.providerUserInfo):[],a=F5(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ey(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function V5(t){const e=Dt(t);await qf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function F5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Qk(t){return t.map(e=>{var{providerId:n}=e,r=w0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $5(t,e){const n=await Kk(t,{},async()=>{const r=ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Yk(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",zk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function U5(t,e){return ns(t,"POST","/v2/accounts:revokeToken",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Je(e.idToken,"internal-error"),Je(typeof e.idToken<"u","internal-error"),Je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Je(e.length!==0,"internal-error");const n=tE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await $5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new _l;return r&&(Je(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Je(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Je(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _l,this.toJSON())}_performRefresh(){return ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(t,e){Je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=w0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new L5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ey(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await jl(this,this.stsTokenManager.getToken(this.auth,e));return Je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return N5(this,e)}reload(){return V5(this)}_assign(e){this!==e&&(Je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ti(this.auth.app))return Promise.reject(Xi(this.auth));const e=await this.getIdToken();return await jl(this,x5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,R=(u=n.createdAt)!==null&&u!==void 0?u:void 0,k=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:T,emailVerified:S,isAnonymous:M,providerData:L,stsTokenManager:I}=n;Je(T&&I,e,"internal-error");const E=_l.fromJSON(this.name,I);Je(typeof T=="string",e,"internal-error"),Us(h,e.name),Us(f,e.name),Je(typeof S=="boolean",e,"internal-error"),Je(typeof M=="boolean",e,"internal-error"),Us(p,e.name),Us(g,e.name),Us(b,e.name),Us(A,e.name),Us(R,e.name),Us(k,e.name);const y=new gs({uid:T,auth:e,email:f,emailVerified:S,displayName:h,isAnonymous:M,photoURL:g,phoneNumber:p,tenantId:b,stsTokenManager:E,createdAt:R,lastLoginAt:k});return L&&Array.isArray(L)&&(y.providerData=L.map(v=>Object.assign({},v))),A&&(y._redirectEventId=A),y}static async _fromIdTokenResponse(e,n,r=!1){const i=new _l;i.updateFromServerResponse(n);const s=new gs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await qf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Je(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Qk(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new _l;a.updateFromIdToken(r);const l=new gs({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ey(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=new Map;function vs(t){Ps(t instanceof Function,"Expected a class definition");let e=nE.get(t);return e?(Ps(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Xk.type="NONE";const rE=Xk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(t,e,n){return`firebase:${t}:${e}:${n}`}class bl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ef(this.userKey,i.apiKey,s),this.fullPersistenceKey=ef("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?gs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bl(vs(rE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||vs(rE);const o=ef(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=gs._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new bl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new bl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Jk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rR(e))return"Blackberry";if(iR(e))return"Webos";if(Zk(e))return"Safari";if((e.includes("chrome/")||eR(e))&&!e.includes("edge/"))return"Chrome";if(nR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Jk(t=br()){return/firefox\//i.test(t)}function Zk(t=br()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eR(t=br()){return/crios\//i.test(t)}function tR(t=br()){return/iemobile/i.test(t)}function nR(t=br()){return/android/i.test(t)}function rR(t=br()){return/blackberry/i.test(t)}function iR(t=br()){return/webos/i.test(t)}function S0(t=br()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function B5(t=br()){var e;return S0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function j5(){return oF()&&document.documentMode===10}function sR(t=br()){return S0(t)||nR(t)||iR(t)||rR(t)||/windows phone/i.test(t)||tR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(t,e=[]){let n;switch(t){case"Browser":n=iE(br());break;case"Worker":n=`${iE(br())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ao}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W5(t,e={}){return ns(t,"GET","/v2/passwordPolicy",Ns(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=6;class z5{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:q5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sE(this),this.idTokenSubscription=new sE(this),this.beforeStateQueue=new H5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vs(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await bl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gk(this,{idToken:e}),r=await gs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ti(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ti(this.app))return Promise.reject(Xi(this));const n=e?Dt(e):null;return n&&Je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ti(this.app)?Promise.reject(Xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ti(this.app)?Promise.reject(Xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await W5(this),n=new z5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Co("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await U5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vs(e)||this._popupRedirectResolver;Je(n,this,"argument-error"),this.redirectPersistenceManager=await bl.create(this,[vs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Je(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&E5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Oa(t){return Dt(t)}class sE{constructor(e){this.auth=e,this.observer=null,this.addObserver=mF(n=>this.observer=n)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y5(t){om=t}function aR(t){return om.loadJS(t)}function G5(){return om.recaptchaEnterpriseScript}function Q5(){return om.gapiScript}function X5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const J5="recaptcha-enterprise",Z5="NO_RECAPTCHA";class ej{constructor(e){this.type=J5,this.auth=Oa(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{D5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new R5(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;eE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(Z5)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&eE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=G5();l.length!==0&&(l+=a),aR(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function oE(t,e,n,r=!1){const i=new ej(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function zf(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await oE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await oE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(t,e){const n=xs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if($c(s,e??{}))return i;Ni(i,"already-initialized")}return n.initialize({options:e})}function nj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,n){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}async function rj(t,e){return ns(t,"POST","/v1/accounts:update",e)}async function ij(t,e){return ns(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sj(t,e){return Ld(t,"POST","/v1/accounts:signInWithPassword",Ns(t,e))}async function oj(t,e){return ns(t,"POST","/v1/accounts:sendOobCode",Ns(t,e))}async function aj(t,e){return oj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lj(t,e){return Ld(t,"POST","/v1/accounts:signInWithEmailLink",Ns(t,e))}async function uj(t,e){return Ld(t,"POST","/v1/accounts:signInWithEmailLink",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc extends C0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Qc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Qc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zf(e,n,"signInWithPassword",sj);case"emailLink":return lj(e,{email:this._email,oobCode:this._password});default:Ni(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zf(e,r,"signUpPassword",ij);case"emailLink":return uj(e,{idToken:n,email:this._email,oobCode:this._password});default:Ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(t,e){return Ld(t,"POST","/v1/accounts:signInWithIdp",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj="http://localhost";class ha extends C0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=w0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ha(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return wl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wl(e,n)}buildRequest(){const e={requestUri:cj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ru(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hj(t){const e=Wu(qu(t)).link,n=e?Wu(qu(e)).deep_link_id:null,r=Wu(qu(t)).deep_link_id;return(r?Wu(qu(r)).link:null)||r||n||e||t}class A0{constructor(e){var n,r,i,s,o,a;const l=Wu(qu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=dj((i=l.mode)!==null&&i!==void 0?i:null);Je(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=hj(e);try{return new A0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.providerId=wo.PROVIDER_ID}static credential(e,n){return Qc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=A0.parseLink(n);return Je(r,"argument-error"),Qc._fromEmailAndCode(e,r.code,r.tenantId)}}wo.PROVIDER_ID="password";wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd extends lR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Vd{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Vd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ha._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zs.credential(n,r)}catch{return null}}}Zs.GOOGLE_SIGN_IN_METHOD="google.com";Zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends Vd{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eo.credential(e.oauthAccessToken)}catch{return null}}}eo.GITHUB_SIGN_IN_METHOD="github.com";eo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends Vd{constructor(){super("twitter.com")}static credential(e,n){return ha._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return to.credential(n,r)}catch{return null}}}to.TWITTER_SIGN_IN_METHOD="twitter.com";to.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fj(t,e){return Ld(t,"POST","/v1/accounts:signUp",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await gs._fromIdTokenResponse(e,r,i),o=aE(r);return new fa({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=aE(r);return new fa({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function aE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf extends ei{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Kf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Kf(e,n,r,i)}}function uR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Kf._fromErrorAndOperation(t,s,e,r):s})}async function pj(t,e,n=!1){const r=await jl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cR(t,e,n=!1){const{auth:r}=t;if(Ti(r.app))return Promise.reject(Xi(r));const i="reauthenticate";try{const s=await jl(t,uR(r,i,e,t),n);Je(s.idToken,r,"internal-error");const o=I0(s.idToken);Je(o,r,"internal-error");const{sub:a}=o;return Je(t.uid===a,r,"user-mismatch"),fa._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ni(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(t,e,n=!1){if(Ti(t.app))return Promise.reject(Xi(t));const r="signIn",i=await uR(t,r,e),s=await fa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function mj(t,e){return dR(Oa(t),e)}async function lE(t,e){return cR(Dt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(t,e,n){var r;Je(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Je(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Je(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Je(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(t){const e=Oa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function vj(t,e,n){const r=Oa(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&gj(r,i,n),await zf(r,i,"getOobCode",aj)}async function yj(t,e,n){if(Ti(t.app))return Promise.reject(Xi(t));const r=Oa(t),o=await zf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fj).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&hR(t),l}),a=await fa._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function _j(t,e,n){return Ti(t.app)?Promise.reject(Xi(t)):mj(Dt(t),wo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&hR(t),r})}function bj(t,e){const n=Dt(t);return Ti(n.auth.app)?Promise.reject(Xi(n.auth)):fR(n,e,null)}function wj(t,e){return fR(Dt(t),null,e)}async function fR(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await jl(t,rj(r,s));await t._updateTokensIfNecessary(o,!0)}function Tj(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function Ej(t){return Dt(t).signOut()}async function Ij(t){return Dt(t).delete()}const Yf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yf,"1"),this.storage.removeItem(Yf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=1e3,Cj=10;class mR extends pR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);j5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Cj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Sj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mR.type="LOCAL";const Aj=mR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR extends pR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gR.type="SESSION";const vR=gR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new am(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await Oj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}am.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=O0("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(){return window}function kj(t){Ji().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(){return typeof Ji().WorkerGlobalScope<"u"&&typeof Ji().importScripts=="function"}async function Rj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Dj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function xj(){return yR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="firebaseLocalStorageDb",Nj=1,Gf="firebaseLocalStorage",bR="fbase_key";class Fd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lm(t,e){return t.transaction([Gf],e?"readwrite":"readonly").objectStore(Gf)}function Mj(){const t=indexedDB.deleteDatabase(_R);return new Fd(t).toPromise()}function ty(){const t=indexedDB.open(_R,Nj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Gf,{keyPath:bR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Gf)?e(r):(r.close(),await Mj(),e(await ty()))})})}async function uE(t,e,n){const r=lm(t,!0).put({[bR]:e,value:n});return new Fd(r).toPromise()}async function Lj(t,e){const n=lm(t,!1).get(e),r=await new Fd(n).toPromise();return r===void 0?null:r.value}function cE(t,e){const n=lm(t,!0).delete(e);return new Fd(n).toPromise()}const Vj=800,Fj=3;class wR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ty(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Fj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=am._getInstance(xj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Rj(),!this.activeServiceWorker)return;this.sender=new Pj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Dj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ty();return await uE(e,Yf,"1"),await cE(e,Yf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>uE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Lj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>cE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=lm(i,!1).getAll();return new Fd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Vj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wR.type="LOCAL";const $j=wR;new Md(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(t,e){return e?vs(e):(Je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0 extends C0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Bj(t){return dR(t.auth,new P0(t),t.bypassAuthState)}function jj(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),cR(n,new P0(t),t.bypassAuthState)}async function Hj(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),pj(n,new P0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Bj;case"linkViaPopup":case"linkViaRedirect":return Hj;case"reauthViaPopup":case"reauthViaRedirect":return jj;default:Ni(this.auth,"internal-error")}}resolve(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj=new Md(2e3,1e4);class rl extends TR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,rl.currentPopupAction&&rl.currentPopupAction.cancel(),rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Je(e,this.auth,"internal-error"),e}async onExecution(){Ps(this.filter.length===1,"Popup operations only handle one event");const e=O0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Wj.get())};e()}}rl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj="pendingRedirect",tf=new Map;class zj extends TR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=tf.get(this.auth._key());if(!e){try{const r=await Kj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}tf.set(this.auth._key(),e)}return this.bypassAuthState||tf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Kj(t,e){const n=Qj(e),r=Gj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Yj(t,e){tf.set(t._key(),e)}function Gj(t){return vs(t._redirectPersistence)}function Qj(t){return ef(qj,t.config.apiKey,t.name)}async function Xj(t,e,n=!1){if(Ti(t.app))return Promise.reject(Xi(t));const r=Oa(t),i=Uj(r,e),o=await new zj(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj=10*60*1e3;class Zj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ER(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Jj&&this.cachedEventUids.clear(),this.cachedEventUids.has(dE(e))}saveEventToCache(e){this.cachedEventUids.add(dE(e)),this.lastProcessedEventTime=Date.now()}}function dE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ER({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ER(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tH(t,e={}){return ns(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rH=/^https?/;async function iH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await tH(t);for(const n of e)try{if(sH(n))return}catch{}Ni(t,"unauthorized-domain")}function sH(t){const e=Zv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!rH.test(n))return!1;if(nH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oH=new Md(3e4,6e4);function hE(){const t=Ji().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aH(t){return new Promise((e,n)=>{var r,i,s;function o(){hE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hE(),n(Qi(t,"network-request-failed"))},timeout:oH.get()})}if(!((i=(r=Ji().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ji().gapi)===null||s===void 0)&&s.load)o();else{const a=X5("iframefcb");return Ji()[a]=()=>{gapi.load?o():n(Qi(t,"network-request-failed"))},aR(`${Q5()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw nf=null,e})}let nf=null;function lH(t){return nf=nf||aH(t),nf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uH=new Md(5e3,15e3),cH="__/auth/iframe",dH="emulator/auth/iframe",hH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pH(t){const e=t.config;Je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?E0(e,dH):`https://${t.config.authDomain}/${cH}`,r={apiKey:e.apiKey,appName:t.name,v:Ao},i=fH.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ru(r).slice(1)}`}async function mH(t){const e=await lH(t),n=Ji().gapi;return Je(n,t,"internal-error"),e.open({where:document.body,url:pH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hH,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Qi(t,"network-request-failed"),a=Ji().setTimeout(()=>{s(o)},uH.get());function l(){Ji().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vH=500,yH=600,_H="_blank",bH="http://localhost";class fE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wH(t,e,n,r=vH,i=yH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},gH),{width:r.toString(),height:i.toString(),top:s,left:o}),u=br().toLowerCase();n&&(a=eR(u)?_H:n),Jk(u)&&(e=e||bH,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(B5(u)&&a!=="_self")return TH(e||"",a),new fE(null);const h=window.open(e||"",a,c);Je(h,t,"popup-blocked");try{h.focus()}catch{}return new fE(h)}function TH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH="__/auth/handler",IH="emulator/auth/handler",SH=encodeURIComponent("fac");async function pE(t,e,n,r,i,s){Je(t.config.authDomain,t,"auth-domain-config-required"),Je(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ao,eventId:i};if(e instanceof lR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Iv(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof Vd){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${SH}=${encodeURIComponent(l)}`:"";return`${CH(t)}?${ru(a).slice(1)}${u}`}function CH({config:t}){return t.emulator?E0(t,IH):`https://${t.authDomain}/${EH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="webStorageSupport";class AH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vR,this._completeRedirectFn=Xj,this._overrideRedirectResult=Yj}async _openPopup(e,n,r,i){var s;Ps((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await pE(e,n,r,Zv(),i);return wH(e,o,O0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await pE(e,n,r,Zv(),i);return kj(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ps(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await mH(e),r=new Zj(e);return n.register("authEvent",i=>(Je(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bg,{type:bg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[bg];o!==void 0&&n(!!o),Ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sR()||Zk()||S0()}}const OH=AH;var mE="@firebase/auth",gE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RH(t){jr(new Dr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Je(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oR(t)},u=new K5(r,i,s,l);return nj(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),jr(new Dr("auth-internal",e=>{const n=Oa(e.getProvider("auth").getImmediate());return(r=>new PH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),er(mE,gE,kH(t)),er(mE,gE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DH=5*60;rF("authIdTokenMaxAge");function xH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Y5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Qi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",xH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RH("Browser");const IR=Symbol("firebaseApp");function k0(t){return Zr()&&kr(IR,null)||Sd(t)}const NH=typeof window<"u",Rh=new WeakMap;function MH(t,e){if(!Rh.has(t)){const n=Ky(!0);Rh.set(t,n);const{unmount:r}=e;e.unmount=()=>{r.call(e),n.stop(),Rh.delete(t)}}return Rh.get(t)}const SR=new WeakMap;function LH(t){return SR.get(k0(t))}const Dh=new WeakMap;function VH(t){const e=k0(t);if(!Dh.has(e)){let n;const i=[new Promise(s=>{n=s}),s=>{Dh.set(e,s),n(s.value)}];Dh.set(e,i)}return Dh.get(e)}function FH(t,e){Tj(e,n=>{const r=VH();t.value=n,Array.isArray(r)&&r[1](t)})}var vE={};const yE="@firebase/database",_E="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CR="";function $H(t){CR=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Gn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Fc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ds(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new UH(e)}}catch{}return new BH},qo=AR("localStorage"),ny=AR("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=new iu("@firebase/database"),jH=function(){let t=1;return function(){return t++}}(),OR=function(t){const e=_F(t),n=new pF;n.update(e);const r=n.digest();return Rp.encodeByteArray(r)},$d=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=$d.apply(null,r):typeof r=="object"?e+=Gn(r):e+=r,e+=" "}return e};let Jo=null,bE=!0;const HH=function(t,e){ke(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Tl.logLevel=ht.VERBOSE,Jo=Tl.log.bind(Tl),e&&ny.set("logging_enabled",!0)):typeof t=="function"?Jo=t:(Jo=null,ny.remove("logging_enabled"))},dr=function(...t){if(bE===!0&&(bE=!1,Jo===null&&ny.get("logging_enabled")===!0&&HH(!0)),Jo){const e=$d.apply(null,t);Jo(e)}},Ud=function(t){return function(...e){dr(t,...e)}},ry=function(...t){const e="FIREBASE INTERNAL ERROR: "+$d(...t);Tl.error(e)},pa=function(...t){const e=`FIREBASE FATAL ERROR: ${$d(...t)}`;throw Tl.error(e),new Error(e)},Jr=function(...t){const e="FIREBASE WARNING: "+$d(...t);Tl.warn(e)},WH=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Jr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},PR=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},qH=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Hl="[MIN_NAME]",ma="[MAX_NAME]",cu=function(t,e){if(t===e)return 0;if(t===Hl||e===ma)return-1;if(e===Hl||t===ma)return 1;{const n=wE(t),r=wE(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},zH=function(t,e){return t===e?0:t<e?-1:1},Du=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Gn(e))},R0=function(t){if(typeof t!="object"||t===null)return Gn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Gn(e[r]),n+=":",n+=R0(t[e[r]]);return n+="}",n},kR=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function di(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const RR=function(t){ke(!PR(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},KH=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},YH=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},GH=new RegExp("^-?(0*)\\d{1,10}$"),QH=-2147483648,XH=2147483647,wE=function(t){if(GH.test(t)){const e=Number(t);if(e>=QH&&e<=XH)return e}return null},Bd=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Jr("Exception was thrown by user callback.",n),e},Math.floor(0))}},JH=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},mc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Jr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(dr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Jr(e)}}class iy{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}iy.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="5",DR="v",xR="s",NR="r",MR="f",LR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,VR="ls",FR="p",sy="ac",$R="websocket",UR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=qo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&qo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function n7(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function BR(t,e,n){ke(typeof e=="string","typeof type must == string"),ke(typeof n=="object","typeof params must == object");let r;if(e===$R)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===UR)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);n7(t)&&(n.ns=t.namespace);const i=[];return di(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(){this.counters_={}}incrementCounter(e,n=1){Ds(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return XV(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg={},Tg={};function x0(t){const e=t.toString();return wg[e]||(wg[e]=new r7),wg[e]}function i7(t,e){const n=t.toString();return Tg[n]||(Tg[n]=e()),Tg[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Bd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="start",o7="close",a7="pLPCommand",l7="pRTLPCB",jR="id",HR="pw",WR="ser",u7="cb",c7="seg",d7="ts",h7="d",f7="dframe",qR=1870,zR=30,p7=qR-zR,m7=25e3,g7=3e4;class il{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ud(e),this.stats_=x0(n),this.urlFn=l=>(this.appCheckToken&&(l[sy]=this.appCheckToken),BR(n,UR,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new s7(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(g7)),qH(()=>{if(this.isClosed_)return;this.scriptTagHolder=new N0((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===TE)this.id=a,this.password=l;else if(o===o7)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[TE]="t",r[WR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[u7]=this.scriptTagHolder.uniqueCallbackIdentifier),r[DR]=D0,this.transportSessionId&&(r[xR]=this.transportSessionId),this.lastSessionId&&(r[VR]=this.lastSessionId),this.applicationId&&(r[FR]=this.applicationId),this.appCheckToken&&(r[sy]=this.appCheckToken),typeof location<"u"&&location.hostname&&LR.test(location.hostname)&&(r[NR]=MR);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){il.forceAllow_=!0}static forceDisallow(){il.forceDisallow_=!0}static isAvailable(){return il.forceAllow_?!0:!il.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!KH()&&!YH()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Gn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=XA(n),i=kR(r,p7);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[f7]="t",r[jR]=e,r[HR]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Gn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class N0{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=jH(),window[a7+this.uniqueCallbackIdentifier]=e,window[l7+this.uniqueCallbackIdentifier]=n,this.myIFrame=N0.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){dr("frame writing exception"),a.stack&&dr(a.stack),dr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||dr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[jR]=this.myID,e[HR]=this.myPW,e[WR]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+zR+r.length<=qR;){const o=this.pendingSegs.shift();r=r+"&"+c7+i+"="+o.seg+"&"+d7+i+"="+o.ts+"&"+h7+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(m7)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{dr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7=16384,y7=45e3;let Qf=null;typeof MozWebSocket<"u"?Qf=MozWebSocket:typeof WebSocket<"u"&&(Qf=WebSocket);class bi{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ud(this.connId),this.stats_=x0(n),this.connURL=bi.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[DR]=D0,typeof location<"u"&&location.hostname&&LR.test(location.hostname)&&(o[NR]=MR),n&&(o[xR]=n),r&&(o[VR]=r),i&&(o[sy]=i),s&&(o[FR]=s),BR(e,$R,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,qo.set("previous_websocket_failure",!0);try{let r;sO(),this.mySock=new Qf(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){bi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Qf!==null&&!bi.forceDisallow_}static previouslyFailed(){return qo.isInMemoryStorage||qo.get("previous_websocket_failure")===!0}markConnectionHealthy(){qo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Fc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ke(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Gn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=kR(n,v7);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(y7))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}bi.responsesRequiredToBeHealthy=2;bi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[il,bi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=bi&&bi.isAvailable();let r=n&&!bi.previouslyFailed();if(e.webSocketOnly&&(n||Jr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[bi];else{const i=this.transports_=[];for(const s of Xc.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Xc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Xc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7=6e4,b7=5e3,w7=10*1024,T7=100*1024,Eg="t",EE="d",E7="s",IE="r",I7="e",SE="o",CE="a",AE="n",OE="p",S7="h";class C7{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ud("c:"+this.id+":"),this.transportManager_=new Xc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=mc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>T7?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>w7?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Eg in e){const n=e[Eg];n===CE?this.upgradeIfSecondaryHealthy_():n===IE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===SE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Du("t",e),r=Du("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:OE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:CE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:AE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Du("t",e),r=Du("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Du(Eg,e);if(EE in e){const r=e[EE];if(n===S7){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===AE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===E7?this.onConnectionShutdown_(r):n===IE?this.onReset_(r):n===I7?ry("Server Error: "+r):n===SE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ry("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),D0!==r&&Jr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),mc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(_7))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):mc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(b7))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:OE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(qo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.allowedEvents_=e,this.listeners_={},ke(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){ke(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf extends YR{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!v_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Xf}getInitialEvent(e){return ke(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=32,kE=768;class un{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Bt(){return new un("")}function wt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function To(t){return t.pieces_.length-t.pieceNum_}function sn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new un(t.pieces_,e)}function GR(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function A7(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function QR(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function XR(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new un(e,0)}function Bn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof un)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new un(n,0)}function gt(t){return t.pieceNum_>=t.pieces_.length}function oi(t,e){const n=wt(t),r=wt(e);if(n===null)return e;if(n===r)return oi(sn(t),sn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function JR(t,e){if(To(t)!==To(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ei(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(To(t)>To(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class O7{constructor(e,n){this.errorPrefix_=n,this.parts_=QR(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Np(this.parts_[r]);ZR(this)}}function P7(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Np(e),ZR(t)}function k7(t){const e=t.parts_.pop();t.byteLength_-=Np(e),t.parts_.length>0&&(t.byteLength_-=1)}function ZR(t){if(t.byteLength_>kE)throw new Error(t.errorPrefix_+"has a key path longer than "+kE+" bytes ("+t.byteLength_+").");if(t.parts_.length>PE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+PE+") or object contains a cycle "+Fo(t))}function Fo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0 extends YR{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new M0}getInitialEvent(e){return ke(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=1e3,R7=60*5*1e3,RE=30*1e3,D7=1.3,x7=3e4,N7="server_kill",DE=3;class Ts extends KR{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ts.nextPersistentConnectionId_++,this.log_=Ud("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xu,this.maxReconnectDelay_=R7,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!sO())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");M0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Xf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Gn(s)),ke(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new sa,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),ke(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ke(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Ts.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ds(e,"w")){const r=xl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Jr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||fF(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=RE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=hF(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ke(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Gn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):ry("Unrecognized action received from server: "+Gn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ke(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=xu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>x7&&(this.reconnectDelay_=xu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*D7)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ts.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(h){ke(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?dr("getToken() completed but was canceled"):(dr("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new C7(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{Jr(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(N7)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Jr(h),l())}}}interrupt(e){dr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){dr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Iv(this.interruptReasons_)&&(this.reconnectDelay_=xu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>R0(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new un(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){dr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=DE&&(this.reconnectDelay_=RE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){dr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=DE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+CR.replace(/\./g,"-")]=1,v_()?e["framework.cordova"]=1:iO()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Xf.getInstance().currentlyOnline();return Iv(this.interruptReasons_)&&e}}Ts.nextPersistentConnectionId_=0;Ts.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Tt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Tt(Hl,e),i=new Tt(Hl,n);return this.compare(r,i)!==0}minPost(){return Tt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh;class eD extends um{static get __EMPTY_NODE(){return xh}static set __EMPTY_NODE(e){xh=e}compare(e,n){return cu(e.name,n.name)}isDefinedOn(e){throw nu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Tt.MIN}maxPost(){return new Tt(ma,xh)}makePost(e,n){return ke(typeof e=="string","KeyIndex indexValue must always be a string."),new Tt(e,xh)}toString(){return".key"}}const El=new eD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Un{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Un.RED,this.left=i??$r.EMPTY_NODE,this.right=s??$r.EMPTY_NODE}copy(e,n,r,i,s){return new Un(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return $r.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return $r.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Un.RED=!0;Un.BLACK=!1;class M7{copy(e,n,r,i,s){return this}insert(e,n,r){return new Un(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class $r{constructor(e,n=$r.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new $r(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Un.BLACK,null,null))}remove(e){return new $r(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Un.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Nh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Nh(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Nh(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Nh(this.root_,null,this.comparator_,!0,e)}}$r.EMPTY_NODE=new M7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L7(t,e){return cu(t.name,e.name)}function L0(t,e){return cu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oy;function V7(t){oy=t}const tD=function(t){return typeof t=="number"?"number:"+RR(t):"string:"+t},nD=function(t){if(t.isLeafNode()){const e=t.val();ke(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ds(e,".sv"),"Priority must be a string or number.")}else ke(t===oy||t.isEmpty(),"priority of unexpected type.");ke(t===oy||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xE;class Fn{constructor(e,n=Fn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ke(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),nD(this.priorityNode_)}static set __childrenNodeConstructor(e){xE=e}static get __childrenNodeConstructor(){return xE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Fn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Fn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return gt(e)?this:wt(e)===".priority"?this.priorityNode_:Fn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Fn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=wt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ke(r!==".priority"||To(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Fn.__childrenNodeConstructor.EMPTY_NODE.updateChild(sn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+tD(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=RR(this.value_):e+=this.value_,this.lazyHash_=OR(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Fn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Fn.__childrenNodeConstructor?-1:(ke(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Fn.VALUE_TYPE_ORDER.indexOf(n),s=Fn.VALUE_TYPE_ORDER.indexOf(r);return ke(i>=0,"Unknown leaf type: "+n),ke(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Fn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rD,iD;function F7(t){rD=t}function $7(t){iD=t}class U7 extends um{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?cu(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Tt.MIN}maxPost(){return new Tt(ma,new Fn("[PRIORITY-POST]",iD))}makePost(e,n){const r=rD(e);return new Tt(n,new Fn("[PRIORITY-POST]",r))}toString(){return".priority"}}const mr=new U7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7=Math.log(2);class j7{constructor(e){const n=s=>parseInt(Math.log(s)/B7,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Jf=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let h,f;if(c===0)return null;if(c===1)return h=t[l],f=n?n(h):h,new Un(f,h.node,Un.BLACK,null,null);{const p=parseInt(c/2,10)+l,g=i(l,p),b=i(p+1,u);return h=t[p],f=n?n(h):h,new Un(f,h.node,Un.BLACK,g,b)}},s=function(l){let u=null,c=null,h=t.length;const f=function(g,b){const A=h-g,R=h;h-=g;const k=i(A+1,R),T=t[A],S=n?n(T):T;p(new Un(S,T.node,b,null,k))},p=function(g){u?(u.left=g,u=g):(c=g,u=g)};for(let g=0;g<l.count;++g){const b=l.nextBitIsOne(),A=Math.pow(2,l.count-(g+1));b?f(A,Un.BLACK):(f(A,Un.BLACK),f(A,Un.RED))}return c},o=new j7(t.length),a=s(o);return new $r(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ig;const Ha={};class ys{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ke(Ha&&mr,"ChildrenNode.ts has not been loaded"),Ig=Ig||new ys({".priority":Ha},{".priority":mr}),Ig}get(e){const n=xl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof $r?n:null}hasIndex(e){return Ds(this.indexSet_,e.toString())}addIndex(e,n){ke(e!==El,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Tt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Jf(r,e.getCompare()):a=Ha;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new ys(c,u)}addToIndexes(e,n){const r=Of(this.indexes_,(i,s)=>{const o=xl(this.indexSet_,s);if(ke(o,"Missing index implementation for "+s),i===Ha)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Tt.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Jf(a,o.getCompare())}else return Ha;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Tt(e.name,a))),l.insert(e,e.node)}});return new ys(r,this.indexSet_)}removeFromIndexes(e,n){const r=Of(this.indexes_,i=>{if(i===Ha)return i;{const s=n.get(e.name);return s?i.remove(new Tt(e.name,s)):i}});return new ys(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nu;class Vt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&nD(this.priorityNode_),this.children_.isEmpty()&&ke(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Nu||(Nu=new Vt(new $r(L0),null,ys.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Nu}updatePriority(e){return this.children_.isEmpty()?this:new Vt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Nu:n}}getChild(e){const n=wt(e);return n===null?this:this.getImmediateChild(n).getChild(sn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ke(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Tt(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Nu:this.priorityNode_;return new Vt(i,o,s)}}updateChild(e,n){const r=wt(e);if(r===null)return n;{ke(wt(e)!==".priority"||To(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(sn(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(mr,(o,a)=>{n[o]=a.val(e),r++,s&&Vt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+tD(this.getPriority().val())+":"),this.forEachChild(mr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":OR(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Tt(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Tt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Tt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Tt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Tt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===jd?-1:0}withIndex(e){if(e===El||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Vt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===El||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(mr),i=n.getIterator(mr);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===El?null:this.indexMap_.get(e.toString())}}Vt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class H7 extends Vt{constructor(){super(new $r(L0),Vt.EMPTY_NODE,ys.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Vt.EMPTY_NODE}isEmpty(){return!1}}const jd=new H7;Object.defineProperties(Tt,{MIN:{value:new Tt(Hl,Vt.EMPTY_NODE)},MAX:{value:new Tt(ma,jd)}});eD.__EMPTY_NODE=Vt.EMPTY_NODE;Fn.__childrenNodeConstructor=Vt;V7(jd);$7(jd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7=!0;function hr(t,e=null){if(t===null)return Vt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ke(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Fn(n,hr(e))}if(!(t instanceof Array)&&W7){const n=[];let r=!1;if(di(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=hr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Tt(o,l)))}}),n.length===0)return Vt.EMPTY_NODE;const s=Jf(n,L7,o=>o.name,L0);if(r){const o=Jf(n,mr.getCompare());return new Vt(s,hr(e),new ys({".priority":o},{".priority":mr}))}else return new Vt(s,hr(e),ys.Default)}else{let n=Vt.EMPTY_NODE;return di(t,(r,i)=>{if(Ds(t,r)&&r.substring(0,1)!=="."){const s=hr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(hr(e))}}F7(hr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7 extends um{constructor(e){super(),this.indexPath_=e,ke(!gt(e)&&wt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?cu(e.name,n.name):s}makePost(e,n){const r=hr(e),i=Vt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Tt(n,i)}maxPost(){const e=Vt.EMPTY_NODE.updateChild(this.indexPath_,jd);return new Tt(ma,e)}toString(){return QR(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7 extends um{compare(e,n){const r=e.node.compareTo(n.node);return r===0?cu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Tt.MIN}maxPost(){return Tt.MAX}makePost(e,n){const r=hr(e);return new Tt(n,r)}toString(){return".value"}}const K7=new z7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y7(t){return{type:"value",snapshotNode:t}}function G7(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Q7(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function NE(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function X7(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=mr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ke(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ke(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Hl}hasEnd(){return this.endSet_}getIndexEndValue(){return ke(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ke(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ma}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ke(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===mr}copy(){const e=new V0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ME(t){const e={};if(t.isDefault())return e;let n;if(t.index_===mr?n="$priority":t.index_===K7?n="$value":t.index_===El?n="$key":(ke(t.index_ instanceof q7,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Gn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Gn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Gn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Gn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Gn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function LE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==mr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf extends KR{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ud("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ke(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Zf.getListenId_(e,r),a={};this.listens_[o]=a;const l=ME(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let h=c;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(s,h,!1,r),xl(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=Zf.getListenId_(e,n);delete this.listens_[r]}get(e){const n=ME(e._queryParams),r=e._path.toString(),i=new sa;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ru(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Fc(a.responseText)}catch{Jr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Jr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(){this.rootNode_=Vt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(){return{value:null,children:new Map}}function sD(t,e,n){if(gt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=wt(e);t.children.has(r)||t.children.set(r,ep());const i=t.children.get(r);e=sn(e),sD(i,e,n)}}function ay(t,e,n){t.value!==null?n(e,t.value):Z7(t,(r,i)=>{const s=new un(e.toString()+"/"+r);ay(i,s,n)})}function Z7(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&di(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=10*1e3,t8=30*1e3,n8=5*60*1e3;class r8{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new e8(e);const r=VE+(t8-VE)*Math.random();mc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;di(e,(i,s)=>{s>0&&Ds(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),mc(this.reportStats_.bind(this),Math.floor(Math.random()*2*n8))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(qi||(qi={}));function oD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function aD(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function lD(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=qi.ACK_USER_WRITE,this.source=oD()}operationForChild(e){if(gt(this.path)){if(this.affectedTree.value!=null)return ke(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new un(e));return new tp(Bt(),n,this.revert)}}else return ke(wt(this.path)===e,"operationForChild called for unrelated child."),new tp(sn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=qi.OVERWRITE}operationForChild(e){return gt(this.path)?new ga(this.source,Bt(),this.snap.getImmediateChild(e)):new ga(this.source,sn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=qi.MERGE}operationForChild(e){if(gt(this.path)){const n=this.children.subtree(new un(e));return n.isEmpty()?null:n.value?new ga(this.source,Bt(),n.value):new Jc(this.source,Bt(),n)}else return ke(wt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Jc(this.source,sn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(gt(e))return this.isFullyInitialized()&&!this.filtered_;const n=wt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function i8(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(X7(o.childName,o.snapshotNode))}),Mu(t,i,"child_removed",e,r,n),Mu(t,i,"child_added",e,r,n),Mu(t,i,"child_moved",s,r,n),Mu(t,i,"child_changed",e,r,n),Mu(t,i,"value",e,r,n),i}function Mu(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>o8(t,a,l)),o.forEach(a=>{const l=s8(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function s8(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function o8(t,e,n){if(e.childName==null||n.childName==null)throw nu("Should only compare child_ events.");const r=new Tt(e.childName,e.snapshotNode),i=new Tt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(t,e){return{eventCache:t,serverCache:e}}function gc(t,e,n,r){return uD(new F0(e,n,r),t.serverCache)}function cD(t,e,n,r){return uD(t.eventCache,new F0(e,n,r))}function ly(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function va(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sg;const a8=()=>(Sg||(Sg=new $r(zH)),Sg);class rn{constructor(e,n=a8()){this.value=e,this.children=n}static fromObject(e){let n=new rn(null);return di(e,(r,i)=>{n=n.set(new un(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Bt(),value:this.value};if(gt(e))return null;{const r=wt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(sn(e),n);return s!=null?{path:Bn(new un(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(gt(e))return this;{const n=wt(e),r=this.children.get(n);return r!==null?r.subtree(sn(e)):new rn(null)}}set(e,n){if(gt(e))return new rn(n,this.children);{const r=wt(e),s=(this.children.get(r)||new rn(null)).set(sn(e),n),o=this.children.insert(r,s);return new rn(this.value,o)}}remove(e){if(gt(e))return this.children.isEmpty()?new rn(null):new rn(null,this.children);{const n=wt(e),r=this.children.get(n);if(r){const i=r.remove(sn(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new rn(null):new rn(this.value,s)}else return this}}get(e){if(gt(e))return this.value;{const n=wt(e),r=this.children.get(n);return r?r.get(sn(e)):null}}setTree(e,n){if(gt(e))return n;{const r=wt(e),s=(this.children.get(r)||new rn(null)).setTree(sn(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new rn(this.value,o)}}fold(e){return this.fold_(Bt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Bn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Bt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(gt(e))return null;{const s=wt(e),o=this.children.get(s);return o?o.findOnPath_(sn(e),Bn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Bt(),n)}foreachOnPath_(e,n,r){if(gt(e))return this;{this.value&&r(n,this.value);const i=wt(e),s=this.children.get(i);return s?s.foreachOnPath_(sn(e),Bn(n,i),r):new rn(null)}}foreach(e){this.foreach_(Bt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Bn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.writeTree_=e}static empty(){return new Ci(new rn(null))}}function vc(t,e,n){if(gt(e))return new Ci(new rn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=oi(i,e);return s=s.updateChild(o,n),new Ci(t.writeTree_.set(i,s))}else{const i=new rn(n),s=t.writeTree_.setTree(e,i);return new Ci(s)}}}function FE(t,e,n){let r=t;return di(n,(i,s)=>{r=vc(r,Bn(e,i),s)}),r}function $E(t,e){if(gt(e))return Ci.empty();{const n=t.writeTree_.setTree(e,new rn(null));return new Ci(n)}}function uy(t,e){return Pa(t,e)!=null}function Pa(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(oi(n.path,e)):null}function UE(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(mr,(r,i)=>{e.push(new Tt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Tt(r,i.value))}),e}function uo(t,e){if(gt(e))return t;{const n=Pa(t,e);return n!=null?new Ci(new rn(n)):new Ci(t.writeTree_.subtree(e))}}function cy(t){return t.writeTree_.isEmpty()}function Wl(t,e){return dD(Bt(),t.writeTree_,e)}function dD(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(ke(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=dD(Bn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Bn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(t,e){return vD(e,t)}function l8(t,e,n,r,i){ke(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=vc(t.visibleWrites,e,n)),t.lastWriteId=r}function u8(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function c8(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);ke(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&d8(a,r.path)?i=!1:Ei(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return h8(t),!0;if(r.snap)t.visibleWrites=$E(t.visibleWrites,r.path);else{const a=r.children;di(a,l=>{t.visibleWrites=$E(t.visibleWrites,Bn(r.path,l))})}return!0}else return!1}function d8(t,e){if(t.snap)return Ei(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ei(Bn(t.path,n),e))return!0;return!1}function h8(t){t.visibleWrites=fD(t.allWrites,f8,Bt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function f8(t){return t.visible}function fD(t,e,n){let r=Ci.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Ei(n,o)?(a=oi(n,o),r=vc(r,a,s.snap)):Ei(o,n)&&(a=oi(o,n),r=vc(r,Bt(),s.snap.getChild(a)));else if(s.children){if(Ei(n,o))a=oi(n,o),r=FE(r,a,s.children);else if(Ei(o,n))if(a=oi(o,n),gt(a))r=FE(r,Bt(),s.children);else{const l=xl(s.children,wt(a));if(l){const u=l.getChild(sn(a));r=vc(r,Bt(),u)}}}else throw nu("WriteRecord should have .snap or .children")}}return r}function pD(t,e,n,r,i){if(!r&&!i){const s=Pa(t.visibleWrites,e);if(s!=null)return s;{const o=uo(t.visibleWrites,e);if(cy(o))return n;if(n==null&&!uy(o,Bt()))return null;{const a=n||Vt.EMPTY_NODE;return Wl(o,a)}}}else{const s=uo(t.visibleWrites,e);if(!i&&cy(s))return n;if(!i&&n==null&&!uy(s,Bt()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Ei(u.path,e)||Ei(e,u.path))},a=fD(t.allWrites,o,e),l=n||Vt.EMPTY_NODE;return Wl(a,l)}}}function p8(t,e,n){let r=Vt.EMPTY_NODE;const i=Pa(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(mr,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=uo(t.visibleWrites,e);return n.forEachChild(mr,(o,a)=>{const l=Wl(uo(s,new un(o)),a);r=r.updateImmediateChild(o,l)}),UE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=uo(t.visibleWrites,e);return UE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function m8(t,e,n,r,i){ke(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Bn(e,n);if(uy(t.visibleWrites,s))return null;{const o=uo(t.visibleWrites,s);return cy(o)?i.getChild(n):Wl(o,i.getChild(n))}}function g8(t,e,n,r){const i=Bn(e,n),s=Pa(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=uo(t.visibleWrites,i);return Wl(o,r.getNode().getImmediateChild(n))}else return null}function v8(t,e){return Pa(t.visibleWrites,e)}function y8(t,e,n,r,i,s,o){let a;const l=uo(t.visibleWrites,e),u=Pa(l,Bt());if(u!=null)a=u;else if(n!=null)a=Wl(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],h=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&c.length<i;)h(p,r)!==0&&c.push(p),p=f.getNext();return c}else return[]}function _8(){return{visibleWrites:Ci.empty(),allWrites:[],lastWriteId:-1}}function dy(t,e,n,r){return pD(t.writeTree,t.treePath,e,n,r)}function mD(t,e){return p8(t.writeTree,t.treePath,e)}function BE(t,e,n,r){return m8(t.writeTree,t.treePath,e,n,r)}function np(t,e){return v8(t.writeTree,Bn(t.treePath,e))}function b8(t,e,n,r,i,s){return y8(t.writeTree,t.treePath,e,n,r,i,s)}function $0(t,e,n){return g8(t.writeTree,t.treePath,e,n)}function gD(t,e){return vD(Bn(t.treePath,e),t.writeTree)}function vD(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ke(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ke(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,NE(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Q7(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,G7(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,NE(r,e.snapshotNode,i.oldSnap));else throw nu("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const yD=new T8;class U0{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new F0(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return $0(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:va(this.viewCache_),s=b8(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function E8(t,e){ke(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ke(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function I8(t,e,n,r,i){const s=new w8;let o,a;if(n.type===qi.OVERWRITE){const u=n;u.source.fromUser?o=hy(t,e,u.path,u.snap,r,i,s):(ke(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!gt(u.path),o=rp(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===qi.MERGE){const u=n;u.source.fromUser?o=C8(t,e,u.path,u.children,r,i,s):(ke(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=fy(t,e,u.path,u.children,r,i,a,s))}else if(n.type===qi.ACK_USER_WRITE){const u=n;u.revert?o=P8(t,e,u.path,r,i,s):o=A8(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===qi.LISTEN_COMPLETE)o=O8(t,e,n.path,r,s);else throw nu("Unknown operation type: "+n.type);const l=s.getChanges();return S8(e,o,l),{viewCache:o,changes:l}}function S8(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=ly(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Y7(ly(e)))}}function _D(t,e,n,r,i,s){const o=e.eventCache;if(np(r,n)!=null)return e;{let a,l;if(gt(n))if(ke(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=va(e),c=u instanceof Vt?u:Vt.EMPTY_NODE,h=mD(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const u=dy(r,va(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=wt(n);if(u===".priority"){ke(To(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const h=BE(r,n,c,l);h!=null?a=t.filter.updatePriority(c,h):a=o.getNode()}else{const c=sn(n);let h;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const f=BE(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(u).updateChild(c,f):h=o.getNode().getImmediateChild(u)}else h=$0(r,u,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),u,h,c,i,s):a=o.getNode()}}return gc(e,a,o.isFullyInitialized()||gt(n),t.filter.filtersNodes())}}function rp(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(gt(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),p,null)}else{const p=wt(n);if(!l.isCompleteForPath(n)&&To(n)>1)return e;const g=sn(n),A=l.getNode().getImmediateChild(p).updateChild(g,r);p===".priority"?u=c.updatePriority(l.getNode(),A):u=c.updateChild(l.getNode(),p,A,g,yD,null)}const h=cD(e,u,l.isFullyInitialized()||gt(n),c.filtersNodes()),f=new U0(i,h,s);return _D(t,h,n,i,f,a)}function hy(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new U0(i,e,s);if(gt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=gc(e,u,!0,t.filter.filtersNodes());else{const h=wt(n);if(h===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=gc(e,u,a.isFullyInitialized(),a.isFiltered());else{const f=sn(n),p=a.getNode().getImmediateChild(h);let g;if(gt(f))g=r;else{const b=c.getCompleteChild(h);b!=null?GR(f)===".priority"&&b.getChild(XR(f)).isEmpty()?g=b:g=b.updateChild(f,r):g=Vt.EMPTY_NODE}if(p.equals(g))l=e;else{const b=t.filter.updateChild(a.getNode(),h,g,f,c,o);l=gc(e,b,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function jE(t,e){return t.eventCache.isCompleteForChild(e)}function C8(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=Bn(n,l);jE(e,wt(c))&&(a=hy(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=Bn(n,l);jE(e,wt(c))||(a=hy(t,a,c,u,i,s,o))}),a}function HE(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function fy(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;gt(n)?u=r:u=new rn(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((h,f)=>{if(c.hasChild(h)){const p=e.serverCache.getNode().getImmediateChild(h),g=HE(t,p,f);l=rp(t,l,new un(h),g,i,s,o,a)}}),u.children.inorderTraversal((h,f)=>{const p=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!c.hasChild(h)&&!p){const g=e.serverCache.getNode().getImmediateChild(h),b=HE(t,g,f);l=rp(t,l,new un(h),b,i,s,o,a)}}),l}function A8(t,e,n,r,i,s,o){if(np(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(gt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return rp(t,e,n,l.getNode().getChild(n),i,s,a,o);if(gt(n)){let u=new rn(null);return l.getNode().forEachChild(El,(c,h)=>{u=u.set(new un(c),h)}),fy(t,e,n,u,i,s,a,o)}else return e}else{let u=new rn(null);return r.foreach((c,h)=>{const f=Bn(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),fy(t,e,n,u,i,s,a,o)}}function O8(t,e,n,r,i){const s=e.serverCache,o=cD(e,s.getNode(),s.isFullyInitialized()||gt(n),s.isFiltered());return _D(t,o,n,r,yD,i)}function P8(t,e,n,r,i,s){let o;if(np(r,n)!=null)return e;{const a=new U0(r,e,i),l=e.eventCache.getNode();let u;if(gt(n)||wt(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=dy(r,va(e));else{const h=e.serverCache.getNode();ke(h instanceof Vt,"serverChildren would be complete if leaf node"),c=mD(r,h)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=wt(n);let h=$0(r,c,e.serverCache);h==null&&e.serverCache.isCompleteForChild(c)&&(h=l.getImmediateChild(c)),h!=null?u=t.filter.updateChild(l,c,h,sn(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Vt.EMPTY_NODE,sn(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=dy(r,va(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||np(r,Bt())!=null,gc(e,u,o,t.filter.filtersNodes())}}function k8(t,e){const n=va(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!gt(e)&&!n.getImmediateChild(wt(e)).isEmpty())?n.getChild(e):null}function WE(t,e,n,r){e.type===qi.MERGE&&e.source.queryId!==null&&(ke(va(t.viewCache_),"We should always have a full cache before handling merges"),ke(ly(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=I8(t.processor_,i,e,n,r);return E8(t.processor_,s.viewCache),ke(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,R8(t,s.changes,s.viewCache.eventCache.getNode(),null)}function R8(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return i8(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qE;function D8(t){ke(!qE,"__referenceConstructor has already been defined"),qE=t}function B0(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return ke(s!=null,"SyncTree gave us an op for an invalid query."),WE(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(WE(o,e,n,r));return s}}function j0(t,e){let n=null;for(const r of t.views.values())n=n||k8(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zE;function x8(t){ke(!zE,"__referenceConstructor has already been defined"),zE=t}class KE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new rn(null),this.pendingWriteTree_=_8(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function N8(t,e,n,r,i){return l8(t.pendingWriteTree_,e,n,r,i),i?dm(t,new ga(oD(),e,n)):[]}function sl(t,e,n=!1){const r=u8(t.pendingWriteTree_,e);if(c8(t.pendingWriteTree_,e)){let s=new rn(null);return r.snap!=null?s=s.set(Bt(),!0):di(r.children,o=>{s=s.set(new un(o),!0)}),dm(t,new tp(r.path,s,n))}else return[]}function cm(t,e,n){return dm(t,new ga(aD(),e,n))}function M8(t,e,n){const r=rn.fromObject(n);return dm(t,new Jc(aD(),e,r))}function L8(t,e,n,r){const i=ED(t,r);if(i!=null){const s=ID(i),o=s.path,a=s.queryId,l=oi(o,e),u=new ga(lD(a),l,n);return SD(t,o,u)}else return[]}function V8(t,e,n,r){const i=ED(t,r);if(i){const s=ID(i),o=s.path,a=s.queryId,l=oi(o,e),u=rn.fromObject(n),c=new Jc(lD(a),l,u);return SD(t,o,c)}else return[]}function bD(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=oi(o,e),u=j0(a,l);if(u)return u});return pD(i,e,s,n,!0)}function dm(t,e){return wD(e,t.syncPointTree_,null,hD(t.pendingWriteTree_,Bt()))}function wD(t,e,n,r){if(gt(t.path))return TD(t,e,n,r);{const i=e.get(Bt());n==null&&i!=null&&(n=j0(i,Bt()));let s=[];const o=wt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=gD(r,o);s=s.concat(wD(a,l,u,c))}return i&&(s=s.concat(B0(i,t,r,n))),s}}function TD(t,e,n,r){const i=e.get(Bt());n==null&&i!=null&&(n=j0(i,Bt()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=gD(r,o),c=t.operationForChild(o);c&&(s=s.concat(TD(c,a,l,u)))}),i&&(s=s.concat(B0(i,t,r,n))),s}function ED(t,e){return t.tagToQueryMap.get(e)}function ID(t){const e=t.indexOf("$");return ke(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new un(t.substr(0,e))}}function SD(t,e,n){const r=t.syncPointTree_.get(e);ke(r,"Missing sync point for query tag that we're tracking");const i=hD(t.pendingWriteTree_,e);return B0(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new H0(n)}node(){return this.node_}}class W0{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Bn(this.path_,e);return new W0(this.syncTree_,n)}node(){return bD(this.syncTree_,this.path_)}}const F8=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},YE=function(t,e,n){if(!t||typeof t!="object")return t;if(ke(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return $8(t[".sv"],e,n);if(typeof t[".sv"]=="object")return U8(t[".sv"],e);ke(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},$8=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ke(!1,"Unexpected server value: "+t)}},U8=function(t,e,n){t.hasOwnProperty("increment")||ke(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ke(!1,"Unexpected increment value: "+r);const i=e.node();if(ke(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},B8=function(t,e,n,r){return q0(e,new W0(n,t),r)},j8=function(t,e,n){return q0(t,new H0(e),n)};function q0(t,e,n){const r=t.getPriority().val(),i=YE(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=YE(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Fn(a,hr(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Fn(i))),o.forEachChild(mr,(a,l)=>{const u=q0(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function K0(t,e){let n=e instanceof un?e:new un(e),r=t,i=wt(n);for(;i!==null;){const s=xl(r.node.children,i)||{children:{},childCount:0};r=new z0(i,r,s),n=sn(n),i=wt(n)}return r}function du(t){return t.node.value}function CD(t,e){t.node.value=e,py(t)}function AD(t){return t.node.childCount>0}function H8(t){return du(t)===void 0&&!AD(t)}function hm(t,e){di(t.node.children,(n,r)=>{e(new z0(n,t,r))})}function OD(t,e,n,r){n&&!r&&e(t),hm(t,i=>{OD(i,e,!0,r)}),n&&r&&e(t)}function W8(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Hd(t){return new un(t.parent===null?t.name:Hd(t.parent)+"/"+t.name)}function py(t){t.parent!==null&&q8(t.parent,t.name,t)}function q8(t,e,n){const r=H8(n),i=Ds(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,py(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,py(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8=/[\[\].#$\/\u0000-\u001F\u007F]/,K8=/[\[\].#$\u0000-\u001F\u007F]/,Cg=10*1024*1024,PD=function(t){return typeof t=="string"&&t.length!==0&&!z8.test(t)},Y8=function(t){return typeof t=="string"&&t.length!==0&&!K8.test(t)},G8=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Y8(t)},kD=function(t,e,n){const r=n instanceof un?new O7(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Fo(r));if(typeof e=="function")throw new Error(t+"contains a function "+Fo(r)+" with contents = "+e.toString());if(PR(e))throw new Error(t+"contains "+e.toString()+" "+Fo(r));if(typeof e=="string"&&e.length>Cg/3&&Np(e)>Cg)throw new Error(t+"contains a string greater than "+Cg+" utf8 bytes "+Fo(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(di(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!PD(o)))throw new Error(t+" contains an invalid key ("+o+") "+Fo(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);P7(r,o),kD(t,a,r),k7(r)}),i&&s)throw new Error(t+' contains ".value" child '+Fo(r)+" in addition to actual children.")}},Q8=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!PD(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!G8(n))throw new Error(yF(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function J8(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!JR(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function ka(t,e,n){J8(t,n),Z8(t,r=>Ei(r,e)||Ei(e,r))}function Z8(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(eW(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function eW(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Jo&&dr("event: "+n.toString()),Bd(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tW="repo_interrupt",nW=25;class rW{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new X8,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ep(),this.transactionQueueTree_=new z0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function iW(t,e,n){if(t.stats_=x0(t.repoInfo_),t.forceRestClient_||JH())t.server_=new Zf(t.repoInfo_,(r,i,s,o)=>{GE(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>QE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Gn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ts(t.repoInfo_,e,(r,i,s,o)=>{GE(t,r,i,s,o)},r=>{QE(t,r)},r=>{oW(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=i7(t.repoInfo_,()=>new r8(t.stats_,t.server_)),t.infoData_=new J7,t.infoSyncTree_=new KE({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=cm(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Y0(t,"connected",!1),t.serverSyncTree_=new KE({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);ka(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function sW(t){const n=t.infoData_.getNode(new un(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function RD(t){return F8({timestamp:sW(t)})}function GE(t,e,n,r,i){t.dataUpdateCount++;const s=new un(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Of(n,u=>hr(u));o=V8(t.serverSyncTree_,s,l,i)}else{const l=hr(n);o=L8(t.serverSyncTree_,s,l,i)}else if(r){const l=Of(n,u=>hr(u));o=M8(t.serverSyncTree_,s,l)}else{const l=hr(n);o=cm(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Q0(t,s)),ka(t.eventQueue_,a,o)}function QE(t,e){Y0(t,"connected",e),e===!1&&lW(t)}function oW(t,e){di(e,(n,r)=>{Y0(t,n,r)})}function Y0(t,e,n){const r=new un("/.info/"+e),i=hr(n);t.infoData_.updateSnapshot(r,i);const s=cm(t.infoSyncTree_,r,i);ka(t.eventQueue_,r,s)}function aW(t){return t.nextWriteId_++}function lW(t){DD(t,"onDisconnectEvents");const e=RD(t),n=ep();ay(t.onDisconnect_,Bt(),(i,s)=>{const o=B8(i,s,t.serverSyncTree_,e);sD(n,i,o)});let r=[];ay(n,Bt(),(i,s)=>{r=r.concat(cm(t.serverSyncTree_,i,s));const o=hW(t,i);Q0(t,o)}),t.onDisconnect_=ep(),ka(t.eventQueue_,Bt(),r)}function uW(t){t.persistentConnection_&&t.persistentConnection_.interrupt(tW)}function DD(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),dr(n,...e)}function xD(t,e,n){return bD(t.serverSyncTree_,e,n)||Vt.EMPTY_NODE}function G0(t,e=t.transactionQueueTree_){if(e||fm(t,e),du(e)){const n=MD(t,e);ke(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&cW(t,Hd(e),n)}else AD(e)&&hm(e,n=>{G0(t,n)})}function cW(t,e,n){const r=n.map(u=>u.currentWriteId),i=xD(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];ke(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const h=oi(e,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{DD(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(sl(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();fm(t,K0(t.transactionQueueTree_,e)),G0(t,t.transactionQueueTree_),ka(t.eventQueue_,e,c);for(let f=0;f<h.length;f++)Bd(h[f])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Jr("transaction at "+l.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}Q0(t,e)}},o)}function Q0(t,e){const n=ND(t,e),r=Hd(n),i=MD(t,n);return dW(t,i,r),r}function dW(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=oi(n,l.path);let c=!1,h;if(ke(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,h=l.abortReason,i=i.concat(sl(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=nW)c=!0,h="maxretry",i=i.concat(sl(t.serverSyncTree_,l.currentWriteId,!0));else{const f=xD(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){kD("transaction failed: Data returned ",p,l.path);let g=hr(p);typeof p=="object"&&p!=null&&Ds(p,".priority")||(g=g.updatePriority(f.getPriority()));const A=l.currentWriteId,R=RD(t),k=j8(g,f,R);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=k,l.currentWriteId=aW(t),o.splice(o.indexOf(A),1),i=i.concat(N8(t.serverSyncTree_,l.path,k,l.currentWriteId,l.applyLocally)),i=i.concat(sl(t.serverSyncTree_,A,!0))}else c=!0,h="nodata",i=i.concat(sl(t.serverSyncTree_,l.currentWriteId,!0))}ka(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}fm(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Bd(r[a]);G0(t,t.transactionQueueTree_)}function ND(t,e){let n,r=t.transactionQueueTree_;for(n=wt(e);n!==null&&du(r)===void 0;)r=K0(r,n),e=sn(e),n=wt(e);return r}function MD(t,e){const n=[];return LD(t,e,n),n.sort((r,i)=>r.order-i.order),n}function LD(t,e,n){const r=du(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);hm(e,i=>{LD(t,i,n)})}function fm(t,e){const n=du(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,CD(e,n.length>0?n:void 0)}hm(e,r=>{fm(t,r)})}function hW(t,e){const n=Hd(ND(t,e)),r=K0(t.transactionQueueTree_,e);return W8(r,i=>{Ag(t,i)}),Ag(t,r),OD(r,i=>{Ag(t,i)}),n}function Ag(t,e){const n=du(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(ke(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(ke(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(sl(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?CD(e,void 0):n.length=s+1,ka(t.eventQueue_,Hd(e),i);for(let o=0;o<r.length;o++)Bd(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fW(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function pW(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Jr(`Invalid query segment '${n}' in query '${t}'`)}return e}const XE=function(t,e){const n=mW(t),r=n.namespace;n.domain==="firebase.com"&&pa(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&pa("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||WH();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new t7(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new un(n.pathString)}},mW=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(c,h)),c<h&&(i=fW(t.substring(c,h)));const f=pW(t.substring(Math.min(t.length,h)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return gt(this._path)?null:GR(this._path)}get ref(){return new hu(this._repo,this._path)}get _queryIdentifier(){const e=LE(this._queryParams),n=R0(e);return n==="{}"?"default":n}get _queryObject(){return LE(this._queryParams)}isEqual(e){if(e=Dt(e),!(e instanceof X0))return!1;const n=this._repo===e._repo,r=JR(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+A7(this._path)}}class hu extends X0{constructor(e,n){super(e,n,new V0,!1)}get parent(){const e=XR(this._path);return e===null?null:new hu(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}D8(hu);x8(hu);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gW="FIREBASE_DATABASE_EMULATOR_HOST",my={};let vW=!1;function yW(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||pa("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dr("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=XE(s,i),a=o.repoInfo,l,u;typeof process<"u"&&vE&&(u=vE[gW]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=XE(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new iy(iy.OWNER):new e7(t.name,t.options,e);Q8("Invalid Firebase Database URL",o),gt(o.path)||pa("Database URL must point to the root of a Firebase Database (not including a child path).");const h=bW(a,t,c,new ZH(t.name,n));return new wW(h,t)}function _W(t,e){const n=my[e];(!n||n[t.key]!==t)&&pa(`Database ${e}(${t.repoInfo_}) has already been deleted.`),uW(t),delete n[t.key]}function bW(t,e,n,r){let i=my[e.name];i||(i={},my[e.name]=i);let s=i[t.toURLString()];return s&&pa("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new rW(t,vW,n,r),i[t.toURLString()]=s,s}class wW{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(iW(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new hu(this._repo,Bt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(_W(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&pa("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TW(t){$H(Ao),jr(new Dr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return yW(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),er(yE,_E,t),er(yE,_E,"esm2017")}Ts.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ts.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};TW();function Wd(t){return N9(k0(t))}function EW(t){return IW({initialUser:t,dependencies:{popupRedirectResolver:OH,persistence:[$j,Aj,vR]}})}const VD=Symbol("VueFireAuth");function IW({dependencies:t,initialUser:e}){return(n,r)=>{const[i,s]=SW(n,r,e,t);FH(i,s)}}function SW(t,e,n,r,i=tj(t,r)){const s=MH(t,e).run(()=>fe(n));return SR.set(t,s),e.provide(VD,i),[s,i]}function CW(t){return NH?kr(VD):null}function AW(t,{firebaseApp:e,modules:n=[]}){t.provide(IR,e);for(const r of n)r(e,t)}var OW=(t=>(t.YAHTZEE="yahtzee",t.RAINWORMS="rainworms",t))(OW||{});const JE={yahtzee:{gameData:{highscores:[]},previousPersonalBest:null,previousHighscorePosition:null},rainworms:{gameData:{highscores:[]},previousPersonalBest:null,previousHighscorePosition:null}},PW=su("gameStore",()=>{const t=Wd(),e={gameData:fr(t,Cn.GAME_DATA),highscores:f=>fr(t,Cn.GAME_DATA,f,Cn.HIGHSCORES)},n=fe(!0),r=fe(1.5),i=Rr({...JE}),s=le(()=>(f,p)=>{var b;return((b=i[f].gameData.highscores.find(A=>A.id===p))==null?void 0:b.score)??0}),o=le(()=>(f,p)=>i[f].gameData.highscores.findIndex(A=>A.id===p)+1),a=()=>{Object.assign(i,JE)},l=(f,p,g=!1)=>{if(p){const b=i[f];(!g||b.previousPersonalBest===null)&&(b.previousPersonalBest=s.value(f,p)),(!g||b.previousHighscorePosition===null)&&(b.previousHighscorePosition=o.value(f,p))}},u=async(f,p)=>{try{const g=await Es(e.highscores(f));i[f].gameData.highscores=await Promise.all(g.map(yy.Highscore.mapIncoming)),h(f),l(f,p,!0)}catch(g){Ve.firebaseError(!0,g)}},c=async(f,p,g,b=0)=>{try{if(g){await u(f,p);const A=i[f].gameData,R=A.highscores.find(k=>k.id===p);if(!R||R.score<g){l(f,p);const k={id:p,score:g,bonus:b,date:new Date},T=bt(e.highscores(f),p);if(R){try{await yi(T,{score:k.score,bonus:k.bonus,date:k.date})}catch(S){console.log(S)}Object.assign(R,k)}else await ql(T,{score:k.score,bonus:k.bonus,date:k.date}),A.highscores.push(k);return h(f),!0}}return!1}catch(A){return Ve.firebaseError(!0,A),!1}},h=f=>{i[f].gameData.highscores=i[f].gameData.highscores.sort((p,g)=>g.score-p.score)};return{useAudio:n,diceRollSpeed:r,allGameData:i,personalBest:s,highscorePosition:o,$reset:a,setPreviousHighscores:l,fetchGameData:u,updateHighscores:c,sortHighscores:h}},{persist:{enabled:!0}}),kW=1e3,RW=kW*60,DW=RW*60,FD=DW*24,ZE=FD*365,$D=async t=>{const e=await bk(t),n=e.data();return n?{id:e.id,...n}:null},Es=async(t,e)=>{const n=await G9(e?H9(t,...e):t);return Promise.all(n.docs.map(r=>$D(r.ref)))},ii=$D,xW=Z9,ql=Q9,yi=X9,Qu=J9,eI=t=>h5(f5(),t),tI=t=>t.sort((e,n)=>{const r=(n.order||0)-(e.order||0);return r!==0?r:e.date&&n.date?n.date.getTime()-e.date.getTime():0}),yre=(t,e,n,r)=>{setTimeout(()=>{t.forEach((i,s)=>{setTimeout(()=>{r(i)},s*n)})},e)},yc=(t,e)=>{if(!t||!e)return!1;for(const n in t){const r=t[n],i=e[n];if(r===void 0||i===void 0)return!1;if(r===null&&i===null)continue;if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const s=r.slice(),o=i.slice();if(s.some((a,l)=>!yc(a,o[l])||o.some((u,c)=>!yc(u,s[c]))))return!1}else if(r instanceof Date&&i instanceof Date){if(r.getTime()!==i.getTime())return!1}else if(typeof r=="object"){if(!yc(r,i))return!1}else if(r!==i)return!1}return!0},UD=t=>Math.round((Date.now()-t.getTime())/1e3),_re=t=>{try{const e=UD(t);if(e<30)return"Just now";if(e<60)return`${e} second${e!==1?"s":""} ago`;if(e<60*60){const n=Math.floor(e/60);return`${n} minute${n!==1?"s":""} ago`}else if(e<60*60*24){const n=Math.floor(e/3600);return`${n} hour${n!==1?"s":""} ago`}else{if(e<60*60*24*2)return"Yesterday";{const r=new Date().getTime()-t.getTime(),i=r/ZE,o=r%ZE/FD,a=i<=1?{month:"long",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"},l=t.toLocaleDateString(void 0,a);if(o<=7){const u={weekday:"long"};return t.toLocaleDateString(void 0,u)}else return l}}}catch{return"Unknown"}},bre=(t,e)=>{if(t){var n=t.getBoundingClientRect().top,r=n+window.scrollY-15;setTimeout(()=>{window.scrollTo({top:r,behavior:"smooth"})},e??1e3)}},wre=t=>{var n;const e=(n=t.originalEvent.currentTarget)==null?void 0:n.closest(".p-accordion");if(e){const r=e.children[t.index];r&&setTimeout(()=>{r.scrollIntoView({behavior:"smooth",block:"start"})},250)}},Tre=()=>{var r;const t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",document.body.appendChild(t);const e=document.createElement("div");t.appendChild(e);const n=t.offsetWidth-e.offsetWidth;return(r=t.parentNode)==null||r.removeChild(t),n},Lo=t=>{var n;const e=!!((n=t==null?void 0:t.allowedUserIds)!=null&&n.length);return{isPrivate:e,visibility:e?"private":"public"}},Ere=t=>Array.isArray(t)?t:[t],Ire=()=>{const t=document.activeElement;t instanceof HTMLElement&&t.blur()},Sre=t=>t.join(", ").replace(/,([^,]*)$/," and$1"),Cre=t=>{const e="&row&",n=";col;";return t.split(e).map(s=>s.split(n))},Are=t=>{const e="&row&",n=";col;";return t.map(s=>s.join(n)).join(e)},NW=()=>w5(),Ore=(t,e)=>{const n=Math.floor(Math.random()*t)+1;return e&&n>=e?n:e??n},BD={value:new Audio("/sounds/clicksound-1.m4a"),startTime:0},jD={value:new Audio("/sounds/roll-dices-1.m4a"),startTime:0};BD.value.preload="auto";jD.value.preload="auto";const Pre=t=>{const{useAudio:e}=PW();if(!e)return;[BD,jD].forEach(r=>{r.value!==t.value&&(r.value.pause(),r.value.currentTime=r.startTime)}),t.value.currentTime=t.startTime,t.value.play()},gy={name:"Sander Derks",role:"Full-Stack Developer",service:"Software Development",location:{country:"The Netherlands",city:"Nijmegen"}},nI={avatarUrl:"/images/avatar-small.jpg",headerDescriptionGuest:["Loading"],headerDescriptionUser:["Loading"],blogDescriptionGuest:["Loading"],blogDescriptionUser:["Loading"],blogLoginGuest:"",dashboardDescription:["Loading"],privacyStatement:["Loading"],footerCopyright:"Sander Derks. All rights reserved."},rI=[{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0}],iI=[{id:"1",name:"Loading...",url:"#",loading:!0},{id:"2",name:"Loading...",url:"#",loading:!0},{id:"3",name:"Loading...",url:"#",loading:!0}],kre=[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}];var $i;(t=>{t.mapIncoming=async e=>{var n,r,i,s,o,a;return{...e,alignment:e.alignment??"center",tableAlignment:e.tableAlignment??"left",date:e.date.toDate(),dateUpdated:((n=e.dateUpdated)==null?void 0:n.toDate())??null,datePinned:((r=e.datePinned)==null?void 0:r.toDate())??null,reactions:await Promise.all((await Promise.all(((i=e.reactions)==null?void 0:i.map(async l=>await ii(l)))??[])).map(async l=>ip.mapIncoming(l,e.id)).filter(l=>!!l)),sections:((s=e.sections)==null?void 0:s.map(l=>{var u,c;return{...l,id:l.id??NW(),subTitle:l.subTitle??"",alignment:l.alignment??"center",tableAlignment:l.tableAlignment??"left",countdown:((u=l.countdown)==null?void 0:u.toDate())??null,timer:((c=l.timer)==null?void 0:c.toDate())??null,coverImageUrl:l.coverImageUrl??"",bullets:l.bullets??[],table:l.table??""}}))??[],countdown:((o=e.countdown)==null?void 0:o.toDate())??null,timer:((a=e.timer)==null?void 0:a.toDate())??null,archived:e.archived??!1,table:e.table??""}},t.convert=e=>({title:e.title,description:e.description,descriptionFooter:e.descriptionFooter??"",alignment:e.alignment??"center",tableAlignment:e.tableAlignment??"left",sections:e.sections??[],date:e.date,dateUpdated:e.dateUpdated,datePinned:e.datePinned,locked:e.locked??!1,colorPrimary:e.colorPrimary??"",colorSecondary:e.colorSecondary??"",colorTertiary:e.colorTertiary??"",opacityPrimary:e.opacityPrimary??"",opacitySecondary:e.opacitySecondary??"",opacityTertiary:e.opacityTertiary??"",coverImageUrl:e.coverImageUrl??"",allowedUserIds:e.allowedUserIds??[],countdown:e.countdown,timer:e.timer,archived:e.archived,table:e.table}),(e=>{e.convert=n=>({title:n.title,description:n.description,descriptionFooter:n.descriptionFooter,sections:n.sections,coverImageUrl:n.coverImageUrl,countdown:n.countdown,timer:n.timer,table:n.table}),e.instanceOf=n=>["title","description","descriptionFooter","sections","coverImageUrl","countdown","timer","table"].every(r=>r in n)})(t.Content||(t.Content={})),(e=>{e.convert=n=>({alignment:n.alignment,tableAlignment:n.tableAlignment,colorPrimary:n.colorPrimary,colorSecondary:n.colorSecondary,colorTertiary:n.colorTertiary,opacityPrimary:n.opacityPrimary,opacitySecondary:n.opacitySecondary,opacityTertiary:n.opacityTertiary}),e.instanceOf=n=>["alignment","tableAlignment","colorPrimary","colorSecondary","colorTertiary","opacityPrimary","opacitySecondary","opacityTertiary"].every(r=>r in n)})(t.Styling||(t.Styling={})),(e=>{e.convert=n=>({locked:n.locked,allowedUserIds:n.allowedUserIds,archived:n.archived,datePinned:n.datePinned}),e.instanceOf=n=>["locked","archived","datePinned"].every(r=>r in n)})(t.Settings||(t.Settings={}))})($i||($i={}));var ip;(t=>{t.mapIncoming=async(e,n)=>{if(!e)return null;const r=await ii(e.user);return r?{...e,user:r,postId:n,date:e.date.toDate()}:null},t.convert=e=>({userId:e.user.id,postId:e.postId,message:e.message,date:e.date})})(ip||(ip={}));var _c;(t=>{t.mapIncoming=async e=>{var n,r;return{...e,firstName:e.firstName??"",lastName:e.lastName??"",createdAt:(n=e.createdAt)==null?void 0:n.toDate(),lastLogin:(r=e.lastLogin)==null?void 0:r.toDate()}},t.convert=e=>({firstName:e.firstName,lastName:e.lastName})})(_c||(_c={}));var sI;(t=>{t.convert=e=>({displayName:e.displayName,avatar:e.avatar??""})})(sI||(sI={}));var vy;(t=>{t.mapIncoming=async e=>({...e,lastOnline:e.lastOnline.toDate()})})(vy||(vy={}));var yy;(t=>{t.mapIncoming=async n=>({...n,highscores:await Promise.all(n.highscores.map(e.mapIncoming))});let e;(n=>{n.mapIncoming=async r=>{var i;return{...r,bonus:r.bonus??0,date:((i=r.date)==null?void 0:i.toDate())??new Date}}})(e=t.Highscore||(t.Highscore={}))})(yy||(yy={}));const HD=[{value:"bg-primary-900",label:"Default",background:"bg-primary-900",text:"text-white"},{value:"bg-red-700",label:"Important",background:"bg-red-700",text:"text-white"},{value:"bg-orange-500",label:"Orange",background:"bg-orange-500",text:"text-orange-900"},{value:"bg-yellow-900",label:"Amber",background:"bg-yellow-900",text:"text-yellow-500"},{value:"bg-yellow-500",label:"Yellow",background:"bg-yellow-500",text:"text-yellow-900"},{value:"bg-green-500",label:"Green",background:"bg-green-500",text:"text-green-900"},{value:"bg-cyan-500",label:"Aqua",background:"bg-cyan-500",text:"text-cyan-900"},{value:"bg-blue-600",label:"Blue",background:"bg-blue-600",text:"text-blue-900"},{value:"bg-purple-600",label:"Purple",background:"bg-purple-600",text:"text-purple-900"},{value:"bg-pink-600",label:"Pink",background:"bg-pink-600",text:"text-pink-900"},{value:"bg-gray-900",label:"Gray",background:"bg-gray-900",text:"text-white"}],Rre=t=>HD.map((e,n)=>n===0?{value:"",label:"Match Primary",background:(t==null?void 0:t.background)||"bg-primary-900",text:(t==null?void 0:t.text)||"text-white"}:e),Dre=HD.map((t,e)=>e===0?{value:"",label:"Default",background:"bg-primary-700",text:"text-white"}:t),xre=[{value:"",label:"Default"},{value:"bg-opacity-10",label:"10"},{value:"bg-opacity-20",label:"20"},{value:"bg-opacity-30",label:"30"},{value:"bg-opacity-40",label:"40"},{value:"bg-opacity-50",label:"50"},{value:"bg-opacity-60",label:"60"},{value:"bg-opacity-70",label:"70"},{value:"bg-opacity-80",label:"80"},{value:"bg-opacity-90",label:"90"},{value:"bg-opacity-100",label:"100"}];var kn=(t=>(t.HOME="home",t.LOGIN="login",t.REGISTER="register",t.DASHBOARD="dashboard",t.USER_OVERVIEW="users",t.USER_DETAILS="user-details",t.BLOG="blog",t.BLOG_DETAILS="blog-details",t.CUSTOM_VOTING="customvoting",t.CAT_CALC="cat-calc",t.GAMES="games",t.NOT_FOUND="notfound",t))(kn||{}),_y=(t=>(t.GAMES_YAHTZEE="yahtzee",t.GAMES_RAINWORMS="rainworms",t))(_y||{});const J0=su("settingsStore",()=>{const t=fe(!0),e=fe(!1);return{isOnline:t,debug:e}},{persist:{enabled:!0}}),oI={visibility:"public",data:{public:[],private:[],single:null},previousData:{public:[],private:[],single:null},isLastPage:!1,isLoading:{public:{fetch:!1,mutation:!1},private:{fetch:!1,mutation:!1}},isDatabaseCreationActive:!1,isDatabaseMutationActive:!1,isDatabaseDeletionActive:!1,loadedOnce:!1},aI={isDatabaseCreationActive:!1,isDatabaseDeletionActive:!1,unread:[]},WD=su("blogPostStore",()=>{const t=Wd(),e=J0(),{debug:n}=Df(e),r={blogPosts:F=>fr(t,F?Cn.BLOG_POSTS_PRIVATE:Cn.BLOG_POSTS),blogPostsPrivate:fr(t,Cn.BLOG_POSTS_PRIVATE),blogReactions:F=>fr(t,F?Cn.BLOG_REACTIONS_PRIVATE:Cn.BLOG_REACTIONS),files:fr(t,Cn.FILES),usersPublic:fr(t,Cn.USERS_PUBLIC)},i=Rr({...oI}),s=Rr({...aI}),o=le(()=>[...i.data.public,...i.data.private]),a=le(()=>i.data[i.visibility]),l=le(()=>i.previousData[i.visibility]),u=le(()=>i.isLoading.public.fetch||i.isLoading.private.fetch),c=le(()=>i.isLoading.public.mutation||i.isLoading.private.mutation),h=le(()=>i.isDatabaseCreationActive||i.isDatabaseMutationActive||i.isDatabaseDeletionActive||s.isDatabaseCreationActive||s.isDatabaseDeletionActive),f=()=>{Object.assign(i,oI),Object.assign(s,aI)},p=async(F,U={})=>{const x=U.visibility??i.visibility;U.loadingIndicator!==!1&&(i.isLoading[x].fetch=!0);try{const z=i.data[x][i.data[x].length-1],K=[j1("datePinned","desc"),j1("date","desc"),W9(U.amount||3)];a.value.length||(i.isLastPage=!1),U.amount&&U.loadingIndicator!==!1&&(i.data[x]=[]),!U.amount&&z&&K.push(q9(z.datePinned,z.date));var O=[];x==="private"&&F?O=await Es(r.blogPostsPrivate,[mk("allowedUserIds","array-contains",bt(t,r.usersPublic.id,F).id),...K]):x==="public"&&(O=await Es(r.blogPosts(!1),K));const te=await Promise.all(O.map(async he=>await $i.mapIncoming(he)));if(U.amount)i.data[x]=te;else for(const he of te)i.data[x].push(he);te.length<3&&(i.isLastPage=!0)}catch(z){Ve.firebaseError(n.value,z)}finally{i.isLoading[x].fetch=!1}},g=async(F,U,x={})=>{console.log("attempt to fetch single");const O=(U==null?void 0:U.visibility)??"public";x.loadingIndicator!==!1&&(i.isLoading[O].fetch=!0);try{var z=await ii(bt(r.blogPosts(!!(U!=null&&U.isPrivate)),F));return z||(z=await ii(bt(r.blogPostsPrivate,F))),z?(i.data.single=await $i.mapIncoming(z),i.data.single):null}catch(K){return Ve.firebaseError(n.value,K).errorCode??null}finally{i.isLoading[O].fetch=!1}},b=()=>{i.previousData.single=i.data.single,i.previousData[i.visibility]=a.value},A=(F,U)=>{const x=s.unread.length;if(F){let O;if(U?O=i.data.single:O=a.value.find(z=>z.id===F.id),O&&O.reactions.length!==F.reactions.length){const z=O.reactions.filter(K=>!F.reactions.some(te=>te.id===K.id));for(const K of z)s.unread.every(te=>te.id!==K.id)&&s.unread.push(K)}}U&&(x!==s.unread.length&&Ve.update("There are unread comments on this page"),b())},R=()=>{const F=s.unread.length;if(l.value.length)for(const U of l.value)A(U);F!==s.unread.length&&Ve.update("There are unread comments on this page"),b()},k=async(F,U,x,O={includeTime:!1,fetch:!0})=>{const z=Lo(U);i.isLoading[z.visibility].mutation=!0,i.isDatabaseCreationActive=!0;try{return await ql(bt(t,r.blogPosts(z.isPrivate).id,F),{...U,date:O!=null&&O.includeTime?U.date:Qt.now(),dateUpdated:O!=null&&O.includeTime?U.dateUpdated:null,countdown:U.countdown?Qt.fromDate(U.countdown):null,timer:U.timer?Qt.fromDate(U.timer):null}),i.visibility=z.visibility,O!=null&&O.fetch&&p(x,{amount:a.value.length+1}),Ve.success("Successfully created Post"),!0}catch(K){return Ve.firebaseError(n.value,K),!1}finally{b(),i.isLoading[z.visibility].mutation=!1,i.isDatabaseCreationActive=!1}},T=async(F,U,x,O)=>{try{i.isDatabaseMutationActive=!0,i.isLoading[x.visibility].mutation=!0;const z=r.blogPosts(x.isPrivate).id;let K="";if($i.Content.instanceOf(U)&&(await yi(bt(t,z,F),{...$i.Content.convert(U),dateUpdated:Qt.now()}),K="content"),$i.Styling.instanceOf(U)&&(await yi(bt(t,z,F),{...$i.Styling.convert(U)}),K="styling"),$i.Settings.instanceOf(U)&&(await yi(bt(t,z,F),{...$i.Settings.convert(U)}),K="settings"),K==="content"||K==="styling"){let te=await g(F,x);J1(te)&&(te=null),i.data[x.visibility]=i.data[x.visibility].map(he=>he.id===(te==null?void 0:te.id)?te:he)}else p(O,{amount:i.data[x.visibility].length});return K}catch(z){Ve.firebaseError(n.value,z)}finally{b(),i.isLoading[x.visibility].mutation=!1,i.isDatabaseMutationActive=!1}},S=async(F,U,x,O,z)=>{try{i.isDatabaseMutationActive=!0,i.isLoading[O].mutation=!0;const K=o.value.find(te=>te.id===F);if(await M(F,{includeFiles:!1,includeReactions:!1}),K&&await k(F,U,z,{includeTime:!0,fetch:!1})){let te;do i.data[O]=[],await p(z,{visibility:O}),te=o.value.find(he=>he.id===F);while(!te);if(i.visibility=O,te){for(const he of x)await I(he.id,K,{mutatePost:!1,fetch:!1})||Ve.error("Failed to delete old Reaction",{debug:n.value}),await L(te,ip.convert(he),{includeTime:!0,fetch:!1})||Ve.error("Failed to re-create Reaction",{debug:n.value});for(const he of y(K)){const Z=eI(he);await q(Z.name,te)||Ve.error("Failed to move Image",{debug:n.value})}return p(z,{amount:a.value.length}),!0}else return Ve.error("Failed to re-create Post",{debug:n.value}),!1}else return Ve.error("Failed to re-create Post",{debug:n.value}),!1}catch(K){return Ve.firebaseError(n.value,K),!1}finally{b(),i.isLoading[O].mutation=!1,i.isDatabaseMutationActive=!1}},M=async(F,U={includeFiles:!0,includeReactions:!0})=>{try{i.isDatabaseDeletionActive=!0;const x=o.value.find(O=>O.id===F);if(x){U.includeReactions&&await E(x),U.includeFiles&&await j(x);const O=Lo(x);return await Qu(bt(t,r.blogPosts(O.isPrivate).id,F)),i.data[O.visibility]=i.data[O.visibility].filter(z=>z.id!==F),Ve.success("Successfully deleted Post"),!0}return!1}catch(x){return Ve.firebaseError(n.value,x),!1}finally{b(),i.isDatabaseDeletionActive=!1}},L=async(F,U,x={includeTime:!1,fetch:!0})=>{try{s.isDatabaseCreationActive=!0;const O=Lo(F),z=bt(t,r.blogPosts(O.isPrivate).id,F.id),K=await ii(z);if(K){const te=await xW(r.blogReactions(O.isPrivate),{user:bt(t,r.usersPublic.id,U.userId),message:U.message,date:x!=null&&x.includeTime?U.date:Qt.now(),post:z});if(await yi(bt(t,r.blogPosts(O.isPrivate).id,K.id),{reactions:[...K.reactions??[],te]}),x!=null&&x.fetch){let he=await g(K.id,O,{loadingIndicator:!1});J1(he)&&(he=null),i.data[O.visibility]=i.data[O.visibility].map(Z=>Z.id===K.id?he??Z:Z)}return Ve.success("Successfully created Reaction"),!0}return!1}catch(O){return Ve.firebaseError(n.value,O),!1}finally{b(),s.isDatabaseCreationActive=!1}},I=async(F,U,x={mutatePost:!0,fetch:!0})=>{var O;try{s.isDatabaseDeletionActive=!0;const z=Lo(U);if(x.mutatePost){const K=bt(t,r.blogPosts(z.isPrivate).id,U.id),te=await ii(K);te&&await yi(K,{reactions:((O=te.reactions)==null?void 0:O.filter(he=>he.id!==F))??[]})}return await Qu(bt(t,r.blogReactions(z.isPrivate).id,F)),x!=null&&x.fetch&&(U.reactions=U.reactions.filter(K=>K.id!==F),i.data[z.visibility]=i.data[z.visibility].map(K=>K.id===U.id?U:K)),Ve.success("Successfully deleted Reaction"),!0}catch(z){return Ve.firebaseError(n.value,z),!1}finally{b(),s.isDatabaseDeletionActive=!1}},E=async F=>{try{s.isDatabaseDeletionActive=!0;const U=Lo(F),x=(F==null?void 0:F.reactions)??[];for(const O of x)await Qu(bt(t,r.blogReactions(U.isPrivate).id,O.id));return x.length&&Ve.success(`Successfully deleted ${x.length} Reaction${x.length!==1?"s":""}`),!0}catch(U){return Ve.firebaseError(n.value,U),!1}finally{b(),s.isDatabaseDeletionActive=!1}},y=(F,U)=>{var O,z;const x=[];if(F.coverImageUrl&&(!U||!U.coverImageUrl)&&x.push(F.coverImageUrl),F.sections.length)for(const[K,te]of F.sections.entries()){const he=(z=(O=U==null?void 0:U.sections)==null?void 0:O[K])==null?void 0:z.coverImageUrl,Z=te.coverImageUrl;Z&&(!U||!he)&&x.push(Z)}return x},v=async F=>{try{return await ii(bt(t,r.files.path,F))}catch(U){return Ve.firebaseError(n.value,U),null}},w=async(F,U,x,O,z,K,te)=>await P(F.name,O,z,K,te)&&await C(F,U,x),C=async(F,U,x)=>{try{const O=c5(F,U);return O.on("state_changed",z=>{const K=z.bytesTransferred/z.totalBytes*100;x(K)}),await O,Ve.success("Successfully uploaded File"),!0}catch(O){return Ve.firebaseError(n.value,O),!1}},P=async(F,U,x,O,z)=>{try{let K;if(z){const te=Lo(z);K=bt(t,r.blogPosts(te.isPrivate).id,z.id)}return await ql(bt(t,r.files.path,F),{name:U,owner:x,post:K??null,public:O??!1}),!0}catch(K){return Ve.firebaseError(n.value,K),!1}},q=async(F,U)=>{try{let x;if(U){const O=Lo(U);x=bt(t,r.blogPosts(O.isPrivate).id,U.id)}return await yi(bt(t,r.files.path,F),{post:x??null}),!0}catch(x){return Ve.firebaseError(n.value,x),!1}},$=async(F,U=!1)=>{try{return await Qu(bt(t,r.files.path,F.name)),await d5(F),U||Ve.success("Successfully deleted File"),!0}catch(x){return Ve.firebaseError(n.value,x),!1}},j=async(F,U)=>{try{const x=y(F,U);for(const O of x)await $(eI(O),!0);return x.length&&Ve.success(`Successfully deleted ${x.length} File${x.length!==1?"s":""}`),!0}catch(x){return Ve.firebaseError(n.value,x),!1}};return{collections:r,blogPosts:i,blogReactions:s,allBlogPosts:o,visibleBlogPosts:a,previousVisibleBlogPosts:l,isBlogPostsFetchLoading:u,isBlogPostsMutationLoading:c,isBlogPostDatabaseActionActive:h,$reset:f,fetchBlogPosts:p,fetchBlogPost:g,setPreviousBlogPosts:b,checkBlogPostForUnreadReactions:A,checkBlogPostsForUnreadReactions:R,createBlogPost:k,updateBlogPost:T,toggleBlogPostVisibility:S,deleteBlogPost:M,createBlogReaction:L,deleteBlogReaction:I,deleteBlogReactionsOfBlogPost:E,getFilesOfPost:y,fetchFileInfo:v,uploadFile:w,createFile:C,createFileInfo:P,updateFileInfo:q,deleteFile:$,deleteFilesOfBlogPost:j}},{persist:{enabled:!0}}),qD=su("userStore",()=>{const t=Wd(),e=Zc(),n=J0(),{firebaseUser:r}=Df(e),{debug:i}=Df(n),s={users:fr(t,Cn.USERS),usersPublic:fr(t,Cn.USERS_PUBLIC),usersOnline:fr(t,Cn.USERS_ONLINE)},o=fe(null),a=fe(null),l=fe([]),u=fe([]),c=fe([]),h=fe([]),f=fe(!1),p=le(()=>R(a.value,o.value,c.value.find(w=>{var C;return w.id===((C=o.value)==null?void 0:C.id)}))),g=le(()=>c.value.filter(w=>UD(new Date(Date.parse(w.lastOnline.toString())))<=60));En(()=>[u.value,l.value,c.value],()=>{h.value=u.value.map(w=>{if(p.value&&p.value.id===w.id)return p.value;const C=l.value.find(q=>q.id===w.id),P=c.value.find(q=>q.id===w.id);return R(w,C,P)}).filter(w=>w!==null).sort((w,C)=>{var P,q;try{return(((P=C.lastOnline)==null?void 0:P.getTime())??0)-(((q=w.lastOnline)==null?void 0:q.getTime())??0)}catch{return 0}})});const b=()=>{l.value=[],u.value=[],c.value=[]},A=()=>{o.value=null,a.value=null},R=(w,C,P)=>w?{...C,...w??{displayName:"Anonymous"},lastOnline:(P==null?void 0:P.lastOnline)??null}:null,k=async w=>{const C=w==null?void 0:w.uid;if(C){a.value=await ii(bt(t,s.usersPublic.id,C));const P=await ii(bt(t,s.users.id,C));P!=null&&(o.value=await _c.mapIncoming(P))}},T=async()=>{try{const w=await Es(s.users);l.value=await Promise.all(w.map(async C=>await _c.mapIncoming(C)))}catch(w){return Ve.firebaseError(i.value,w),null}},S=async()=>{try{u.value=await Es(s.usersPublic)}catch(w){return Ve.firebaseError(i.value,w),null}},M=async w=>{try{return await ii(bt(t,s.usersPublic.id,w))}catch(C){return Ve.firebaseError(i.value,C),null}};return{currentUser:o,publicUser:a,combinedUser:p,users:l,publicUsers:u,onlineUsersInfo:c,onlineUsers:g,combinedUsers:h,isMutationLoading:f,$reset:b,$resetCurrentUser:A,fetchUser:k,fetchUsers:T,fetchPublicUsers:S,fetchPublicUser:M,allowedPublicUsers:async w=>{try{return(await Promise.all(w.map(async P=>{const q=await M(P);return q?{...q,displayName:q.displayName||"Anonymous"}:null}))).filter(Boolean)}catch{return[]}},fetchOnlineUsers:async()=>{try{const w=await Es(s.usersOnline);c.value=await Promise.all(w.map(vy.mapIncoming))}catch{return null}},updateUser:async w=>{try{f.value=!0,o.value&&r.value&&(yc(_c.convert(o.value),w)?Ve.warning("Nothing changed in your details"):(await yi(bt(t,s.users.id,r.value.uid),{firstName:w.firstName,lastName:w.lastName}),await k(r.value),Ve.success("Successfully updated your profile")))}catch(C){Ve.firebaseError(!1,C)}finally{f.value=!1}},updatePublicUser:async w=>{try{f.value=!0,r.value&&a.value?yc(a.value,w)?Ve.warning("Nothing changed in your public profile"):(await yi(bt(t,s.usersPublic.id,a.value.id),{displayName:w.displayName,avatar:w.avatar}),await k(r.value),Ve.success("Successfully updated your public profile")):r.value?(await ql(bt(t,s.usersPublic.id,r.value.uid),{displayName:w.displayName,avatar:w.avatar}),await k(r.value),Ve.success("Successfully updated your public profile")):Ve.firebaseError(!1)}catch(C){Ve.firebaseError(!1,C)}finally{f.value=!1}},updateOnlineUser:async w=>{try{const C=bt(t,s.usersOnline.id,w);(await bk(C)).exists()?await yi(C,{lastOnline:Qt.now()}):await ql(C,{lastOnline:Qt.now()})}catch{return null}}}},{persist:{enabled:!0}}),Z0=su("mainStore",()=>{const t=Wd(),e=Zc(),n=qD(),r=WD(),i=J0(),{debug:s,isOnline:o}=Df(i),{fetchPublicUsers:a,fetchUsers:l}=n,{fetchBlogPosts:u}=r,c={content:fr(t,Cn.CONTENT),projects:fr(t,Cn.PROJECTS),menuItems:C=>fr(t,C?Cn.MENU_ITEMS_PRIVATE:Cn.MENU_ITEMS),menuItemsPrivate:fr(t,Cn.MENU_ITEMS_PRIVATE),usersPublic:fr(t,Cn.USERS_PUBLIC)},h=fe(gy),f=fe(nI),p=fe(iI),g=fe(rI),b=fe(!1),A=fe(null),R=fe(null),k=le(()=>g.value.filter(C=>!C.loading)),T=le(()=>p.value.filter(C=>!C.loading)),S=le(()=>p.value.filter(C=>!C.invisible)),M=()=>{h.value=gy,f.value=nI,p.value=iI,g.value=rI},L=()=>{M(),n.$reset(),r.$reset()},I=async(C,P)=>{try{b.value||(b.value=!0,console.log("attempt to fetch all"),(s.value||o.value&&(!T.value.length||P))&&(console.log("fetch all"),L(),await Promise.all([w(C),E(),y(),u(C),a()]),e.isOwner&&await l()))}catch(q){Ve.firebaseError(s.value,q)}finally{b.value=!1}},E=async()=>{try{const C=await ii(bt(t,c.content.id,"production"));f.value={...f.value,...C||{}}}catch(C){Ve.firebaseError(s.value,C)}},y=async()=>{try{const C=await Promise.all((await Es(c.projects)).map(async P=>({...P,technologies:await Promise.all(P.technologies.map(async q=>await ii(q)))})));g.value=C.length?tI(C):g.value}catch(C){Ve.firebaseError(s.value,C)}},v=(C,P)=>{const q=g.value.splice(C,1)[0];g.value.splice(P,0,q)},w=async C=>{try{let P=await Es(c.menuItems());if(C)try{P=P.concat(await Es(c.menuItemsPrivate,[mk("allowedUserIds","array-contains",bt(t,c.usersPublic.id,C).id)]))}catch{}return p.value=P.length?tI(P):p.value,p.value}catch(P){Ve.firebaseError(s.value,P)}};return{profile:h,content:f,menuItems:p,projects:g,isFetchAllLoading:b,routeLoading:A,routeLoadingId:R,filteredProjects:k,filteredMenuItems:T,visibleMenuItems:S,fetchAll:I,fetchContent:E,fetchProjects:y,moveProject:v,fetchMenuItems:w}},{persist:{enabled:!0}}),Zc=su("authStore",()=>{const t=Wd(),e=CW(),n=Z0(),r=qD(),i=WD(),s=LH(),{$resetCurrentUser:o,fetchUser:a,updatePublicUser:l}=r,u=le(()=>(s==null?void 0:s.value)??null);e.onAuthStateChanged(async I=>{o(),a(I),n.filteredMenuItems.length,i.$patch({blogPosts:{...i.blogPosts,data:{...i.blogPosts.data,private:[]}}}),n.fetchAll(I==null?void 0:I.uid,!0)});const c={users:fr(t,"users")},h=fe(!1),f=fe(!1),p=le(()=>!!u.value),g=le(()=>{var I;return((I=u.value)==null?void 0:I.uid)==="wEaq28Vfx8aygJ6TUi0hDrNut1F2"}),b=async(I,E)=>{try{h.value=!0;const{user:y}=await _j(e,I,E);await S(y.uid),await a(y),n.fetchAll(y.uid,!0),Ve.success("Successfully logged in",{route:kn.DASHBOARD})}catch(y){Ve.firebaseError(!1,y)}finally{h.value=!1}},A=async(I,E,y)=>{try{h.value=!0;const{user:v}=await yj(e,I,E);await ql(bt(t,c.users.id,v.uid),{firstName:y,createdAt:new Date}),await l({displayName:"Anonymous",avatar:""}),await a(v),Ve.success("Successfully created your account",{route:kn.DASHBOARD})}catch(v){Ve.firebaseError(!1,v)}finally{h.value=!1}},R=async(I,E)=>{try{if(h.value=!0,u.value&&u.value.email){const y=wo.credential(u.value.email,E);await lE(u.value,y),await bj(u.value,I),Ve.success("Successfully changed your e-mail")}}catch(y){Ve.firebaseError(!1,y)}finally{h.value=!1}},k=async(I,E)=>{try{if(h.value=!0,u.value&&u.value.email){const y=wo.credential(u.value.email,E);await lE(u.value,y),await wj(u.value,I),Ve.success("Successfully changed your password")}}catch(y){Ve.firebaseError(!1,y)}finally{h.value=!1}},T=async I=>{try{await vj(e,I),Ve.success("Successfully requested password reset")}catch(E){Ve.firebaseError(!1,E)}},S=async I=>{try{await yi(bt(t,c.users.id,I),{lastLogin:new Date})}catch(E){Ve.firebaseError(!1,E)}};return{firebaseUser:u,isLoggedIn:p,isLoginLoading:h,isLogoutLoading:f,isOwner:g,login:b,register:A,updateMail:R,updatePassword:k,resetPassword:T,updateUserLastLogin:S,logout:async()=>{try{f.value=!0,await Ej(e),n.fetchAll(void 0,!0),Ve.success("Successfully logged out",{route:kn.HOME})}catch(I){Ve.firebaseError(!1,I)}finally{f.value=!1}},deleteAccount:async()=>{try{f.value=!0,u.value&&(await Qu(bt(t,c.users.id,u.value.uid)),await Ij(u.value),Ve.success("Successfully deleted your account",{route:kn.HOME}))}catch(I){Ve.firebaseError(!1,I)}finally{f.value=!1}}}},{persist:{enabled:!0}}),lI=()=>ti(()=>import("./assets/c-Blog-NPxmKUjD.js").then(t=>t.B),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]),import.meta.url),MW=()=>ti(()=>import("./assets/c-CatCalc-DjL9zwDS.js"),__vite__mapDeps([12,2,11,6,5,3]),import.meta.url),LW=()=>ti(()=>import("./assets/c-CustomVoting-DLlX5S64.js"),__vite__mapDeps([13,2,3,7,8,14,15]),import.meta.url),VW=()=>ti(()=>import("./assets/c-Dashboard-CEf9x0ls.js"),__vite__mapDeps([16,2,1,17,5,6,10,3]),import.meta.url),FW=()=>ti(()=>import("./assets/c-Home-CXXRjkwh.js"),__vite__mapDeps([18,3,2,19,14,20,4,5,6,7,8,9]),import.meta.url),$W=()=>ti(()=>import("./assets/c-Login-Df84FLfP.js"),__vite__mapDeps([21,2,17,5,6,3]),import.meta.url),UW=()=>ti(()=>import("./assets/c-NotFound-BzMs2L3q.js"),__vite__mapDeps([22,2,3]),import.meta.url),BW=()=>ti(()=>import("./assets/c-Profile-ClAvdcWv.js"),__vite__mapDeps([23,2,3]),import.meta.url),jW=()=>ti(()=>import("./assets/c-Profiles-COL0_EpU.js"),__vite__mapDeps([24,2,3]),import.meta.url),HW=()=>ti(()=>import("./assets/c-Register-B-JT6dUb.js"),__vite__mapDeps([25,2,17,5,6,3]),import.meta.url),WW=()=>ti(()=>import("./assets/c-Games-C9_VBPNH.js"),__vite__mapDeps([26,2,3,27,1,11,6,19,14,20]),import.meta.url),qW=()=>ti(()=>import("./assets/c-Yahtzee-tNKfm3pq.js"),__vite__mapDeps([28,2,20,29,14,30,27,1,11,6,31]),import.meta.url),zW=()=>ti(()=>import("./assets/c-Rainworms-DpxaEe0z.js"),__vite__mapDeps([32,2,29,14,30,27,1,11,6,19,33]),import.meta.url),KW={HOME:{path:"/",meta:{title:"Home"},component:FW,beforeEnter:(t,e,n)=>{var i;const r=decodeURIComponent(((i=t.query.path)==null?void 0:i.toString())||"");if(r){const s=r.split("/")[0];qd.getRoutes().find(o=>o.path.startsWith(`/${s}`))?n({path:r}):n({name:"notfound"})}else n()}},LOGIN:{path:"/login/:redirect?",meta:{title:"Login"},component:$W,beforeEnter:(t,e,n)=>{Zc().isLoggedIn?n({name:kn.DASHBOARD}):n()}},REGISTER:{path:"/register",meta:{title:"Register"},component:HW,beforeEnter:(t,e,n)=>{Zc().isLoggedIn?n({name:kn.DASHBOARD}):n()}},DASHBOARD:{path:"/dashboard",meta:{title:"Dashboard"},component:VW},USER_OVERVIEW:{path:"/profiles",meta:{title:"Profiles"},component:jW},USER_DETAILS:{path:"/profiles/:userId",meta:{title:"Profile"},component:BW},BLOG:{path:"/blog",meta:{title:"Blog"},component:lI},BLOG_DETAILS:{path:"/blog/:postId",meta:{title:"Blog"},component:lI},CUSTOM_VOTING:{path:"/customvoting",meta:{title:"CustomVoting"},component:LW},CAT_CALC:{path:"/cat-calc",meta:{title:"CatCalc"},component:MW},GAMES:{path:"/games",meta:{title:"Games"},component:WW,children:[{name:_y.GAMES_YAHTZEE,path:"/games/yahtzee",meta:{title:"Yahtzee"},component:qW},{name:_y.GAMES_RAINWORMS,path:"/games/rainworms",meta:{title:"Rainworms"},component:zW}]},NOT_FOUND:{path:"/:pathMatch(.*)*",meta:{title:"404"},component:UW}},zD=Object.entries(KW).map(([t,e])=>({...e,name:kn[t]})),qd=zV({history:TV(),routes:zD,scrollBehavior(t,e,n){return n||((t.name===kn.LOGIN||t.name===kn.REGISTER)&&(e.name===kn.LOGIN||e.name===kn.REGISTER)?!1:{top:0})}}),uI=gy.name;qd.beforeEach(async(t,e,n)=>{var r,i,s;if(t===e)n();else if(!t.name)n({name:kn.NOT_FOUND});else{const o=t.name,a=Z0();if(a.routeLoading=o,a.routeLoadingId=((r=t.params.postId)==null?void 0:r.toString())||((i=t.params.userId)==null?void 0:i.toString())||null,[kn.HOME,kn.LOGIN,kn.REGISTER,kn.DASHBOARD,kn.NOT_FOUND].includes(o))n();else{const u=await a.fetchMenuItems((s=Zc().firebaseUser)==null?void 0:s.uid);(u==null?void 0:u.some(h=>h.route?o===h.route||zD.some(f=>{var p;return(p=f.children)==null?void 0:p.some(g=>g.name===o)}):h.url?t.path.startsWith(h.url):!1))?n():n({name:kn.NOT_FOUND})}}});qd.afterEach(()=>{const t=Z0();t.routeLoading=null});qd.beforeResolve(t=>{document.title=uI+" | "+t.meta.title||uI;const e=LO();VO(e,"screen_view",{screen_name:t.path})});const KD=qd;function hi(t){"@babel/helpers - typeof";return hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hi(t)}function Xe(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Le(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function ze(t){Le(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||hi(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function ps(t,e){Le(2,arguments);var n=ze(t),r=Xe(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Ai(t,e){Le(2,arguments);var n=ze(t),r=Xe(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return i>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function YD(t,e){if(Le(2,arguments),!e||hi(e)!=="object")return new Date(NaN);var n=e.years?Xe(e.years):0,r=e.months?Xe(e.months):0,i=e.weeks?Xe(e.weeks):0,s=e.days?Xe(e.days):0,o=e.hours?Xe(e.hours):0,a=e.minutes?Xe(e.minutes):0,l=e.seconds?Xe(e.seconds):0,u=ze(t),c=r||n?Ai(u,r+n*12):u,h=s||i?ps(c,s+i*7):c,f=a+o*60,p=l+f*60,g=p*1e3,b=new Date(h.getTime()+g);return b}function YW(t,e){Le(2,arguments);var n=ze(t).getTime(),r=Xe(e);return new Date(n+r)}var GW={};function rs(){return GW}function ya(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=rs(),h=Xe((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ze(t),p=f.getDay(),g=(p<h?7:0)+p-h;return f.setDate(f.getDate()-g),f.setHours(0,0,0,0),f}function sp(t){return Le(1,arguments),ya(t,{weekStartsOn:1})}function QW(t){Le(1,arguments);var e=ze(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=sp(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var o=sp(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function XW(t){Le(1,arguments);var e=QW(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=sp(n);return r}function op(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function cI(t){Le(1,arguments);var e=ze(t);return e.setHours(0,0,0,0),e}var JW=864e5;function ZW(t,e){Le(2,arguments);var n=cI(t),r=cI(e),i=n.getTime()-op(n),s=r.getTime()-op(r);return Math.round((i-s)/JW)}function eq(t,e){Le(2,arguments);var n=Xe(e),r=n*3;return Ai(t,r)}function eb(t,e){Le(2,arguments);var n=Xe(e);return Ai(t,n*12)}var tb=6e4,nb=36e5,tq=1e3;function GD(t){return Le(1,arguments),t instanceof Date||hi(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function bc(t){if(Le(1,arguments),!GD(t)&&typeof t!="number")return!1;var e=ze(t);return!isNaN(Number(e))}function dI(t){Le(1,arguments);var e=ze(t),n=Math.floor(e.getMonth()/3)+1;return n}function QD(t,e){var n;Le(1,arguments);var r=t||{},i=ze(r.start),s=ze(r.end),o=s.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var a=[],l=i;l.setHours(0,0,0,0);var u=Number((n=e==null?void 0:e.step)!==null&&n!==void 0?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)a.push(ze(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return a}function ed(t){Le(1,arguments);var e=ze(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function nq(t){Le(1,arguments);var e=t||{},n=ze(e.start),r=ze(e.end),i=r.getTime();if(!(n.getTime()<=i))throw new RangeError("Invalid interval");var s=ed(n),o=ed(r);i=o.getTime();for(var a=[],l=s;l.getTime()<=i;)a.push(ze(l)),l=eq(l,1);return a}function rq(t){Le(1,arguments);var e=ze(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function iq(t){Le(1,arguments);var e=ze(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function sq(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=rs(),h=Xe((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ze(t),p=f.getDay(),g=(p<h?-7:0)+6-(p-h);return f.setDate(f.getDate()+g),f.setHours(23,59,59,999),f}function hI(t){Le(1,arguments);var e=ze(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function XD(t,e){Le(2,arguments);var n=Xe(e);return YW(t,-n)}var oq=864e5;function aq(t){Le(1,arguments);var e=ze(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/oq)+1}function zl(t){Le(1,arguments);var e=1,n=ze(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function JD(t){Le(1,arguments);var e=ze(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=zl(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=zl(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function lq(t){Le(1,arguments);var e=JD(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=zl(n);return r}var uq=6048e5;function ZD(t){Le(1,arguments);var e=ze(t),n=zl(e).getTime()-lq(e).getTime();return Math.round(n/uq)+1}function _a(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=rs(),h=Xe((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ze(t),p=f.getUTCDay(),g=(p<h?7:0)+p-h;return f.setUTCDate(f.getUTCDate()-g),f.setUTCHours(0,0,0,0),f}function rb(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=ze(t),h=c.getUTCFullYear(),f=rs(),p=Xe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(h+1,0,p),g.setUTCHours(0,0,0,0);var b=_a(g,e),A=new Date(0);A.setUTCFullYear(h,0,p),A.setUTCHours(0,0,0,0);var R=_a(A,e);return c.getTime()>=b.getTime()?h+1:c.getTime()>=R.getTime()?h:h-1}function cq(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=rs(),h=Xe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=rb(t,e),p=new Date(0);p.setUTCFullYear(f,0,h),p.setUTCHours(0,0,0,0);var g=_a(p,e);return g}var dq=6048e5;function ex(t,e){Le(1,arguments);var n=ze(t),r=_a(n,e).getTime()-cq(n,e).getTime();return Math.round(r/dq)+1}function $t(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var hq={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return $t(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):$t(r+1,2)},d:function(e,n){return $t(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return $t(e.getUTCHours()%12||12,n.length)},H:function(e,n){return $t(e.getUTCHours(),n.length)},m:function(e,n){return $t(e.getUTCMinutes(),n.length)},s:function(e,n){return $t(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return $t(s,n.length)}};const Bs=hq;var Wa={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fq={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return Bs.y(e,n)},Y:function(e,n,r,i){var s=rb(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return $t(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):$t(o,n.length)},R:function(e,n){var r=JD(e);return $t(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return $t(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return $t(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return $t(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Bs.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return $t(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=ex(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):$t(s,n.length)},I:function(e,n,r){var i=ZD(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):$t(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Bs.d(e,n)},D:function(e,n,r){var i=aq(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):$t(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return $t(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return $t(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return $t(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=Wa.noon:i===0?s=Wa.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=Wa.evening:i>=12?s=Wa.afternoon:i>=4?s=Wa.morning:s=Wa.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Bs.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Bs.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):$t(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):$t(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Bs.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Bs.s(e,n)},S:function(e,n){return Bs.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return pI(o);case"XXXX":case"XX":return $o(o);case"XXXXX":case"XXX":default:return $o(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return pI(o);case"xxxx":case"xx":return $o(o);case"xxxxx":case"xxx":default:return $o(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+fI(o,":");case"OOOO":default:return"GMT"+$o(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+fI(o,":");case"zzzz":default:return"GMT"+$o(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return $t(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return $t(o,n.length)}};function fI(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e||"";return n+String(i)+o+$t(s,2)}function pI(t,e){if(t%60===0){var n=t>0?"-":"+";return n+$t(Math.abs(t)/60,2)}return $o(t,e)}function $o(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=$t(Math.floor(i/60),2),o=$t(i%60,2);return r+s+n+o}var mI=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},tx=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},pq=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return mI(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",mI(i,n)).replace("{{time}}",tx(s,n))},by={p:tx,P:pq},mq=["D","DD"],gq=["YY","YYYY"];function nx(t){return mq.indexOf(t)!==-1}function rx(t){return gq.indexOf(t)!==-1}function ap(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var vq={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},yq=function(e,n,r){var i,s=vq[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const _q=yq;function Og(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var bq={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},wq={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Tq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Eq={date:Og({formats:bq,defaultWidth:"full"}),time:Og({formats:wq,defaultWidth:"full"}),dateTime:Og({formats:Tq,defaultWidth:"full"})};const Iq=Eq;var Sq={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Cq=function(e,n,r,i){return Sq[e]};const Aq=Cq;function Lu(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var Oq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Pq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Rq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Dq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Nq=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Mq={ordinalNumber:Nq,era:Lu({values:Oq,defaultWidth:"wide"}),quarter:Lu({values:Pq,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Lu({values:kq,defaultWidth:"wide"}),day:Lu({values:Rq,defaultWidth:"wide"}),dayPeriod:Lu({values:Dq,defaultWidth:"wide",formattingValues:xq,defaultFormattingWidth:"wide"})};const Lq=Mq;function Vu(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Fq(a,function(h){return h.test(o)}):Vq(a,function(h){return h.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function Vq(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Fq(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function $q(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var Uq=/^(\d+)(th|st|nd|rd)?/i,Bq=/\d+/i,jq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Hq={any:[/^b/i,/^(a|c)/i]},Wq={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qq={any:[/1/i,/2/i,/3/i,/4/i]},zq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Kq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Yq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Gq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Qq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Jq={ordinalNumber:$q({matchPattern:Uq,parsePattern:Bq,valueCallback:function(e){return parseInt(e,10)}}),era:Vu({matchPatterns:jq,defaultMatchWidth:"wide",parsePatterns:Hq,defaultParseWidth:"any"}),quarter:Vu({matchPatterns:Wq,defaultMatchWidth:"wide",parsePatterns:qq,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Vu({matchPatterns:zq,defaultMatchWidth:"wide",parsePatterns:Kq,defaultParseWidth:"any"}),day:Vu({matchPatterns:Yq,defaultMatchWidth:"wide",parsePatterns:Gq,defaultParseWidth:"any"}),dayPeriod:Vu({matchPatterns:Qq,defaultMatchWidth:"any",parsePatterns:Xq,defaultParseWidth:"any"})};const Zq=Jq;var ez={code:"en-US",formatDistance:_q,formatLong:Iq,formatRelative:Aq,localize:Lq,match:Zq,options:{weekStartsOn:0,firstWeekContainsDate:1}};const ix=ez;var tz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rz=/^'([^]*?)'?$/,iz=/''/g,sz=/[a-zA-Z]/;function co(t,e,n){var r,i,s,o,a,l,u,c,h,f,p,g,b,A,R,k,T,S;Le(2,arguments);var M=String(e),L=rs(),I=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:L.locale)!==null&&r!==void 0?r:ix,E=Xe((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:L.firstWeekContainsDate)!==null&&o!==void 0?o:(h=L.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=Xe((p=(g=(b=(A=n==null?void 0:n.weekStartsOn)!==null&&A!==void 0?A:n==null||(R=n.locale)===null||R===void 0||(k=R.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&b!==void 0?b:L.weekStartsOn)!==null&&g!==void 0?g:(T=L.locale)===null||T===void 0||(S=T.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&p!==void 0?p:0);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!I.localize)throw new RangeError("locale must contain localize property");if(!I.formatLong)throw new RangeError("locale must contain formatLong property");var v=ze(t);if(!bc(v))throw new RangeError("Invalid time value");var w=op(v),C=XD(v,w),P={firstWeekContainsDate:E,weekStartsOn:y,locale:I,_originalDate:v},q=M.match(nz).map(function($){var j=$[0];if(j==="p"||j==="P"){var F=by[j];return F($,I.formatLong)}return $}).join("").match(tz).map(function($){if($==="''")return"'";var j=$[0];if(j==="'")return oz($);var F=fq[j];if(F)return!(n!=null&&n.useAdditionalWeekYearTokens)&&rx($)&&ap($,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&nx($)&&ap($,e,String(t)),F(C,$,I.localize,P);if(j.match(sz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return $}).join("");return q}function oz(t){var e=t.match(rz);return e?e[1].replace(iz,"'"):t}function az(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function lz(t){Le(1,arguments);var e=ze(t),n=e.getDay();return n}function uz(t){Le(1,arguments);var e=ze(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Oi(t){Le(1,arguments);var e=ze(t),n=e.getHours();return n}var cz=6048e5;function dz(t){Le(1,arguments);var e=ze(t),n=sp(e).getTime()-XW(e).getTime();return Math.round(n/cz)+1}function Zi(t){Le(1,arguments);var e=ze(t),n=e.getMinutes();return n}function Et(t){Le(1,arguments);var e=ze(t),n=e.getMonth();return n}function Kl(t){Le(1,arguments);var e=ze(t),n=e.getSeconds();return n}function hz(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=ze(t),h=c.getFullYear(),f=rs(),p=Xe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setFullYear(h+1,0,p),g.setHours(0,0,0,0);var b=ya(g,e),A=new Date(0);A.setFullYear(h,0,p),A.setHours(0,0,0,0);var R=ya(A,e);return c.getTime()>=b.getTime()?h+1:c.getTime()>=R.getTime()?h:h-1}function fz(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=rs(),h=Xe((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=hz(t,e),p=new Date(0);p.setFullYear(f,0,h),p.setHours(0,0,0,0);var g=ya(p,e);return g}var pz=6048e5;function mz(t,e){Le(1,arguments);var n=ze(t),r=ya(n,e).getTime()-fz(n,e).getTime();return Math.round(r/pz)+1}function ut(t){return Le(1,arguments),ze(t).getFullYear()}function td(t,e){Le(2,arguments);var n=ze(t),r=ze(e);return n.getTime()>r.getTime()}function nd(t,e){Le(2,arguments);var n=ze(t),r=ze(e);return n.getTime()<r.getTime()}function ol(t,e){Le(2,arguments);var n=ze(t),r=ze(e);return n.getTime()===r.getTime()}function gI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function gz(t,e){if(t){if(typeof t=="string")return gI(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gI(t,e):void 0}}function vI(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=gz(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw s}}}}function Me(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wy(t,e){return wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},wy(t,e)}function It(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wy(t,e)}function lp(t){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lp(t)}function sx(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sx=function(){return!!t})()}function vz(t,e){if(e&&(hi(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Me(t)}function St(t){var e=sx();return function(){var n,r=lp(t);if(e){var i=lp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vz(this,n)}}function vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yz(t,e){if(hi(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ox(t){var e=yz(t,"string");return hi(e)=="symbol"?e:e+""}function yI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ox(r.key),r)}}function yt(t,e,n){return e&&yI(t.prototype,e),n&&yI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Re(t,e,n){return(e=ox(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _z=10,ax=function(){function t(){vt(this,t),Re(this,"priority",void 0),Re(this,"subPriority",0)}return yt(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),bz=function(t){It(n,t);var e=St(n);function n(r,i,s,o,a){var l;return vt(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=s,l.priority=o,a&&(l.subPriority=a),l}return yt(n,[{key:"validate",value:function(i,s){return this.validateValue(i,this.value,s)}},{key:"set",value:function(i,s,o){return this.setValue(i,s,this.value,o)}}]),n}(ax),wz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",_z),Re(Me(r),"subPriority",-1),r}return yt(n,[{key:"set",value:function(i,s){if(s.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(ax),xt=function(){function t(){vt(this,t),Re(this,"incompatibleTokens",void 0),Re(this,"priority",void 0),Re(this,"subPriority",void 0)}return yt(t,[{key:"run",value:function(n,r,i,s){var o=this.parse(n,r,i,s);return o?{setter:new bz(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),Tz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",140),Re(Me(r),"incompatibleTokens",["R","u","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,s,o){return s.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),wn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ji={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Tn(t,e){return t&&{value:e(t.value),rest:t.rest}}function hn(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Hi(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*nb+s*tb+o*tq),rest:e.slice(n[0].length)}}function lx(t){return hn(wn.anyDigitsSigned,t)}function gn(t,e){switch(t){case 1:return hn(wn.singleDigit,e);case 2:return hn(wn.twoDigits,e);case 3:return hn(wn.threeDigits,e);case 4:return hn(wn.fourDigits,e);default:return hn(new RegExp("^\\d{1,"+t+"}"),e)}}function up(t,e){switch(t){case 1:return hn(wn.singleDigitSigned,e);case 2:return hn(wn.twoDigitsSigned,e);case 3:return hn(wn.threeDigitsSigned,e);case 4:return hn(wn.fourDigitsSigned,e);default:return hn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function ib(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ux(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var s=r+50,o=Math.floor(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function cx(t){return t%400===0||t%4===0&&t%100!==0}var Ez=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",130),Re(Me(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="yy"}};switch(s){case"y":return Tn(gn(4,i),a);case"yo":return Tn(o.ordinalNumber(i,{unit:"year"}),a);default:return Tn(gn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o){var a=i.getUTCFullYear();if(o.isTwoDigitYear){var l=ux(o.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Iz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",130),Re(Me(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return Tn(gn(4,i),a);case"Yo":return Tn(o.ordinalNumber(i,{unit:"year"}),a);default:return Tn(gn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o,a){var l=rb(i,a);if(o.isTwoDigitYear){var u=ux(o.year,l);return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),_a(i,a)}var c=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),_a(i,a)}}]),n}(xt),Sz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",130),Re(Me(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s){return up(s==="R"?4:s.length,i)}},{key:"set",value:function(i,s,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),zl(a)}}]),n}(xt),Cz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",130),Re(Me(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s){return up(s==="u"?4:s.length,i)}},{key:"set",value:function(i,s,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Az=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",120),Re(Me(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"Q":case"QQ":return gn(s.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Oz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",120),Re(Me(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"q":case"qq":return gn(s.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Pz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Re(Me(r),"priority",110),r}return yt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"M":return Tn(hn(wn.month,i),a);case"MM":return Tn(gn(2,i),a);case"Mo":return Tn(o.ordinalNumber(i,{unit:"month"}),a);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt),kz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",110),Re(Me(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"L":return Tn(hn(wn.month,i),a);case"LL":return Tn(gn(2,i),a);case"Lo":return Tn(o.ordinalNumber(i,{unit:"month"}),a);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(xt);function Rz(t,e,n){Le(2,arguments);var r=ze(t),i=Xe(e),s=ex(r,n)-i;return r.setUTCDate(r.getUTCDate()-s*7),r}var Dz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",100),Re(Me(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"w":return hn(wn.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o,a){return _a(Rz(i,o,a),a)}}]),n}(xt);function xz(t,e){Le(2,arguments);var n=ze(t),r=Xe(e),i=ZD(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var Nz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",100),Re(Me(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"I":return hn(wn.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o){return zl(xz(i,o))}}]),n}(xt),Mz=[31,28,31,30,31,30,31,31,30,31,30,31],Lz=[31,29,31,30,31,30,31,31,30,31,30,31],Vz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"subPriority",1),Re(Me(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"d":return hn(wn.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=cx(o),l=i.getUTCMonth();return a?s>=1&&s<=Lz[l]:s>=1&&s<=Mz[l]}},{key:"set",value:function(i,s,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Fz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"subpriority",1),Re(Me(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"D":case"DD":return hn(wn.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=cx(o);return a?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(i,s,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}(xt);function sb(t,e,n){var r,i,s,o,a,l,u,c;Le(2,arguments);var h=rs(),f=Xe((r=(i=(s=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&i!==void 0?i:(u=h.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=ze(t),g=Xe(e),b=p.getUTCDay(),A=g%7,R=(A+7)%7,k=(R<f?7:0)+g-b;return p.setUTCDate(p.getUTCDate()+k),p}var $z=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=sb(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Uz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var h=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+h};switch(s){case"e":case"ee":return Tn(gn(s.length,i),l);case"eo":return Tn(o.ordinalNumber(i,{unit:"day"}),l);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=sb(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Bz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var h=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+h};switch(s){case"c":case"cc":return Tn(gn(s.length,i),l);case"co":return Tn(o.ordinalNumber(i,{unit:"day"}),l);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=sb(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(xt);function jz(t,e){Le(2,arguments);var n=Xe(e);n%7===0&&(n=n-7);var r=1,i=ze(t),s=i.getUTCDay(),o=n%7,a=(o+7)%7,l=(a<r?7:0)+n-s;return i.setUTCDate(i.getUTCDate()+l),i}var Hz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u===0?7:u};switch(s){case"i":case"ii":return gn(s.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return Tn(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return Tn(o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Tn(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Tn(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,s){return s>=1&&s<=7}},{key:"set",value:function(i,s,o){return i=jz(i,o),i.setUTCHours(0,0,0,0),i}}]),n}(xt),Wz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",80),Re(Me(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(ib(o),0,0,0),i}}]),n}(xt),qz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",80),Re(Me(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(ib(o),0,0,0),i}}]),n}(xt),zz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",80),Re(Me(r),"incompatibleTokens",["a","b","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(ib(o),0,0,0),i}}]),n}(xt),Kz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",70),Re(Me(r),"incompatibleTokens",["H","K","k","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"h":return hn(wn.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=12}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):!a&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(xt),Yz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",70),Re(Me(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"H":return hn(wn.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=23}},{key:"set",value:function(i,s,o){return i.setUTCHours(o,0,0,0),i}}]),n}(xt),Gz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",70),Re(Me(r),"incompatibleTokens",["h","H","k","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"K":return hn(wn.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(xt),Qz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",70),Re(Me(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"k":return hn(wn.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=24}},{key:"set",value:function(i,s,o){var a=o<=24?o%24:o;return i.setUTCHours(a,0,0,0),i}}]),n}(xt),Xz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",60),Re(Me(r),"incompatibleTokens",["t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"m":return hn(wn.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCMinutes(o,0,0),i}}]),n}(xt),Jz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",50),Re(Me(r),"incompatibleTokens",["t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"s":return hn(wn.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return gn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCSeconds(o,0),i}}]),n}(xt),Zz=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",30),Re(Me(r),"incompatibleTokens",["t","T"]),r}return yt(n,[{key:"parse",value:function(i,s){var o=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return Tn(gn(s.length,i),o)}},{key:"set",value:function(i,s,o){return i.setUTCMilliseconds(o),i}}]),n}(xt),eK=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",10),Re(Me(r),"incompatibleTokens",["t","T","x"]),r}return yt(n,[{key:"parse",value:function(i,s){switch(s){case"X":return Hi(ji.basicOptionalMinutes,i);case"XX":return Hi(ji.basic,i);case"XXXX":return Hi(ji.basicOptionalSeconds,i);case"XXXXX":return Hi(ji.extendedOptionalSeconds,i);case"XXX":default:return Hi(ji.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(xt),tK=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",10),Re(Me(r),"incompatibleTokens",["t","T","X"]),r}return yt(n,[{key:"parse",value:function(i,s){switch(s){case"x":return Hi(ji.basicOptionalMinutes,i);case"xx":return Hi(ji.basic,i);case"xxxx":return Hi(ji.basicOptionalSeconds,i);case"xxxxx":return Hi(ji.extendedOptionalSeconds,i);case"xxx":default:return Hi(ji.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(xt),nK=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",40),Re(Me(r),"incompatibleTokens","*"),r}return yt(n,[{key:"parse",value:function(i){return lx(i)}},{key:"set",value:function(i,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(xt),rK=function(t){It(n,t);var e=St(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",20),Re(Me(r),"incompatibleTokens","*"),r}return yt(n,[{key:"parse",value:function(i){return lx(i)}},{key:"set",value:function(i,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(xt),iK={G:new Tz,y:new Ez,Y:new Iz,R:new Sz,u:new Cz,Q:new Az,q:new Oz,M:new Pz,L:new kz,w:new Dz,I:new Nz,d:new Vz,D:new Fz,E:new $z,e:new Uz,c:new Bz,i:new Hz,a:new Wz,b:new qz,B:new zz,h:new Kz,H:new Yz,K:new Gz,k:new Qz,m:new Xz,s:new Jz,S:new Zz,X:new eK,x:new tK,t:new nK,T:new rK},sK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,oK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,aK=/^'([^]*?)'?$/,lK=/''/g,uK=/\S/,cK=/[a-zA-Z]/;function Ty(t,e,n,r){var i,s,o,a,l,u,c,h,f,p,g,b,A,R,k,T,S,M;Le(3,arguments);var L=String(t),I=String(e),E=rs(),y=(i=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:E.locale)!==null&&i!==void 0?i:ix;if(!y.match)throw new RangeError("locale must contain match property");var v=Xe((o=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(c=r.locale)===null||c===void 0||(h=c.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&l!==void 0?l:E.firstWeekContainsDate)!==null&&a!==void 0?a:(f=E.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=Xe((g=(b=(A=(R=r==null?void 0:r.weekStartsOn)!==null&&R!==void 0?R:r==null||(k=r.locale)===null||k===void 0||(T=k.options)===null||T===void 0?void 0:T.weekStartsOn)!==null&&A!==void 0?A:E.weekStartsOn)!==null&&b!==void 0?b:(S=E.locale)===null||S===void 0||(M=S.options)===null||M===void 0?void 0:M.weekStartsOn)!==null&&g!==void 0?g:0);if(!(w>=0&&w<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(I==="")return L===""?ze(n):new Date(NaN);var C={firstWeekContainsDate:v,weekStartsOn:w,locale:y},P=[new wz],q=I.match(oK).map(function(ie){var X=ie[0];if(X in by){var ce=by[X];return ce(ie,y.formatLong)}return ie}).join("").match(sK),$=[],j=vI(q),F;try{var U=function(){var X=F.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&rx(X)&&ap(X,I,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&nx(X)&&ap(X,I,t);var ce=X[0],be=iK[ce];if(be){var ne=be.incompatibleTokens;if(Array.isArray(ne)){var D=$.find(function(B){return ne.includes(B.token)||B.token===ce});if(D)throw new RangeError("The format string mustn't contain `".concat(D.fullToken,"` and `").concat(X,"` at the same time"))}else if(be.incompatibleTokens==="*"&&$.length>0)throw new RangeError("The format string mustn't contain `".concat(X,"` and any other token at the same time"));$.push({token:ce,fullToken:X});var V=be.run(L,X,y.match,C);if(!V)return{v:new Date(NaN)};P.push(V.setter),L=V.rest}else{if(ce.match(cK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ce+"`");if(X==="''"?X="'":ce==="'"&&(X=dK(X)),L.indexOf(X)===0)L=L.slice(X.length);else return{v:new Date(NaN)}}};for(j.s();!(F=j.n()).done;){var x=U();if(hi(x)==="object")return x.v}}catch(ie){j.e(ie)}finally{j.f()}if(L.length>0&&uK.test(L))return new Date(NaN);var O=P.map(function(ie){return ie.priority}).sort(function(ie,X){return X-ie}).filter(function(ie,X,ce){return ce.indexOf(ie)===X}).map(function(ie){return P.filter(function(X){return X.priority===ie}).sort(function(X,ce){return ce.subPriority-X.subPriority})}).map(function(ie){return ie[0]}),z=ze(n);if(isNaN(z.getTime()))return new Date(NaN);var K=XD(z,op(z)),te={},he=vI(O),Z;try{for(he.s();!(Z=he.n()).done;){var H=Z.value;if(!H.validate(K,C))return new Date(NaN);var Q=H.set(K,te,C);Array.isArray(Q)?(K=Q[0],az(te,Q[1])):K=Q}}catch(ie){he.e(ie)}finally{he.f()}return K}function dK(t){return t.match(aK)[1].replace(lK,"'")}function _I(t,e){Le(2,arguments);var n=ed(t),r=ed(e);return n.getTime()===r.getTime()}function hK(t,e){Le(2,arguments);var n=Xe(e);return ps(t,-n)}function fK(t,e){var n;Le(1,arguments);var r=Xe((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=vK(t),s;if(i.date){var o=yK(i.date,r);s=_K(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,u;if(i.time&&(l=bK(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=wK(i.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(a+l),h=new Date(0);return h.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),h.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),h}return new Date(a+l+u)}var Mh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},pK=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,mK=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,gK=/^([+-])(\d{2})(?::?(\d{2}))?$/;function vK(t){var e={},n=t.split(Mh.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Mh.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Mh.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=Mh.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function yK(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function _K(t,e){if(e===null)return new Date(NaN);var n=t.match(pK);if(!n)return new Date(NaN);var r=!!n[4],i=Fu(n[1]),s=Fu(n[2])-1,o=Fu(n[3]),a=Fu(n[4]),l=Fu(n[5])-1;if(r)return CK(e,a,l)?TK(e,a,l):new Date(NaN);var u=new Date(0);return!IK(e,s,o)||!SK(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}function Fu(t){return t?parseInt(t):1}function bK(t){var e=t.match(mK);if(!e)return NaN;var n=Pg(e[1]),r=Pg(e[2]),i=Pg(e[3]);return AK(n,r,i)?n*nb+r*tb+i*1e3:NaN}function Pg(t){return t&&parseFloat(t.replace(",","."))||0}function wK(t){if(t==="Z")return 0;var e=t.match(gK);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return OK(r,i)?n*(r*nb+i*tb):NaN}function TK(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var EK=[31,null,31,30,31,30,31,31,30,31,30,31];function dx(t){return t%400===0||t%4===0&&t%100!==0}function IK(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(EK[e]||(dx(t)?29:28))}function SK(t,e){return e>=1&&e<=(dx(t)?366:365)}function CK(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function AK(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function OK(t,e){return e>=0&&e<=59}function hx(t,e){Le(2,arguments);var n=ze(t),r=Xe(e),i=n.getFullYear(),s=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var a=uz(o);return n.setMonth(r,Math.min(s,a)),n}function on(t,e){if(Le(2,arguments),hi(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var n=ze(t);return isNaN(n.getTime())?new Date(NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=hx(n,e.month)),e.date!=null&&n.setDate(Xe(e.date)),e.hours!=null&&n.setHours(Xe(e.hours)),e.minutes!=null&&n.setMinutes(Xe(e.minutes)),e.seconds!=null&&n.setSeconds(Xe(e.seconds)),e.milliseconds!=null&&n.setMilliseconds(Xe(e.milliseconds)),n)}function fx(t,e){Le(2,arguments);var n=ze(t),r=Xe(e);return n.setHours(r),n}function ob(t,e){Le(2,arguments);var n=ze(t),r=Xe(e);return n.setMilliseconds(r),n}function px(t,e){Le(2,arguments);var n=ze(t),r=Xe(e);return n.setMinutes(r),n}function ab(t,e){Le(2,arguments);var n=ze(t),r=Xe(e);return n.setSeconds(r),n}function zi(t,e){Le(2,arguments);var n=ze(t),r=Xe(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function Yl(t,e){Le(2,arguments);var n=Xe(e);return Ai(t,-n)}function PK(t,e){if(Le(2,arguments),!e||hi(e)!=="object")return new Date(NaN);var n=e.years?Xe(e.years):0,r=e.months?Xe(e.months):0,i=e.weeks?Xe(e.weeks):0,s=e.days?Xe(e.days):0,o=e.hours?Xe(e.hours):0,a=e.minutes?Xe(e.minutes):0,l=e.seconds?Xe(e.seconds):0,u=Yl(t,r+n*12),c=hK(u,s+i*7),h=a+o*60,f=l+h*60,p=f*1e3,g=new Date(c.getTime()-p);return g}function mx(t,e){Le(2,arguments);var n=Xe(e);return eb(t,-n)}function fu(){return W(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ce("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),Ce("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ce("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ce("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}fu.compatConfig={MODE:3};function gx(){return W(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ce("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),Ce("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}gx.compatConfig={MODE:3};function lb(){return W(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ce("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}lb.compatConfig={MODE:3};function ub(){return W(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ce("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}ub.compatConfig={MODE:3};function cb(){return W(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ce("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),Ce("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}cb.compatConfig={MODE:3};function db(){return W(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ce("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}db.compatConfig={MODE:3};function hb(){return W(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ce("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}hb.compatConfig={MODE:3};function fb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vx={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(vx);var kK=vx.exports,Ey={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var i=Number(r);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=e.default})(Ey,Ey.exports);var RK=Ey.exports;const DK=fb(RK);var Iy={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}t.exports=e.default})(Iy,Iy.exports);var xK=Iy.exports;const bI=fb(xK);function NK(t,e){var n=FK(e);return n.formatToParts?LK(n,t):VK(n,t)}var MK={year:0,month:1,day:2,hour:3,minute:4,second:5};function LK(t,e){try{for(var n=t.formatToParts(e),r=[],i=0;i<n.length;i++){var s=MK[n[i].type];s>=0&&(r[s]=parseInt(n[i].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function VK(t,e){var n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var kg={};function FK(t){if(!kg[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="06/25/2014 00:00:00";kg[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return kg[t]}function pb(t,e,n,r,i,s,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,i,s,o),a}var wI=36e5,$K=6e4,Rg={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function mb(t,e,n){var r,i;if(t===""||(r=Rg.timezoneZ.exec(t),r))return 0;var s;if(r=Rg.timezoneHH.exec(t),r)return s=parseInt(r[1],10),TI(s)?-(s*wI):NaN;if(r=Rg.timezoneHHMM.exec(t),r){s=parseInt(r[1],10);var o=parseInt(r[2],10);return TI(s,o)?(i=Math.abs(s)*wI+o*$K,s>0?-i:i):NaN}if(jK(t)){e=new Date(e||Date.now());var a=n?e:UK(e),l=Sy(a,t),u=n?l:BK(e,l,t);return-u}return NaN}function UK(t){return pb(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function Sy(t,e){var n=NK(t,e),r=pb(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=t.getTime(),s=i%1e3;return i-=s>=0?s:1e3+s,r-i}function BK(t,e,n){var r=t.getTime(),i=r-e,s=Sy(new Date(i),n);if(e===s)return e;i-=s-e;var o=Sy(new Date(i),n);return s===o?s:Math.max(s,o)}function TI(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var EI={};function jK(t){if(EI[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),EI[t]=!0,!0}catch{return!1}}var yx=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Dg=36e5,II=6e4,HK=2,Or={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:yx};function Cy(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},r=n.additionalDigits==null?HK:DK(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=WK(t),s=qK(i.date,r),o=s.year,a=s.restDateString,l=zK(a,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,h;if(i.time&&(c=KK(i.time),isNaN(c)))return new Date(NaN);if(i.timeZone||n.timeZone){if(h=mb(i.timeZone||n.timeZone,new Date(u+c)),isNaN(h))return new Date(NaN)}else h=bI(new Date(u+c)),h=bI(new Date(u+c+h));return new Date(u+c+h)}else return new Date(NaN)}function WK(t){var e={},n=Or.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=Or.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var i=Or.timeZone.exec(r);i?(e.time=r.replace(i[1],""),e.timeZone=i[1].trim()):e.time=r}return e}function qK(t,e){var n=Or.YYY[e],r=Or.YYYYY[e],i;if(i=Or.YYYY.exec(t)||r.exec(t),i){var s=i[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(i=Or.YY.exec(t)||n.exec(t),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function zK(t,e){if(e===null)return null;var n,r,i,s;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=Or.MM.exec(t),n)return r=new Date(0),i=parseInt(n[1],10)-1,CI(e,i)?(r.setUTCFullYear(e,i),r):new Date(NaN);if(n=Or.DDD.exec(t),n){r=new Date(0);var o=parseInt(n[1],10);return QK(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(n=Or.MMDD.exec(t),n){r=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return CI(e,i,a)?(r.setUTCFullYear(e,i,a),r):new Date(NaN)}if(n=Or.Www.exec(t),n)return s=parseInt(n[1],10)-1,AI(e,s)?SI(e,s):new Date(NaN);if(n=Or.WwwD.exec(t),n){s=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return AI(e,s,l)?SI(e,s,l):new Date(NaN)}return null}function KK(t){var e,n,r;if(e=Or.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),xg(n)?n%24*Dg:NaN;if(e=Or.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),xg(n,r)?n%24*Dg+r*II:NaN;if(e=Or.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return xg(n,r,i)?n%24*Dg+r*II+i*1e3:NaN}return null}function SI(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=e*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var YK=[31,28,31,30,31,30,31,31,30,31,30,31],GK=[31,29,31,30,31,30,31,31,30,31,30,31];function _x(t){return t%400===0||t%4===0&&t%100!==0}function CI(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=_x(t);if(r&&n>GK[e]||!r&&n>YK[e])return!1}return!0}function QK(t,e){if(e<1)return!1;var n=_x(t);return!(n&&e>366||!n&&e>365)}function AI(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function xg(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}var Ay={exports:{}},Oy={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r,i){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);return r}t.exports=e.default})(Oy,Oy.exports);var XK=Oy.exports;(function(t,e){var n=kK.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(XK);function i(s){return(0,r.default)({},s)}t.exports=e.default})(Ay,Ay.exports);var JK=Ay.exports;const ZK=fb(JK);function eY(t,e,n){var r=Cy(t,n),i=mb(e,r,!0),s=new Date(r.getTime()-i),o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}function tY(t,e,n){if(typeof t=="string"&&!t.match(yx)){var r=ZK(n);return r.timeZone=e,Cy(t,r)}var i=Cy(t,n),s=pb(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),o=mb(e,new Date(s));return new Date(s+o)}function OI(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function nY(t){return e=>co(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const rY=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(nY(t))}catch{i=r.map(OI(e))}else i=r.map(OI(e));const s=i.slice(0,n),o=i.slice(n+1,i.length);return[i[n]].concat(...o).concat(...s)},gb=(t,e)=>{const n=[];for(let r=+t[0];r<=+t[1];r++)n.push({value:+r,text:`${r}`});return e?n.reverse():n},bx=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const o=s<10?`0${s}`:s;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(t!==null)try{const s=n==="long"?"MMMM":"MMM";return r.map((o,a)=>{const l=co(o,s,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((s,o)=>{const a=i.format(s);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:o}})},iY=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],Nn=t=>{const e=G(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},sY=t=>Object.assign({type:"dot"},t),wx=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,cp={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},Vn=t=>t,PI=t=>t===0?t:!t||isNaN(+t)?null:+t,kI=t=>t===null,oY=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},aY=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},rd=(t,e,n)=>{const r=n!=null,i=e!=null;if(!r&&!i)return!1;const s=+n,o=+e;return r&&i?+t>s||+t<o:r?+t>s:i?+t<o:!1},Gl=(t,e)=>aY(t).map(n=>n.map(r=>{const{active:i,disabled:s,isBetween:o,highlighted:a}=e(r);return{...r,active:i,disabled:s,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:s,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:s&&i,dp__cell_in_between:o,"dp--highlighted":a}}})),ho=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},lY=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function uY(t,e){let n=[...document.querySelectorAll(lY())];n=n.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const cY=(t,e)=>{let n;return function(...r){clearTimeout(n),n=setTimeout(()=>{t(...r)},e)}},RI=(t,e,n,r,i)=>{const s=Ty(t,e.slice(0,t.length),new Date);return bc(s)&&GD(s)?r||i?s:on(s,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},dY=(t,e,n,r,i)=>{const s=Array.isArray(n)?n[0]:n;if(typeof e=="string")return RI(t,e,s,r,i);if(Array.isArray(e)){let o=null;for(const a of e)if(o=RI(t,a,s,r,i),o)break;return o}return typeof e=="function"?e(t):null},ye=t=>t?new Date(t):new Date,hY=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${s}T${o}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},_r=t=>{let e=ye(JSON.parse(JSON.stringify(t)));return e=fx(e,0),e=px(e,0),e=ab(e,0),e=ob(e,0),e},fo=(t,e,n,r)=>{let i=t?ye(t):ye();return(e||e===0)&&(i=fx(i,+e)),(n||n===0)&&(i=px(i,+n)),(r||r===0)&&(i=ab(i,+r)),ob(i,0)},Xn=(t,e)=>!t||!e?!1:nd(_r(t),_r(e)),Rt=(t,e)=>!t||!e?!1:ol(_r(t),_r(e)),gr=(t,e)=>!t||!e?!1:td(_r(t),_r(e)),pm=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?gr(n,t[0])&&Xn(n,t[1]):t!=null&&t[0]&&e?gr(n,t[0])&&Xn(n,e)||Xn(n,t[0])&&gr(n,e):!1,wi=t=>{const e=on(new Date(t),{date:1});return _r(e)},Ng=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},Zo=t=>({hours:Oi(t),minutes:Zi(t),seconds:Kl(t)}),Tx=(t,e)=>{if(e){const n=ut(ye(e));if(n>t)return 12;if(n===t)return Et(ye(e))}},Ex=(t,e)=>{if(e){const n=ut(ye(e));return n<t?-1:n===t?Et(ye(e)):void 0}},Ql=t=>{if(t)return ut(ye(t))},Pi=(t,e)=>e?eY(t,e):t,Ix=(t,e)=>e?tY(t,e):t,fY=t=>t instanceof Date?t:fK(t),Sx=(t,e)=>{const n=gr(t,e)?e:t,r=gr(e,t)?e:t;return QD({start:n,end:r})},pY=t=>{const e=Ai(t,1);return{month:Et(e),year:ut(e)}},rf=(t,e,n)=>{const r=ya(Pi(t,e),{weekStartsOn:+n}),i=sq(Pi(t,e),{weekStartsOn:+n});return[r,i]},Cx=(t,e)=>{const n={hours:Oi(ye()),minutes:Zi(ye()),seconds:e?Kl(ye()):0};return Object.assign(n,t)},ro=(t,e,n)=>[on(ye(t),{date:1}),on(ye(),{month:e,year:n,date:1})],_s=(t,e,n)=>{let r=t?ye(t):ye();return(e||e===0)&&(r=hx(r,e)),n&&(r=zi(r,n)),r},Ax=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const s=i?Ai(t,1):Yl(t,1),o=[Et(s),ut(s)];return i?!gY(...o,e):!mY(...o,n)},mY=(t,e,n)=>Xn(...ro(n,t,e))||Rt(...ro(n,t,e)),gY=(t,e,n)=>gr(...ro(n,t,e))||Rt(...ro(n,t,e)),Ox=(t,e,n,r,i,s,o)=>{if(typeof e=="function"&&!o)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${co(t[0],s,a)}${i&&!t[1]?"":r}${t[1]?co(t[1],s,a):""}`:co(t,s,a)},qa=t=>{if(t)return null;throw new Error(cp.prop("partial-range"))},Lh=(t,e)=>{if(e)return t();throw new Error(cp.prop("range"))},Py=t=>Array.isArray(t)?bc(t[0])&&(t[1]?bc(t[1]):!0):t?bc(t):!1,vY=(t,e)=>on(e??ye(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Mg=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?nd(t,e):td(t,e),s={seconds:0,milliseconds:0};return i||ol(on(t,s),on(e,s))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},Lg=(t,e,n)=>t?vY(t,e):ye(n??e),DI=(t,e,n,r,i)=>{if(Array.isArray(r)){const o=Lg(t,r[0],e),a=Lg(t,r[1],e);return Mg(r[0],o,n,!!e)&&Mg(r[1],a,n,!!e)&&i}const s=Lg(t,r,e);return Mg(r,s,n,!!e)&&i},Vg=t=>on(ye(),Zo(t)),yY=(t,e)=>Array.isArray(t)?t.map(n=>ye(n)).filter(n=>ut(ye(n))===e).map(n=>Et(n)):[],Px=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),vb=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),$u=Rr({menuFocused:!1,shiftKeyInMenu:!1}),kx=()=>{const t=n=>{$u.menuFocused=n},e=n=>{$u.shiftKeyInMenu!==n&&($u.shiftKeyInMenu=n)};return{control:le(()=>({shiftKeyInMenu:$u.shiftKeyInMenu,menuFocused:$u.menuFocused})),setMenuFocused:t,setShiftKey:e}},en=Rr({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Fg=fe(null),Vh=fe(!1),$g=fe(!1),Ug=fe(!1),Bg=fe(!1),Er=fe(0),zn=fe(0),Po=()=>{const t=le(()=>Vh.value?[...en.selectionGrid,en.actionRow].filter(h=>h.length):$g.value?[...en.timePicker[0],...en.timePicker[1],Bg.value?[]:[Fg.value],en.actionRow].filter(h=>h.length):Ug.value?[...en.monthPicker,en.actionRow]:[en.monthYear,...en.calendar,en.time,en.actionRow].filter(h=>h.length)),e=h=>{Er.value=h?Er.value+1:Er.value-1;let f=null;t.value[zn.value]&&(f=t.value[zn.value][Er.value]),f||(Er.value=h?Er.value-1:Er.value+1)},n=h=>{zn.value===0&&!h||zn.value===t.value.length&&h||(zn.value=h?zn.value+1:zn.value-1,t.value[zn.value]?t.value[zn.value]&&!t.value[zn.value][Er.value]&&Er.value!==0&&(Er.value=t.value[zn.value].length-1):zn.value=h?zn.value-1:zn.value+1)},r=h=>{let f=null;t.value[zn.value]&&(f=t.value[zn.value][Er.value]),f?f.focus({preventScroll:!Vh.value}):Er.value=h?Er.value-1:Er.value+1},i=()=>{e(!0),r(!0)},s=()=>{e(!1),r(!1)},o=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(h,f)=>{en[f]=h},u=(h,f)=>{en[f]=h},c=()=>{Er.value=0,zn.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:h=>{Fg.value=h},setSelectionGrid:h=>{Vh.value=h,c(),h||(en.selectionGrid=[])},setTimePicker:(h,f=!1)=>{$g.value=h,Bg.value=f,c(),h||(en.timePicker[0]=[],en.timePicker[1]=[])},setTimePickerElements:(h,f=0)=>{en.timePicker[f]=h},arrowRight:i,arrowLeft:s,arrowUp:o,arrowDown:a,clearArrowNav:()=>{en.monthYear=[],en.calendar=[],en.time=[],en.actionRow=[],en.selectionGrid=[],en.timePicker[0]=[],en.timePicker[1]=[],Vh.value=!1,$g.value=!1,Bg.value=!1,Ug.value=!1,c(),Fg.value=null},setMonthPicker:h=>{Ug.value=h,c()},refSets:en}},xI=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),_Y=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...t??{}}),NI=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,bY=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:NI(!1)};const r=e?t:{},i=e?r.count??!0:t,s=NI(i);return Object.assign(n,r,{count:s})},wY=(t,e,n)=>t||(typeof n=="string"?n:e),TY=t=>typeof t=="boolean"?t?xI({}):!1:xI(t),EY=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},IY=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),SY=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),CY=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},AY=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,...t??{}}),OY=(t,e,n)=>{const r={dates:Array.isArray(t)?t.map(i=>ye(i)):[],years:[],months:[],quarters:[],weeks:[],weekdays:e,options:{highlightDisabled:n}};return typeof t=="function"?t:{...r,...t??{}}},PY=t=>typeof t=="object"?{type:t.type,hideOnOffsetDates:t.hideOnOffsetDates??!1}:{type:t,hideOnOffsetDates:!1},In=t=>{const e=()=>{const R=t.enableSeconds?":ss":"";return t.is24?`HH:mm${R}`:`hh:mm${R} aa`},n=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy",r=R=>Cx(R,t.enableSeconds),i=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,s=le(()=>bY(t.multiCalendars)),o=le(()=>i()),a=le(()=>_Y(t.ariaLabels)),l=le(()=>IY(t.filters)),u=le(()=>TY(t.transitions)),c=le(()=>SY(t.actionRow)),h=le(()=>wY(t.previewFormat,t.format,n())),f=le(()=>EY(t.textInput)),p=le(()=>CY(t.inline)),g=le(()=>AY(t.config)),b=le(()=>OY(t.highlight,t.highlightWeekDays,t.highlightDisabledDays)),A=le(()=>PY(t.weekNumbers));return{defaultedTransitions:u,defaultedMultiCalendars:s,defaultedStartTime:o,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:h,defaultedTextInput:f,defaultedInline:p,defaultedConfig:g,defaultedHighlight:b,defaultedWeekNumbers:A,getDefaultPattern:n,getDefaultStartTime:i}},kY=(t,e,n)=>{const r=fe(),{defaultedTextInput:i,getDefaultPattern:s}=In(e),o=fe(""),a=Oc(e,"format");En(r,()=>{t("internal-model-change",r.value)}),En(a,()=>{q()});const l=O=>Ix(O,e.timezone),u=O=>Pi(O,e.timezone),c=(O,z,K=!1)=>Ox(O,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,z??s(),K),h=O=>O?e.modelType?j(O):{hours:Oi(O),minutes:Zi(O),seconds:e.enableSeconds?Kl(O):0}:null,f=O=>e.modelType?j(O):{month:Et(O),year:ut(O)},p=O=>Array.isArray(O)?e.multiDates?O.map(z=>g(z,zi(ye(),z))):Lh(()=>[zi(ye(),O[0]),O[1]?zi(ye(),O[1]):qa(e.partialRange)],e.range):zi(ye(),+O),g=(O,z)=>(typeof O=="string"||typeof O=="number")&&e.modelType?$(O):z,b=O=>Array.isArray(O)?[g(O[0],fo(null,+O[0].hours,+O[0].minutes,O[0].seconds)),g(O[1],fo(null,+O[1].hours,+O[1].minutes,O[1].seconds))]:g(O,fo(null,O.hours,O.minutes,O.seconds)),A=O=>Array.isArray(O)?e.multiDates?O.map(z=>g(z,_s(null,+z.month,+z.year))):Lh(()=>[g(O[0],_s(null,+O[0].month,+O[0].year)),g(O[1],O[1]?_s(null,+O[1].month,+O[1].year):qa(e.partialRange))],e.range):g(O,_s(null,+O.month,+O.year)),R=O=>{if(Array.isArray(O))return O.map(z=>$(z));throw new Error(cp.dateArr("multi-dates"))},k=O=>{if(Array.isArray(O))return[ye(O[0]),ye(O[1])];throw new Error(cp.dateArr("week-picker"))},T=O=>e.modelAuto?Array.isArray(O)?[$(O[0]),$(O[1])]:e.autoApply?[$(O)]:[$(O),null]:Array.isArray(O)?Lh(()=>[$(O[0]),O[1]?$(O[1]):qa(e.partialRange)],e.range):$(O),S=()=>{Array.isArray(r.value)&&e.range&&r.value.length===1&&r.value.push(qa(e.partialRange))},M=()=>{const O=r.value;return[j(O[0]),O[1]?j(O[1]):qa(e.partialRange)]},L=()=>r.value[1]?M():j(Vn(r.value[0])),I=()=>(r.value||[]).map(O=>j(O)),E=()=>(S(),e.modelAuto?L():e.multiDates?I():Array.isArray(r.value)?Lh(()=>M(),e.range):j(Vn(r.value))),y=O=>!O||Array.isArray(O)&&!O.length?null:e.timePicker?b(Vn(O)):e.monthPicker?A(Vn(O)):e.yearPicker?p(Vn(O)):e.multiDates?R(Vn(O)):e.weekPicker?k(Vn(O)):T(Vn(O)),v=O=>{const z=y(O);Py(Vn(z))?(r.value=Vn(z),q()):(r.value=null,o.value="")},w=()=>{const O=z=>co(z,i.value.format);return`${O(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?O(r.value[1]):""}`},C=()=>n.value&&r.value?Array.isArray(r.value)?w():co(r.value,i.value.format):c(r.value),P=()=>r.value?e.multiDates?r.value.map(O=>c(O)).join("; "):i.value.enabled&&typeof i.value.format=="string"?C():c(r.value):"",q=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?o.value=P():o.value=e.format(r.value)},$=O=>{if(e.utc){const z=new Date(O);return e.utc==="preserve"?new Date(z.getTime()+z.getTimezoneOffset()*6e4):z}return e.modelType?e.modelType==="date"||e.modelType==="timestamp"?u(new Date(O)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?Ty(O,s(),new Date):u(Ty(O,e.modelType,new Date)):u(new Date(O))},j=O=>O?e.utc?hY(O,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+l(O):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?c(l(O)):c(l(O),e.modelType,!0):l(O):"",F=(O,z=!1)=>{if(t("update:model-value",O),e.emitTimezone&&z){const K=Array.isArray(O)?O.map(te=>Pi(Vn(te)),e.emitTimezone):Pi(Vn(O),e.emitTimezone);t("update:model-timezone-value",K)}},U=O=>Array.isArray(r.value)?e.multiDates?r.value.map(z=>O(z)):[O(r.value[0]),r.value[1]?O(r.value[1]):qa(e.partialRange)]:O(Vn(r.value)),x=O=>F(Vn(U(O)));return{inputValue:o,internalModelValue:r,checkBeforeEmit:()=>r.value?e.range?e.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:v,formatInputValue:q,emitModelValue:()=>(q(),e.monthPicker?x(f):e.timePicker?x(h):e.yearPicker?x(ut):e.weekPicker?F(r.value.map(O=>j(O)),!0):F(E(),!0))}},RY=(t,e)=>{const{defaultedFilters:n}=In(t),{validateMonthYearInRange:r}=Ra(t),i=(u,c)=>{let h=u;return n.value.months.includes(Et(h))?(h=c?Ai(u,1):Yl(u,1),i(h,c)):h},s=(u,c)=>{let h=u;return n.value.years.includes(ut(h))?(h=c?eb(u,1):mx(u,1),s(h,c)):h},o=(u,c=!1)=>{const h=on(new Date,{month:t.month,year:t.year});let f=u?Ai(h,1):Yl(h,1);t.disableYearSelect&&(f=zi(f,t.year));let p=Et(f),g=ut(f);n.value.months.includes(p)&&(f=i(f,u),p=Et(f),g=ut(f)),n.value.years.includes(g)&&(f=s(f,u),g=ut(f)),r(p,g,u,t.preventMinMaxNavigation)&&a(p,g,c)},a=(u,c,h)=>{e("update-month-year",{month:u,year:c,fromNav:h})},l=le(()=>u=>Ax(on(new Date,{month:t.month,year:t.year}),t.maxDate,t.minDate,t.preventMinMaxNavigation,u));return{handleMonthYearChange:o,isDisabled:l,updateMonthYear:a}};var Za=(t=>(t.center="center",t.left="left",t.right="right",t))(Za||{}),gi=(t=>(t.month="month",t.year="year",t))(gi||{}),Uo=(t=>(t.top="top",t.bottom="bottom",t))(Uo||{}),ea=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(ea||{}),Bi=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Bi||{});const DY=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:s,props:o,slots:a})=>{const l=fe({}),u=fe(!1),c=fe({top:"0",left:"0"}),h=fe(!1),f=Oc(o,"teleportCenter");En(f,()=>{c.value=JSON.parse(JSON.stringify({})),S()});const p=$=>{if(o.teleport){const j=$.getBoundingClientRect();return{left:j.left+window.scrollX,top:j.top+window.scrollY}}return{top:0,left:0}},g=($,j)=>{c.value.left=`${$+j-l.value.width}px`},b=$=>{c.value.left=`${$}px`},A=($,j)=>{o.position===Za.left&&b($),o.position===Za.right&&g($,j),o.position===Za.center&&(c.value.left=`${$+j/2-l.value.width/2}px`)},R=$=>{const{width:j,height:F}=$.getBoundingClientRect(),{top:U,left:x}=o.altPosition?o.altPosition($):p($);return{top:+U,left:+x,width:j,height:F}},k=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},T=()=>{const $=Nn(n),{top:j,left:F,transform:U}=o.altPosition($);c.value={top:`${j}px`,left:`${F}px`,transform:U??""}},S=($=!0)=>{var j;if(!i.value.enabled){if(f.value)return k();if(o.altPosition!==null)return T();if($){const F=o.teleport?(j=e.value)==null?void 0:j.$el:t.value;F&&(l.value=F.getBoundingClientRect()),s("recalculate-position")}return w()}},M=({inputEl:$,left:j,width:F})=>{window.screen.width>768&&!u.value&&A(j,F),E($)},L=$=>{const{top:j,left:F,height:U,width:x}=R($);c.value.top=`${U+j+ +o.offset}px`,h.value=!1,u.value||(c.value.left=`${F+x/2-l.value.width/2}px`),M({inputEl:$,left:F,width:x})},I=$=>{const{top:j,left:F,width:U}=R($);c.value.top=`${j-+o.offset-l.value.height}px`,h.value=!0,M({inputEl:$,left:F,width:U})},E=$=>{if(o.autoPosition){const{left:j,width:F}=R($),{left:U,right:x}=l.value;if(!u.value){if(Math.abs(U)!==Math.abs(x)){if(U<=0)return u.value=!0,b(j);if(x>=document.documentElement.clientWidth)return u.value=!0,g(j,F)}return A(j,F)}}},y=()=>{const $=Nn(n);if($){const{height:j}=l.value,{top:F,height:U}=$.getBoundingClientRect(),x=window.innerHeight-F-U,O=F;return j<=x?Uo.bottom:j>x&&j<=O?Uo.top:x>=O?Uo.bottom:Uo.top}return Uo.bottom},v=$=>y()===Uo.bottom?L($):I($),w=()=>{const $=Nn(n);if($)return o.autoPosition?v($):L($)},C=function($){if($){const j=$.scrollHeight>$.clientHeight,F=window.getComputedStyle($).overflowY.indexOf("hidden")!==-1;return j&&!F}return!0},P=function($){return!$||$===document.body||$.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:C($)?$:P($.parentNode)},q=$=>{if($)switch(o.position){case Za.left:return{left:0,transform:"translateX(0)"};case Za.right:return{left:`${$.width}px`,transform:"translateX(-100%)"};default:return{left:`${$.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:h,menuStyle:c,xCorrect:u,setMenuPosition:S,getScrollableParent:P,shadowRender:($,j)=>{var F,U,x;const O=document.createElement("div"),z=(F=Nn(n))==null?void 0:F.getBoundingClientRect();O.setAttribute("id","dp--temp-container");const K=(U=r.value)!=null&&U.clientWidth?r.value:document.body;K.append(O);const te=q(z),he=Ol($,{...j,shadow:!0,style:{opacity:0,position:"absolute",...te}},Object.fromEntries(Object.keys(a).filter(Z=>["right-sidebar","left-sidebar"].includes(Z)).map(Z=>[Z,a[Z]])));Mc(he,O),l.value=(x=he.el)==null?void 0:x.getBoundingClientRect(),Mc(null,O),K.removeChild(O)}}},js=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],xY=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],NY={all:()=>js,monthYear:()=>js.filter(t=>t.use.includes("month-year")),input:()=>xY,timePicker:()=>js.filter(t=>t.use.includes("time")),action:()=>js.filter(t=>t.use.includes("action")),calendar:()=>js.filter(t=>t.use.includes("calendar")),menu:()=>js.filter(t=>t.use.includes("menu")),shared:()=>js.filter(t=>t.use.includes("shared")),yearMode:()=>js.filter(t=>t.use.includes("year-mode"))},Gr=(t,e,n)=>{const r=[];return NY[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},zd=t=>{const e=le(()=>r=>t.value?r?t.value.open:t.value.close:""),n=le(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},Kd=(t,e)=>{const n=ye(Pi(new Date,t.timezone)),r=fe([{month:Et(n),year:ut(n)}]),i=Rr({hours:t.range?[Oi(n),Oi(n)]:Oi(n),minutes:t.range?[Zi(n),Zi(n)]:Zi(n),seconds:t.range?[0,0]:0}),s=le({get:()=>t.internalModelValue,set:l=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",l)}}),o=le(()=>l=>r.value[l]?r.value[l].month:0),a=le(()=>l=>r.value[l]?r.value[l].year:0);return{calendars:r,time:i,modelValue:s,month:o,year:a}},MY=(t,e)=>{const{defaultedMultiCalendars:n,defaultedHighlight:r}=In(e),{isDisabled:i,matchDate:s}=Ra(e),o=fe(null),a=fe(ye(Pi(new Date,e.timezone))),l=x=>{!x.current&&e.hideOffsetDates||(o.value=x.value)},u=()=>{o.value=null},c=x=>Array.isArray(t.value)&&e.range&&t.value[0]&&o.value?x?gr(o.value,t.value[0]):Xn(o.value,t.value[0]):!0,h=(x,O)=>{const z=()=>t.value?O?t.value[0]||null:t.value[1]:null,K=t.value&&Array.isArray(t.value)?z():null;return Rt(ye(x.value),K)},f=x=>{const O=Array.isArray(t.value)?t.value[0]:null;return x?!Xn(o.value??null,O):!0},p=(x,O=!0)=>(e.range||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!x.current?!1:Rt(ye(x.value),t.value[O?0:1]):e.range?h(x,O)&&f(O)||Rt(x.value,Array.isArray(t.value)?t.value[0]:null)&&c(O):!1,g=(x,O,z)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?x?!1:z?gr(t.value[0],O.value):Xn(t.value[0],O.value):!1,b=x=>!t.value||e.hideOffsetDates&&!x.current?!1:e.range?e.modelAuto&&Array.isArray(t.value)?Rt(x.value,t.value[0]?t.value[0]:a.value):!1:e.multiDates&&Array.isArray(t.value)?t.value.some(O=>Rt(O,x.value)):Rt(x.value,t.value?t.value:a.value),A=x=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!x.current)return!1;const O=ps(o.value,+e.autoRange),z=rf(ye(o.value),e.timezone,e.weekStart);return e.weekPicker?Rt(z[1],ye(x.value)):Rt(O,ye(x.value))}return!1}return!1},R=x=>{if(e.autoRange||e.weekPicker){if(o.value){const O=ps(o.value,+e.autoRange);if(e.hideOffsetDates&&!x.current)return!1;const z=rf(ye(o.value),e.timezone,e.weekStart);return e.weekPicker?gr(x.value,z[0])&&Xn(x.value,z[1]):gr(x.value,o.value)&&Xn(x.value,O)}return!1}return!1},k=x=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!x.current)return!1;const O=rf(ye(o.value),e.timezone,e.weekStart);return e.weekPicker?Rt(O[0],x.value):Rt(o.value,x.value)}return!1}return!1},T=x=>pm(t.value,o.value,x.value),S=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,M=()=>e.modelAuto?wx(e.internalModelValue):!0,L=x=>{if(Array.isArray(t.value)&&t.value.length||e.weekPicker)return!1;const O=e.range?!p(x)&&!p(x,!1):!0;return!i(x.value)&&!b(x)&&!(!x.current&&e.hideOffsetDates)&&O},I=x=>e.range?e.modelAuto?S()&&b(x):!1:b(x),E=x=>{var O;return r.value?typeof r.value=="function"?r.value(x.value):s(x.value,(O=e.arrMapValues)!=null&&O.highlightedDates?e.arrMapValues.highlightedDates:r.value.dates):!1},y=x=>{const O=i(x.value);return O&&(typeof r.value=="function"?!r.value(x.value,O):!r.value.options.highlightDisabled)},v=x=>{var O;return typeof r.value=="function"?r.value(x.value):(O=r.value.weekdays)==null?void 0:O.includes(x.value.getDay())},w=x=>(e.range||e.weekPicker)&&(!(n.value.count>0)||x.current)&&M()&&!(!x.current&&e.hideOffsetDates)&&!b(x)?T(x):!1,C=x=>{const{isRangeStart:O,isRangeEnd:z}=$(x),K=e.range?O||z:!1;return{dp__cell_offset:!x.current,dp__pointer:!e.disabled&&!(!x.current&&e.hideOffsetDates)&&!i(x.value),dp__cell_disabled:i(x.value),dp__cell_highlight:!y(x)&&(E(x)||v(x))&&!I(x)&&!K&&!k(x)&&!(w(x)&&e.weekPicker)&&!z,dp__cell_highlight_active:!y(x)&&(E(x)||v(x))&&I(x),dp__today:!e.noToday&&Rt(x.value,a.value)&&x.current}},P=x=>({dp__active_date:I(x),dp__date_hover:L(x)}),q=x=>({...j(x),...F(x),dp__range_between_week:w(x)&&e.weekPicker}),$=x=>{const O=n.value.count>0?x.current&&p(x)&&M():p(x)&&M(),z=n.value.count>0?x.current&&p(x,!1)&&M():p(x,!1)&&M();return{isRangeStart:O,isRangeEnd:z}},j=x=>{const{isRangeStart:O,isRangeEnd:z}=$(x);return{dp__range_start:O,dp__range_end:z,dp__range_between:w(x)&&!e.weekPicker,dp__date_hover_start:g(L(x),x,!0),dp__date_hover_end:g(L(x),x,!1)}},F=x=>({...j(x),dp__cell_auto_range:R(x),dp__cell_auto_range_start:k(x),dp__cell_auto_range_end:A(x)}),U=x=>e.range?e.autoRange?F(x):e.modelAuto?{...P(x),...j(x)}:j(x):e.weekPicker?q(x):P(x);return{setHoverDate:l,clearHoverDate:u,getDayClassData:x=>e.hideOffsetDates&&!x.current?{}:{...C(x),...U(x),[e.dayClass?e.dayClass(x.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},Ra=t=>{const{defaultedFilters:e,defaultedHighlight:n}=In(t),r=()=>{if(t.timezone)return t.timezone;if(t.utc)return"UTC"},i=v=>{const w=_r(s(ye(v))).toISOString(),[C]=w.split("T");return C},s=v=>t.utc==="preserve"?Ix(v,r()):Pi(v,r()),o=v=>{var w;const C=t.maxDate?gr(v,s(ye(t.maxDate))):!1,P=t.minDate?Xn(v,s(ye(t.minDate))):!1,q=c(s(v),(w=t.arrMapValues)!=null&&w.disabledDates?t.arrMapValues.disabledDates:t.disabledDates),$=e.value.months.map(O=>+O).includes(Et(v)),j=t.disabledWeekDays.length?t.disabledWeekDays.some(O=>+O===lz(v)):!1,F=f(v),U=ut(v),x=U<+t.yearRange[0]||U>+t.yearRange[1];return!(C||P||q||$||x||j||F)},a=(v,w)=>Xn(...ro(t.minDate,v,w))||Rt(...ro(t.minDate,v,w)),l=(v,w)=>gr(...ro(t.maxDate,v,w))||Rt(...ro(t.maxDate,v,w)),u=(v,w,C)=>{let P=!1;return t.maxDate&&C&&l(v,w)&&(P=!0),t.minDate&&!C&&a(v,w)&&(P=!0),P},c=(v,w)=>v?w instanceof Map?!!w.get(i(v)):Array.isArray(w)?w.some(C=>Rt(s(ye(C)),v)):w?w(ye(JSON.parse(JSON.stringify(v)))):!1:!0,h=(v,w,C,P)=>{let q=!1;return P?t.minDate&&t.maxDate?q=u(v,w,C):(t.minDate&&a(v,w)||t.maxDate&&l(v,w))&&(q=!0):q=!0,q},f=v=>{var w,C,P,q,$;return Array.isArray(t.allowedDates)&&!((w=t.allowedDates)!=null&&w.length)?!0:(C=t.arrMapValues)!=null&&C.allowedDates?!c(v,(P=t.arrMapValues)==null?void 0:P.allowedDates):(q=t.allowedDates)!=null&&q.length?!(($=t.allowedDates)!=null&&$.some(j=>Rt(_r(j),s(_r(v))))):!1},p=v=>!o(v),g=v=>t.noDisabledRange?!QD({start:v[0],end:v[1]}).some(w=>p(w)):!0,b=(v,w,C=0)=>{if(Array.isArray(w)&&w[C]){const P=ZW(v,w[C]),q=Sx(w[C],v),$=q.length===1?0:q.filter(F=>p(F)).length,j=Math.abs(P)-$;if(t.minRange&&t.maxRange)return j>=+t.minRange&&j<=+t.maxRange;if(t.minRange)return j>=+t.minRange;if(t.maxRange)return j<=+t.maxRange}return!0},A=v=>new Map(v.map(w=>[i(w),!0])),R=v=>Array.isArray(v)&&v.length>0,k=()=>{const v={disabledDates:null,allowedDates:null,highlightedDates:null};return R(t.allowedDates)&&(v.allowedDates=A(t.allowedDates)),typeof n.value!="function"&&R(n.value.dates)&&(v.highlightedDates=A(n.value.dates)),R(t.disabledDates)&&(v.disabledDates=A(t.disabledDates)),v},T=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,S=v=>Array.isArray(v)?[v[0]?Vg(v[0]):null,v[1]?Vg(v[1]):null]:Vg(v),M=(v,w,C)=>v.find(P=>+P.hours===Oi(w)&&P.minutes==="*"?!0:+P.minutes===Zi(w)&&+P.hours===Oi(w))&&C,L=(v,w,C)=>{const[P,q]=v,[$,j]=w;return!M(P,$,C)&&!M(q,j,C)&&C},I=(v,w)=>{const C=Array.isArray(w)?w:[w];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?L(t.disabledTimes,C,v):!C.some(P=>M(t.disabledTimes,P,v)):v},E=(v,w)=>{const C=Array.isArray(w)?[Zo(w[0]),w[1]?Zo(w[1]):void 0]:Zo(w),P=!t.disabledTimes(C);return v&&P},y=(v,w)=>t.disabledTimes?Array.isArray(t.disabledTimes)?I(w,v):E(w,v):w;return{isDisabled:p,validateDate:o,validateMonthYearInRange:h,isDateRangeAllowed:g,checkMinMaxRange:b,matchDate:c,mapDatesArrToMap:k,isValidTime:v=>{let w=!0;if(!v||T())return!0;const C=!t.minDate&&!t.maxDate?S(v):v;return(t.maxTime||t.maxDate)&&(w=DI(t.maxTime,t.maxDate,"max",Vn(C),w)),(t.minTime||t.minDate)&&(w=DI(t.minTime,t.minDate,"min",Vn(C),w)),y(v,w)}}},mm=()=>{const t=le(()=>(r,i)=>r==null?void 0:r.includes(i)),e=le(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=le(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},LY=(t,e,n)=>{const r=fe(0),i=Rr({[ea.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[ea.calendar]:!1,[ea.header]:!1}),s=le(()=>t.monthPicker),o=h=>{var f;if((f=t.flow)!=null&&f.length){if(!h&&s.value)return c();i[h]=!0,Object.keys(i).filter(p=>!i[p]).length||c()}},a=()=>{var h;(h=t.flow)!=null&&h.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),c())},l=()=>{r.value=-1},u=(h,f,...p)=>{t.flow[r.value]===h&&n.value&&n.value[f](...p)},c=()=>{u(Bi.month,"toggleMonthPicker",!0),u(Bi.year,"toggleYearPicker",!0),u(Bi.calendar,"toggleTimePicker",!1,!0),u(Bi.time,"toggleTimePicker",!0,!0);const h=t.flow[r.value];(h===Bi.hours||h===Bi.minutes||h===Bi.seconds)&&u(h,"toggleTimePicker",!0,!0,h)};return{childMount:o,updateFlowStep:a,resetFlow:l,flowStep:r}},gm={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function,Object],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1}},Mi={...gm,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},VY={key:1,class:"dp__input_wrap"},FY=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],$Y={key:2,class:"dp__clear_icon"},UY=Kt({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...gm},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:s,defaultedAriaLabels:o,defaultedInline:a,defaultedConfig:l,getDefaultPattern:u,getDefaultStartTime:c}=In(i),{checkMinMaxRange:h}=Ra(i),f=fe(),p=fe(null),g=fe(!1),b=fe(!1),A=le(()=>({dp__pointer:!i.disabled&&!i.readonly&&!s.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:g.value||i.isMenuOpen,dp__input_reg:!s.value.enabled,[i.inputClassName]:!!i.inputClassName})),R=()=>{r("set-input-date",null),i.autoApply&&(r("set-empty-date"),f.value=null)},k=q=>{const $=c();return dY(q,s.value.format??u(),$??Cx({},i.enableSeconds),i.inputValue,b.value)},T=q=>{const{rangeSeparator:$}=s.value,[j,F]=q.split(`${$}`);if(j){const U=k(j.trim()),x=F?k(F.trim()):null,O=U&&x?[U,x]:[U];h(x,O,0)&&(f.value=U?O:null)}},S=()=>{b.value=!0},M=q=>{if(i.range)T(q);else if(i.multiDates){const $=q.split(";");f.value=$.map(j=>k(j.trim())).filter(j=>j)}else f.value=k(q)},L=q=>{var $;const j=typeof q=="string"?q:($=q.target)==null?void 0:$.value;j!==""?(s.value.openMenu&&!i.isMenuOpen&&r("open"),M(j),r("set-input-date",f.value)):R(),b.value=!1,r("update:input-value",j)},I=q=>{s.value.enabled?(M(q.target.value),s.value.enterSubmit&&Py(f.value)&&i.inputValue!==""?(r("set-input-date",f.value,!0),f.value=null):s.value.enterSubmit&&i.inputValue===""&&(f.value=null,r("clear"))):v(q)},E=q=>{s.value.enabled&&s.value.tabSubmit&&M(q.target.value),s.value.tabSubmit&&Py(f.value)&&i.inputValue!==""?(r("set-input-date",f.value,!0,!0),f.value=null):s.value.tabSubmit&&i.inputValue===""&&(f.value=null,r("clear",!0))},y=()=>{var q;g.value=!0,r("focus"),s.value.enabled&&s.value.selectOnFocus&&((q=p.value)==null||q.select())},v=q=>{q.preventDefault(),ho(q,l.value,!0),s.value.enabled&&s.value.openMenu&&!a.value.input&&!i.isMenuOpen?r("open"):s.value.enabled||r("toggle")},w=()=>{r("real-blur"),g.value=!1,(!i.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),i.autoApply&&s.value.enabled&&f.value&&!i.isMenuOpen&&(r("set-input-date",f.value),r("select-date"),f.value=null)},C=q=>{ho(q,l.value,!0),r("clear")},P=q=>{if(!s.value.enabled){if(q.code==="Tab")return;q.preventDefault()}};return e({focusInput:()=>{var q;(q=p.value)==null||q.focus({preventScroll:!0})},setParsedDate:q=>{f.value=q}}),(q,$)=>{var j;return W(),ee("div",{onClick:v},[q.$slots.trigger&&!q.$slots["dp-input"]&&!G(a).enabled?_e(q.$slots,"trigger",{key:0}):de("",!0),!q.$slots.trigger&&(!G(a).enabled||G(a).input)?(W(),ee("div",VY,[q.$slots["dp-input"]&&!q.$slots.trigger&&!G(a).enabled?_e(q.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:L,onEnter:I,onTab:E,onClear:C,onBlur:w,onKeypress:P,onPaste:S,openMenu:()=>q.$emit("open"),closeMenu:()=>q.$emit("close"),toggleMenu:()=>q.$emit("toggle")}):de("",!0),q.$slots["dp-input"]?de("",!0):(W(),ee("input",{key:1,id:q.uid?`dp-input-${q.uid}`:void 0,ref_key:"inputRef",ref:p,name:q.name,class:tt(A.value),inputmode:G(s).enabled?"text":"none",placeholder:q.placeholder,disabled:q.disabled,readonly:q.readonly,required:q.required,value:t.inputValue,autocomplete:q.autocomplete,"aria-label":(j=G(o))==null?void 0:j.input,"aria-disabled":q.disabled||void 0,"aria-invalid":q.state===!1?!0:void 0,onInput:L,onKeydown:[at(I,["enter"]),at(E,["tab"]),P],onBlur:w,onFocus:y,onKeypress:P,onPaste:S},null,42,FY)),Ce("div",{onClick:$[2]||($[2]=F=>r("toggle"))},[q.$slots["input-icon"]&&!q.hideInputIcon?(W(),ee("span",{key:0,class:"dp__input_icon",onClick:$[0]||($[0]=F=>r("toggle"))},[_e(q.$slots,"input-icon")])):de("",!0),!q.$slots["input-icon"]&&!q.hideInputIcon&&!q.$slots["dp-input"]?(W(),qe(G(fu),{key:1,class:"dp__input_icon dp__input_icons",onClick:$[1]||($[1]=F=>r("toggle"))})):de("",!0)]),q.$slots["clear-icon"]&&t.inputValue&&q.clearable&&!q.disabled&&!q.readonly?(W(),ee("span",$Y,[_e(q.$slots,"clear-icon",{clear:C})])):de("",!0),q.clearable&&!q.$slots["clear-icon"]&&t.inputValue&&!q.disabled&&!q.readonly?(W(),qe(G(gx),{key:3,class:"dp__clear_icon dp__input_icons",onClick:$[3]||($[3]=Lt(F=>C(F),["prevent"]))})):de("",!0)])):de("",!0)])}}}),BY=["title"],jY={class:"dp__action_buttons"},HY=["disabled"],WY=Kt({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Mi},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:s,defaultedMultiCalendars:o,defaultedTextInput:a,defaultedInline:l,getDefaultPattern:u}=In(r),{isValidTime:c}=Ra(r),{buildMatrix:h}=Po(),f=fe(null),p=fe(null);vn(()=>{r.arrowNavigation&&h([Nn(f),Nn(p)],"actionRow")});const g=le(()=>r.range&&!r.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),b=le(()=>!A.value||!R.value||!g.value),A=le(()=>!r.enableTimePicker||r.ignoreTimeValidation?!0:c(r.internalModelValue)),R=le(()=>r.monthPicker?r.range&&Array.isArray(r.internalModelValue)?!r.internalModelValue.filter(v=>!E(v)).length:E(r.internalModelValue):!0),k=()=>{const v=s.value;return r.timePicker||r.monthPicker,v(Vn(r.internalModelValue))},T=()=>{const v=r.internalModelValue;return o.value.count>0?`${S(v[0])} - ${S(v[1])}`:[S(v[0]),S(v[1])]},S=v=>Ox(v,s.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,u()),M=le(()=>!r.internalModelValue||!r.menuMount?"":typeof s.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?T():r.multiDates?r.internalModelValue.map(v=>`${S(v)}`):r.modelAuto?`${S(r.internalModelValue[0])}`:`${S(r.internalModelValue[0])} -`:S(r.internalModelValue):k()),L=()=>r.multiDates?"; ":" - ",I=le(()=>Array.isArray(M.value)?M.value.join(L()):M.value),E=v=>{if(!r.monthPicker)return!0;let w=!0;const C=ye(wi(v));if(r.minDate&&r.maxDate){const P=ye(wi(r.minDate)),q=ye(wi(r.maxDate));return gr(C,P)&&Xn(C,q)||Rt(C,P)||Rt(C,q)}if(r.minDate){const P=ye(wi(r.minDate));w=gr(C,P)||Rt(C,P)}if(r.maxDate){const P=ye(wi(r.maxDate));w=Xn(C,P)||Rt(C,P)}return w},y=()=>{A.value&&R.value&&g.value?n("select-date"):n("invalid-select")};return(v,w)=>(W(),ee("div",{class:"dp__action_row",style:Pr(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[v.$slots["action-row"]?_e(v.$slots,"action-row",bn(pe({key:0},{internalModelValue:v.internalModelValue,disabled:b.value,selectDate:()=>v.$emit("select-date"),closePicker:()=>v.$emit("close-picker")}))):(W(),ee(Ne,{key:1},[G(i).showPreview?(W(),ee("div",{key:0,class:"dp__selection_preview",title:I.value},[v.$slots["action-preview"]?_e(v.$slots,"action-preview",{key:0,value:v.internalModelValue}):de("",!0),v.$slots["action-preview"]?de("",!0):(W(),ee(Ne,{key:1},[Dn(dt(I.value),1)],64))],8,BY)):de("",!0),Ce("div",jY,[v.$slots["action-buttons"]?_e(v.$slots,"action-buttons",{key:0,value:v.internalModelValue}):de("",!0),v.$slots["action-buttons"]?de("",!0):(W(),ee(Ne,{key:1},[!G(l).enabled&&G(i).showCancel?(W(),ee("button",{key:0,ref_key:"cancelButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_cancel",onClick:w[0]||(w[0]=C=>v.$emit("close-picker")),onKeydown:[w[1]||(w[1]=at(C=>v.$emit("close-picker"),["enter"])),w[2]||(w[2]=at(C=>v.$emit("close-picker"),["space"]))]},dt(v.cancelText),545)):de("",!0),G(i).showNow?(W(),ee("button",{key:1,ref_key:"cancelButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_cancel",onClick:w[3]||(w[3]=C=>v.$emit("select-now")),onKeydown:[w[4]||(w[4]=at(C=>v.$emit("select-now"),["enter"])),w[5]||(w[5]=at(C=>v.$emit("select-now"),["space"]))]},dt(v.nowButtonLabel),545)):de("",!0),G(i).showSelect?(W(),ee("button",{key:2,ref_key:"selectButtonRef",ref:p,type:"button",class:"dp__action_button dp__action_select",disabled:b.value,onKeydown:[at(y,["enter"]),at(y,["space"])],onClick:y},dt(v.selectText),41,HY)):de("",!0)],64))])],64))],4))}}),qY=["onKeydown"],zY={class:"dp__selection_grid_header"},KY=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],YY=["aria-label"],Yd=Kt({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:s}=Po(),o=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=In(a),{hideNavigationButtons:h}=mm(),f=fe(!1),p=fe(null),g=fe(null),b=fe([]),A=fe(),R=fe(null),k=fe(0),T=fe(null);i_(()=>{p.value=null}),vn(()=>{jn().then(()=>w()),a.noOverlayFocus||M(),S(!0)}),Ta(()=>S(!1));const S=x=>{var O;a.arrowNavigation&&((O=a.headerRefs)!=null&&O.length?s(x):r(x))},M=()=>{var x;const O=Nn(g);O&&(u.value.enabled||(p.value?(x=p.value)==null||x.focus({preventScroll:!0}):O.focus({preventScroll:!0})),f.value=O.clientHeight<O.scrollHeight)},L=le(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),I=le(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),E=le(()=>({dp__overlay_col:!0})),y=le(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:f.value,dp__button_bottom:a.isLast})),v=le(()=>{var x,O;return{dp__overlay_container:!0,dp__container_flex:((x=a.items)==null?void 0:x.length)<=6,dp__container_block:((O=a.items)==null?void 0:O.length)>6}});En(()=>a.items,()=>w(),{deep:!0});const w=()=>{jn().then(()=>{const x=Nn(p),O=Nn(g),z=Nn(R),K=Nn(T),te=z?z.getBoundingClientRect().height:0;O&&(O.getBoundingClientRect().height?k.value=O.getBoundingClientRect().height-te:k.value=c.value.modeHeight-te),x&&K&&(K.scrollTop=x.offsetTop-K.offsetTop-(k.value/2-x.getBoundingClientRect().height)-te)})},C=x=>{x.disabled||o("selected",x.value)},P=()=>{o("toggle"),o("reset-flow")},q=()=>{a.escClose&&P()},$=(x,O,z,K)=>{x&&((O.active||O.value===a.focusValue)&&(p.value=x),a.arrowNavigation&&(Array.isArray(b.value[z])?b.value[z][K]=x:b.value[z]=[x],j()))},j=()=>{var x,O;const z=(x=a.headerRefs)!=null&&x.length?[a.headerRefs].concat(b.value):b.value.concat([a.skipButtonRef?[]:[R.value]]);i(Vn(z),(O=a.headerRefs)!=null&&O.length?"monthPicker":"selectionGrid")},F=x=>{a.arrowNavigation||ho(x,c.value,!0)},U=x=>{A.value=x,o("hover-value",x)};return e({focusGrid:M}),(x,O)=>{var z;return W(),ee("div",{ref_key:"gridWrapRef",ref:g,class:tt(L.value),style:Pr(I.value),role:"dialog",tabindex:"0",onKeydown:[at(Lt(q,["prevent"]),["esc"]),O[0]||(O[0]=at(Lt(K=>F(K),["prevent"]),["left"])),O[1]||(O[1]=at(Lt(K=>F(K),["prevent"]),["up"])),O[2]||(O[2]=at(Lt(K=>F(K),["prevent"]),["down"])),O[3]||(O[3]=at(Lt(K=>F(K),["prevent"]),["right"]))]},[Ce("div",{ref_key:"containerRef",ref:T,class:tt(v.value),role:"grid",style:Pr({height:`${k.value}px`})},[Ce("div",zY,[_e(x.$slots,"header")]),x.$slots.overlay?_e(x.$slots,"overlay",{key:0}):(W(!0),ee(Ne,{key:1},Ft(x.items,(K,te)=>(W(),ee("div",{key:te,class:tt(["dp__overlay_row",{dp__flex_row:x.items.length>=3}]),role:"row"},[(W(!0),ee(Ne,null,Ft(K,(he,Z)=>(W(),ee("div",{key:he.value,ref_for:!0,ref:H=>$(H,he,te,Z),role:"gridcell",class:tt(E.value),"aria-selected":he.active,"aria-disabled":he.disabled||void 0,tabindex:"0",onClick:H=>C(he),onKeydown:[at(Lt(H=>C(he),["prevent"]),["enter"]),at(Lt(H=>C(he),["prevent"]),["space"])],onMouseover:H=>U(he.value)},[Ce("div",{class:tt(he.className)},[x.$slots.item?_e(x.$slots,"item",{key:0,item:he}):de("",!0),x.$slots.item?de("",!0):(W(),ee(Ne,{key:1},[Dn(dt(he.text),1)],64))],2)],42,KY))),128))],2))),128))],6),x.$slots["button-icon"]?Ko((W(),ee("button",{key:0,ref_key:"toggleButton",ref:R,type:"button","aria-label":(z=G(l))==null?void 0:z.toggleOverlay,class:tt(y.value),tabindex:"0",onClick:P,onKeydown:[at(P,["enter"]),at(P,["tab"])]},[_e(x.$slots,"button-icon")],42,YY)),[[ic,!G(h)(x.hideNavigation,x.type)]]):de("",!0)],46,qY)}}}),vm=Kt({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(t){const e=t,n=le(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=le(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,s)=>(W(),ee("div",{class:tt({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0})},[(W(!0),ee(Ne,null,Ft(n.value,(o,a)=>(W(),ee("div",{key:o,class:tt(r.value)},[_e(i.$slots,"default",{instance:o,index:a})],2))),128))],2))}}),GY=["aria-label","aria-disabled"],wc=Kt({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=fe(null);return vn(()=>n("set-ref",r)),(i,s)=>(W(),ee("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:s[0]||(s[0]=o=>i.$emit("activate")),onKeydown:[s[1]||(s[1]=at(Lt(o=>i.$emit("activate"),["prevent"]),["enter"])),s[2]||(s[2]=at(Lt(o=>i.$emit("activate"),["prevent"]),["space"]))]},[Ce("span",{class:tt(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[_e(i.$slots,"default")],2)],40,GY))}}),QY={class:"dp--year-mode-picker"},XY=["aria-label"],Rx=Kt({__name:"YearModePicker",props:{...Mi,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:s}=mm(),{defaultedConfig:o,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:u}=In(r),{showTransition:c,transitionName:h}=zd(u),f=(b=!1,A)=>{n("toggle-year-picker",{flow:b,show:A})},p=b=>{n("year-select",b)},g=(b=!1)=>{n("handle-year",b)};return(b,A)=>{var R,k,T;return W(),ee("div",QY,[G(s)(G(a),t.instance)?(W(),qe(wc,{key:0,ref:"mpPrevIconRef","aria-label":(R=G(l))==null?void 0:R.prevYear,disabled:t.isDisabled(!1),onActivate:A[0]||(A[0]=S=>g(!1))},{default:Qe(()=>[b.$slots["arrow-left"]?_e(b.$slots,"arrow-left",{key:0}):de("",!0),b.$slots["arrow-left"]?de("",!0):(W(),qe(G(lb),{key:1}))]),_:3},8,["aria-label","disabled"])):de("",!0),Ce("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(k=G(l))==null?void 0:k.openYearsOverlay,onClick:A[1]||(A[1]=()=>f(!1)),onKeydown:A[2]||(A[2]=at(()=>f(!1),["enter"]))},[b.$slots.year?_e(b.$slots,"year",{key:0,year:t.year}):de("",!0),b.$slots.year?de("",!0):(W(),ee(Ne,{key:1},[Dn(dt(t.year),1)],64))],40,XY),G(i)(G(a),t.instance)?(W(),qe(wc,{key:1,ref:"mpNextIconRef","aria-label":(T=G(l))==null?void 0:T.nextYear,disabled:t.isDisabled(!0),onActivate:A[3]||(A[3]=S=>g(!0))},{default:Qe(()=>[b.$slots["arrow-right"]?_e(b.$slots,"arrow-right",{key:0}):de("",!0),b.$slots["arrow-right"]?de("",!0):(W(),qe(G(ub),{key:1}))]),_:3},8,["aria-label","disabled"])):de("",!0),et(So,{name:G(h)(t.showYearPicker),css:G(c)},{default:Qe(()=>[t.showYearPicker?(W(),qe(Yd,{key:0,items:t.items,"text-input":b.textInput,"esc-close":b.escClose,config:b.config,"is-last":b.autoApply&&!G(o).keepActionRow,"hide-navigation":b.hideNavigation,type:"year",onToggle:f,onSelected:A[4]||(A[4]=S=>p(S))},Zn({"button-icon":Qe(()=>[b.$slots["calendar-icon"]?_e(b.$slots,"calendar-icon",{key:0}):de("",!0),b.$slots["calendar-icon"]?de("",!0):(W(),qe(G(fu),{key:1}))]),_:2},[b.$slots["year-overlay-value"]?{name:"item",fn:Qe(({item:S})=>[_e(b.$slots,"year-overlay-value",{text:S.text,value:S.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation"])):de("",!0)]),_:3},8,["name","css"])])}}}),yb=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>Rt(t,r))){const r=e.value.filter(i=>!Rt(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},_b=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?Xn(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),t.value=r,r},ym=(t,e,n,r)=>{t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply")},Dx=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>Pi(ye(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=Pi(ye(t.value),t.timezone))},xx=({multiCalendars:t,highlight:e,calendars:n,modelValue:r,props:i,year:s,month:o,emit:a})=>{const l=le(()=>gb(i.yearRange,i.reverseYears)),u=fe([!1]),c=le(()=>(S,M)=>{const L=on(wi(new Date),{month:o.value(S),year:s.value(S)});return Ax(L,i.maxDate,i.minDate,i.preventMinMaxNavigation,M)}),h=()=>{for(let S=0;S<t.value.count;S++)if(S===0)n.value[S]=n.value[0];else{const M=on(ye(),n.value[S-1]);n.value[S]={month:Et(M),year:ut(eb(M,1))}}},f=S=>{if(!S)return h();const M=on(ye(),n.value[S]);return n.value[0].year=ut(mx(M,t.value.count-1)),h()},p=S=>i.focusStartDate?S[0]:S[1]?S[1]:S[0],g=()=>{if(r.value){const S=Array.isArray(r.value)?p(r.value):r.value;n.value[0]={month:Et(S),year:ut(S)}}};vn(()=>{g(),t.value.count&&h()});const b=(S,M)=>{n.value[M].year=S,t.value.count&&!t.value.solo&&f(M)},A=le(()=>S=>Gl(l.value,M=>{const L=s.value(S)===M.value,I=rd(M.value,Ql(i.minDate),Ql(i.maxDate)),E=vb(e.value,M.value);return{active:L,disabled:I,highlighted:E}})),R=(S,M)=>{b(S,M),T(M)},k=(S,M=!1)=>{if(!c.value(S,M)){const L=M?s.value(S)+1:s.value(S)-1;b(L,S)}},T=(S,M=!1,L)=>{M||a("reset-flow"),L!==void 0?u.value[S]=L:u.value[S]=!u.value[S],u.value||a("overlay-closed")};return{isDisabled:c,groupedYears:A,showYearPicker:u,selectYear:b,toggleYearPicker:T,handleYearSelect:R,handleYear:k}},JY=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,defaultedHighlight:o}=In(t),{modelValue:a,year:l,month:u,calendars:c}=Kd(t,e),h=le(()=>bx(t.formatLocale,t.locale,t.monthNameFormat)),f=fe(null),{selectYear:p,groupedYears:g,showYearPicker:b,toggleYearPicker:A,handleYearSelect:R,handleYear:k,isDisabled:T}=xx({modelValue:a,multiCalendars:n,highlight:o,calendars:c,year:l,month:u,props:t,emit:e});vn(()=>{t.startDate&&(a.value&&t.focusStartDate||!a.value)&&p(ut(ye(t.startDate)),0)});const S=F=>F?{month:Et(F),year:ut(F)}:{month:null,year:null},M=()=>a.value?Array.isArray(a.value)?a.value.map(F=>S(F)):S(a.value):S(),L=(F,U)=>{const x=c.value[F],O=M();return Array.isArray(O)?O.some(z=>z.year===(x==null?void 0:x.year)&&z.month===U):(x==null?void 0:x.year)===O.year&&U===O.month},I=(F,U,x)=>{var O,z;const K=M();return Array.isArray(K)?l.value(U)===((O=K[x])==null?void 0:O.year)&&F===((z=K[x])==null?void 0:z.month):!1},E=(F,U)=>{if(t.range){const x=M();if(Array.isArray(a.value)&&Array.isArray(x)){const O=I(F,U,0)||I(F,U,1),z=_s(wi(ye()),F,l.value(U));return pm(a.value,f.value,z)&&!O}return!1}return!1},y=le(()=>F=>Gl(h.value,U=>{const x=L(F,U.value),O=rd(U.value,Tx(l.value(F),t.minDate),Ex(l.value(F),t.maxDate))||yY(t.disabledDates,l.value(F)).includes(U.value),z=E(U.value,F),K=Px(o.value,U.value,l.value(F));return{active:x,disabled:O,isBetween:z,highlighted:K}})),v=(F,U)=>_s(wi(ye()),F,l.value(U)),w=(F,U)=>{const x=a.value?a.value:wi(new Date);a.value=_s(x,F,l.value(U)),e("auto-apply")},C=(F,U)=>{const x=_b(a,v(F,U),e);ym(x,e,t.autoApply,t.modelAuto)},P=(F,U)=>{yb(v(F,U),a,t.multiDatesLimit),e("auto-apply",!0)},q=(F,U)=>(c.value[U].month=F,j(U,c.value[U].year,F),t.multiDates?P(F,U):t.range?C(F,U):w(F,U)),$=(F,U)=>{p(F,U),j(U,F,null)},j=(F,U,x)=>{let O=x;if(!O&&O!==0){const z=M();O=Array.isArray(z)?z[F].month:z.month}e("update-month-year",{instance:F,year:U,month:O})};return{groupedMonths:y,groupedYears:g,year:l,isDisabled:T,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,showYearPicker:b,modelValue:a,presetDate:(F,U)=>{Dx({value:F,modelValue:a,range:t.range,timezone:U?void 0:t.timezone}),e("auto-apply")},setHoverDate:(F,U)=>{f.value=v(F,U)},selectMonth:q,selectYear:$,toggleYearPicker:A,handleYearSelect:R,handleYear:k,getModelMonthYear:M}},ZY=Kt({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Mi},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","mount"],setup(t,{expose:e,emit:n}){const r=n,i=Ea(),s=Gr(i,"yearMode"),o=t;vn(()=>{o.shadow||r("mount",null)});const{groupedMonths:a,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:h,defaultedConfig:f,showYearPicker:p,modelValue:g,presetDate:b,setHoverDate:A,selectMonth:R,selectYear:k,toggleYearPicker:T,handleYearSelect:S,handleYear:M,getModelMonthYear:L}=JY(o,r);return e({getSidebarProps:()=>({modelValue:g,year:u,getModelMonthYear:L,selectMonth:R,selectYear:k,handleYear:M}),presetDate:b,toggleYearPicker:I=>T(0,I)}),(I,E)=>(W(),qe(vm,{"multi-calendars":G(h).count,stretch:""},{default:Qe(({instance:y})=>[I.$slots["month-year"]?_e(I.$slots,"month-year",bn(pe({key:0},{year:G(u),months:G(a)(y),years:G(l)(y),selectMonth:G(R),selectYear:G(k),instance:y}))):(W(),qe(Yd,{key:1,items:G(a)(y),"arrow-navigation":I.arrowNavigation,"is-last":I.autoApply&&!G(f).keepActionRow,"esc-close":I.escClose,height:G(f).modeHeight,config:I.config,"no-overlay-focus":!!(I.noOverlayFocus||I.textInput),"use-relative":"",type:"month",onSelected:v=>G(R)(v,y),onHoverValue:v=>G(A)(v,y)},{header:Qe(()=>[et(Rx,pe(I.$props,{items:G(l)(y),instance:y,"show-year-picker":G(p)[y],year:G(u)(y),"is-disabled":v=>G(c)(y,v),onHandleYear:v=>G(M)(y,v),onYearSelect:v=>G(S)(v,y),onToggleYearPicker:v=>G(T)(y,v==null?void 0:v.flow,v==null?void 0:v.show)}),Zn({_:2},[Ft(G(s),(v,w)=>({name:v,fn:Qe(C=>[_e(I.$slots,v,bn(Jn(C)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars"]))}}),eG=(t,e)=>{const{modelValue:n}=Kd(t,e),r=fe(null),{defaultedHighlight:i,defaultedFilters:s}=In(t),o=fe();vn(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(o.value=ut(ye(t.startDate)))});const a=h=>Array.isArray(n.value)?n.value.some(f=>ut(f)===h):n.value?ut(n.value)===h:!1,l=h=>t.range&&Array.isArray(n.value)?pm(n.value,r.value,c(h)):!1,u=le(()=>Gl(gb(t.yearRange,t.reverseYears),h=>{const f=a(h.value),p=rd(h.value,Ql(t.minDate),Ql(t.maxDate))||s.value.years.includes(h.value),g=l(h.value)&&!f,b=vb(i.value,h.value);return{active:f,disabled:p,isBetween:g,highlighted:b}})),c=h=>zi(wi(new Date),h);return{groupedYears:u,modelValue:n,focusYear:o,setHoverValue:h=>{r.value=zi(wi(new Date),h)},selectYear:h=>{var f;if(t.multiDates)return n.value?Array.isArray(n.value)&&(((f=n.value)==null?void 0:f.map(p=>ut(p))).includes(h)?n.value=n.value.filter(p=>ut(p)!==h):n.value.push(zi(_r(ye()),h))):n.value=[zi(_r(ye()),h)],e("auto-apply",!0);if(t.range){const p=_b(n,c(h),e);return ym(p,e,t.autoApply,t.modelAuto)}n.value=c(h),e("auto-apply")}}},tG=Kt({compatConfig:{MODE:3},__name:"YearPicker",props:{...Mi},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:s,modelValue:o,focusYear:a,selectYear:l,setHoverValue:u}=eG(i,r),{defaultedConfig:c}=In(i);return e({getSidebarProps:()=>({modelValue:o,selectYear:l})}),(h,f)=>(W(),ee("div",null,[h.$slots["month-year"]?_e(h.$slots,"month-year",bn(pe({key:0},{years:G(s),selectYear:G(l)}))):(W(),qe(Yd,{key:1,items:G(s),"is-last":h.autoApply&&!G(c).keepActionRow,height:G(c).modeHeight,config:h.config,"no-overlay-focus":!!(h.noOverlayFocus||h.textInput),"focus-value":G(a),type:"year","use-relative":"",onSelected:G(l),onHoverValue:G(u)},Zn({_:2},[h.$slots["year-overlay-value"]?{name:"item",fn:Qe(({item:p})=>[_e(h.$slots,"year-overlay-value",{text:p.text,value:p.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),nG={key:0,class:"dp__time_input"},rG=["aria-label","onKeydown","onClick"],iG=Ce("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),sG=Ce("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),oG=["aria-label","disabled","onKeydown","onClick"],aG=["aria-label","onKeydown","onClick"],lG=Ce("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),uG=Ce("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),cG={key:0},dG=["aria-label","onKeydown"],hG=Kt({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Mi},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:s,setTimePickerBackRef:o}=Po(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c}=In(i),{transitionName:h,showTransition:f}=zd(l),p=Rr({hours:!1,minutes:!1,seconds:!1}),g=fe("AM"),b=fe(null),A=fe([]);vn(()=>{r("mounted")});const R=H=>on(new Date,{hours:H.hours,minutes:H.minutes,seconds:i.enableSeconds?H.seconds:0,milliseconds:0}),k=le(()=>H=>q(H,i[H])||S(H,i[H])),T=le(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),S=(H,Q)=>i.range&&!i.disableTimeRangeValidation?!i.validateTime(H,Q):!1,M=(H,Q)=>{if(i.range&&!i.disableTimeRangeValidation){const ie=Q?+i[`${H}Increment`]:-+i[`${H}Increment`],X=i[H]+ie;return!i.validateTime(H,X)}return!1},L=le(()=>H=>!j(+i[H]+ +i[`${H}Increment`],H)||M(H,!0)),I=le(()=>H=>!j(+i[H]-+i[`${H}Increment`],H)||M(H,!1)),E=(H,Q)=>YD(on(ye(),H),Q),y=(H,Q)=>PK(on(ye(),H),Q),v=le(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),w=le(()=>{const H=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return i.enableSeconds?H.concat([{type:"",separator:!0},{type:"seconds"}]):H}),C=le(()=>w.value.filter(H=>!H.separator)),P=le(()=>H=>{if(H==="hours"){const Q=z(+i.hours);return{text:Q<10?`0${Q}`:`${Q}`,value:Q}}return{text:i[H]<10?`0${i[H]}`:`${i[H]}`,value:i[H]}}),q=(H,Q)=>{var ie;if(!i.disabledTimesConfig)return!1;const X=i.disabledTimesConfig(i.order,H==="hours"?Q:void 0);return X[H]?!!((ie=X[H])!=null&&ie.includes(Q)):!0},$=H=>{const Q=i.is24?24:12,ie=H==="hours"?Q:60,X=+i[`${H}GridIncrement`],ce=H==="hours"&&!i.is24?X:0,be=[];for(let ne=ce;ne<ie;ne+=X)be.push({value:ne,text:ne<10?`0${ne}`:`${ne}`});return H==="hours"&&!i.is24&&be.push({value:0,text:"12"}),Gl(be,ne=>({active:!1,disabled:u.value.times[H].includes(ne.value)||!j(ne.value,H)||q(H,ne.value)||S(H,ne.value)}))},j=(H,Q)=>{const ie=i.minTime?R(Ng(i.minTime)):null,X=i.maxTime?R(Ng(i.maxTime)):null,ce=R(Ng(T.value,Q,H));return ie&&X?(nd(ce,X)||ol(ce,X))&&(td(ce,ie)||ol(ce,ie)):ie?td(ce,ie)||ol(ce,ie):X?nd(ce,X)||ol(ce,X):!0},F=H=>i[`no${H[0].toUpperCase()+H.slice(1)}Overlay`],U=H=>{F(H)||(p[H]=!p[H],p[H]||r("overlay-closed"))},x=H=>H==="hours"?Oi:H==="minutes"?Zi:Kl,O=(H,Q=!0)=>{const ie=Q?E:y,X=Q?+i[`${H}Increment`]:-+i[`${H}Increment`];j(+i[H]+X,H)&&r(`update:${H}`,x(H)(ie({[H]:+i[H]},{[H]:+i[`${H}Increment`]})))},z=H=>i.is24?H:(H>=12?g.value="PM":g.value="AM",iY(H)),K=()=>{g.value==="PM"?(g.value="AM",r("update:hours",i.hours-12)):(g.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",g.value)},te=H=>{p[H]=!0},he=(H,Q,ie)=>{if(H&&i.arrowNavigation){Array.isArray(A.value[Q])?A.value[Q][ie]=H:A.value[Q]=[H];const X=A.value.reduce((ce,be)=>be.map((ne,D)=>[...ce[D]||[],be[D]]),[]);o(i.closeTimePickerBtn),b.value&&(X[1]=X[1].concat(b.value)),s(X,i.order)}},Z=(H,Q)=>(U(H),H==="hours"&&!i.is24?r(`update:${H}`,g.value==="PM"?Q+12:Q):r(`update:${H}`,Q));return e({openChildCmp:te}),(H,Q)=>{var ie;return H.disabled?de("",!0):(W(),ee("div",nG,[(W(!0),ee(Ne,null,Ft(w.value,(X,ce)=>{var be,ne,D;return W(),ee("div",{key:ce,class:tt(v.value)},[X.separator?(W(),ee(Ne,{key:0},[Dn(" : ")],64)):(W(),ee(Ne,{key:1},[Ce("button",{ref_for:!0,ref:V=>he(V,ce,0),type:"button",class:tt({dp__btn:!0,dp__inc_dec_button:!H.timePickerInline,dp__inc_dec_button_inline:H.timePickerInline,dp__tp_inline_btn_top:H.timePickerInline,dp__inc_dec_button_disabled:L.value(X.type)}),"aria-label":(be=G(a))==null?void 0:be.incrementValue(X.type),tabindex:"0",onKeydown:[at(Lt(V=>O(X.type),["prevent"]),["enter"]),at(Lt(V=>O(X.type),["prevent"]),["space"])],onClick:V=>O(X.type)},[i.timePickerInline?(W(),ee(Ne,{key:1},[iG,sG],64)):(W(),ee(Ne,{key:0},[H.$slots["arrow-up"]?_e(H.$slots,"arrow-up",{key:0}):de("",!0),H.$slots["arrow-up"]?de("",!0):(W(),qe(G(db),{key:1}))],64))],42,rG),Ce("button",{ref_for:!0,ref:V=>he(V,ce,1),type:"button","aria-label":(ne=G(a))==null?void 0:ne.openTpOverlay(X.type),class:tt({dp__time_display:!0,dp__time_display_block:!H.timePickerInline,dp__time_display_inline:H.timePickerInline,"dp--time-invalid":k.value(X.type),"dp--time-overlay-btn":!k.value(X.type)}),disabled:F(X.type),tabindex:"0",onKeydown:[at(Lt(V=>U(X.type),["prevent"]),["enter"]),at(Lt(V=>U(X.type),["prevent"]),["space"])],onClick:V=>U(X.type)},[H.$slots[X.type]?_e(H.$slots,X.type,{key:0,text:P.value(X.type).text,value:P.value(X.type).value}):de("",!0),H.$slots[X.type]?de("",!0):(W(),ee(Ne,{key:1},[Dn(dt(P.value(X.type).text),1)],64))],42,oG),Ce("button",{ref_for:!0,ref:V=>he(V,ce,2),type:"button",class:tt({dp__btn:!0,dp__inc_dec_button:!H.timePickerInline,dp__inc_dec_button_inline:H.timePickerInline,dp__tp_inline_btn_bottom:H.timePickerInline,dp__inc_dec_button_disabled:I.value(X.type)}),"aria-label":(D=G(a))==null?void 0:D.decrementValue(X.type),tabindex:"0",onKeydown:[at(Lt(V=>O(X.type,!1),["prevent"]),["enter"]),at(Lt(V=>O(X.type,!1),["prevent"]),["space"])],onClick:V=>O(X.type,!1)},[i.timePickerInline?(W(),ee(Ne,{key:1},[lG,uG],64)):(W(),ee(Ne,{key:0},[H.$slots["arrow-down"]?_e(H.$slots,"arrow-down",{key:0}):de("",!0),H.$slots["arrow-down"]?de("",!0):(W(),qe(G(hb),{key:1}))],64))],42,aG)],64))],2)}),128)),H.is24?de("",!0):(W(),ee("div",cG,[H.$slots["am-pm-button"]?_e(H.$slots,"am-pm-button",{key:0,toggle:K,value:g.value}):de("",!0),H.$slots["am-pm-button"]?de("",!0):(W(),ee("button",{key:1,ref_key:"amPmButton",ref:b,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(ie=G(a))==null?void 0:ie.amPmButton,tabindex:"0",onClick:K,onKeydown:[at(Lt(K,["prevent"]),["enter"]),at(Lt(K,["prevent"]),["space"])]},dt(g.value),41,dG))])),(W(!0),ee(Ne,null,Ft(C.value,(X,ce)=>(W(),qe(So,{key:ce,name:G(h)(p[X.type]),css:G(f)},{default:Qe(()=>[p[X.type]?(W(),qe(Yd,{key:0,items:$(X.type),"is-last":H.autoApply&&!G(c).keepActionRow,"esc-close":H.escClose,type:X.type,"text-input":H.textInput,config:H.config,"arrow-navigation":H.arrowNavigation,onSelected:be=>Z(X.type,be),onToggle:be=>U(X.type),onResetFlow:Q[0]||(Q[0]=be=>H.$emit("reset-flow"))},Zn({"button-icon":Qe(()=>[H.$slots["clock-icon"]?_e(H.$slots,"clock-icon",{key:0}):de("",!0),H.$slots["clock-icon"]?de("",!0):(W(),qe(qr(H.timePickerInline?G(fu):G(cb)),{key:1}))]),_:2},[H.$slots[`${X.type}-overlay-value`]?{name:"item",fn:Qe(({item:be})=>[_e(H.$slots,`${X.type}-overlay-value`,{text:be.text,value:be.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","onSelected","onToggle"])):de("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),fG={class:"dp--tp-wrap"},pG=["aria-label","tabindex"],mG=["tabindex"],gG=["aria-label"],Nx=Kt({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Mi},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:s,setTimePicker:o}=Po(),a=Ea(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:h}=In(i),{transitionName:f,showTransition:p}=zd(l),{hideNavigationButtons:g}=mm(),b=fe(null),A=fe(null),R=fe([]),k=fe(null);vn(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?s([Nn(b.value)],"time"):o(!0,i.timePicker)});const T=le(()=>i.range&&i.modelAuto?wx(i.internalModelValue):!0),S=fe(!1),M=$=>({hours:Array.isArray(i.hours)?i.hours[$]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[$]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[$]:i.seconds}),L=le(()=>{const $=[];if(i.range)for(let j=0;j<2;j++)$.push(M(j));else $.push(M(0));return $}),I=($,j=!1,F="")=>{j||r("reset-flow"),S.value=$,r($?"overlay-opened":"overlay-closed"),i.arrowNavigation&&o($),jn(()=>{F!==""&&R.value[0]&&R.value[0].openChildCmp(F)})},E=le(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!h.value.keepActionRow})),y=Gr(a,"timePicker"),v=($,j,F)=>i.range?j===0?[$,L.value[1][F]]:[L.value[0][F],$]:$,w=$=>{r("update:hours",$)},C=$=>{r("update:minutes",$)},P=$=>{r("update:seconds",$)},q=()=>{if(k.value&&!c.value.enabled&&!i.noOverlayFocus){const $=oY(k.value);$&&$.focus({preventScroll:!0})}};return e({toggleTimePicker:I}),($,j)=>{var F;return W(),ee("div",fG,[!$.timePicker&&!$.timePickerInline?Ko((W(),ee("button",{key:0,ref_key:"openTimePickerBtn",ref:b,type:"button",class:tt(E.value),"aria-label":(F=G(u))==null?void 0:F.openTimePicker,tabindex:$.noOverlayFocus?void 0:0,onKeydown:[j[0]||(j[0]=at(U=>I(!0),["enter"])),j[1]||(j[1]=at(U=>I(!0),["space"]))],onClick:j[2]||(j[2]=U=>I(!0))},[$.$slots["clock-icon"]?_e($.$slots,"clock-icon",{key:0}):de("",!0),$.$slots["clock-icon"]?de("",!0):(W(),qe(G(cb),{key:1}))],42,pG)),[[ic,!G(g)($.hideNavigation,"time")]]):de("",!0),et(So,{name:G(f)(S.value),css:G(p)&&!$.timePickerInline},{default:Qe(()=>{var U;return[S.value||$.timePicker||$.timePickerInline?(W(),ee("div",{key:0,ref_key:"overlayRef",ref:k,class:tt({dp__overlay:!$.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!$.timePickerInline,"dp--overlay-relative":i.timePicker}),style:Pr($.timePicker?{height:`${G(h).modeHeight}px`}:void 0),tabindex:$.timePickerInline?void 0:0},[Ce("div",{class:tt($.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[$.$slots["time-picker-overlay"]?_e($.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:w,setMinutes:C,setSeconds:P}):de("",!0),$.$slots["time-picker-overlay"]?de("",!0):(W(),ee("div",{key:1,class:tt($.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(W(!0),ee(Ne,null,Ft(L.value,(x,O)=>Ko((W(),qe(hG,pe({key:O},{...$.$props,order:O,hours:x.hours,minutes:x.minutes,seconds:x.seconds,closeTimePickerBtn:A.value,disabledTimesConfig:t.disabledTimesConfig,disabled:O===0?$.fixedStart:$.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:R,"validate-time":(z,K)=>t.validateTime(z,v(K,O,z)),"onUpdate:hours":z=>w(v(z,O,"hours")),"onUpdate:minutes":z=>C(v(z,O,"minutes")),"onUpdate:seconds":z=>P(v(z,O,"seconds")),onMounted:q,onOverlayClosed:q,onAmPmChange:j[3]||(j[3]=z=>$.$emit("am-pm-change",z))}),Zn({_:2},[Ft(G(y),(z,K)=>({name:z,fn:Qe(te=>[_e($.$slots,z,bn(Jn(te)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[ic,O===0?!0:T.value]])),128))],2)),!$.timePicker&&!$.timePickerInline?Ko((W(),ee("button",{key:2,ref_key:"closeTimePickerBtn",ref:A,type:"button",class:tt(E.value),"aria-label":(U=G(u))==null?void 0:U.closeTimePicker,tabindex:"0",onKeydown:[j[4]||(j[4]=at(x=>I(!1),["enter"])),j[5]||(j[5]=at(x=>I(!1),["space"]))],onClick:j[6]||(j[6]=x=>I(!1))},[$.$slots["calendar-icon"]?_e($.$slots,"calendar-icon",{key:0}):de("",!0),$.$slots["calendar-icon"]?de("",!0):(W(),qe(G(fu),{key:1}))],42,gG)),[[ic,!G(g)($.hideNavigation,"time")]]):de("",!0)],2)],14,mG)):de("",!0)]}),_:3},8,["name","css"])])}}}),Mx=(t,e,n,r)=>{const i=(R,k)=>Array.isArray(e[R])?e[R][k]:e[R],s=R=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[R]:e.seconds:0,o=(R,k)=>R?k!==void 0?fo(R,i("hours",k),i("minutes",k),s(k)):fo(R,e.hours,e.minutes,s()):ab(ye(),s(k)),a=(R,k)=>{e[R]=k},l=(R,k)=>{const T=Object.fromEntries(Object.keys(e).map(S=>S===R?[S,k]:[S,e[S]].slice()));if(t.range&&!t.disableTimeRangeValidation){const S=L=>n.value?fo(n.value[L],T.hours[L],T.minutes[L],T.seconds[L]):null,M=L=>ob(n.value[L],0);return!(Rt(S(0),S(1))&&(td(S(0),M(1))||nd(S(1),M(0))))}return!0},u=(R,k)=>{l(R,k)&&(a(R,k),r&&r())},c=R=>{u("hours",R)},h=R=>{u("minutes",R)},f=R=>{u("seconds",R)},p=(R,k,T,S)=>{k&&c(R),!k&&!T&&h(R),T&&f(R),n.value&&S(n.value)},g=R=>{if(R){const k=Array.isArray(R),T=k?[+R[0].hours,+R[1].hours]:+R.hours,S=k?[+R[0].minutes,+R[1].minutes]:+R.minutes,M=k?[+R[0].seconds,+R[1].seconds]:+R.seconds;a("hours",T),a("minutes",S),t.enableSeconds&&a("seconds",M)}},b=(R,k)=>{const T={hours:Array.isArray(e.hours)?e.hours[R]:e.hours,disabledArr:[]};return(k||k===0)&&(T.hours=k),Array.isArray(t.disabledTimes)&&(T.disabledArr=t.range&&Array.isArray(t.disabledTimes[R])?t.disabledTimes[R]:t.disabledTimes),T},A=le(()=>(R,k)=>{var T;if(Array.isArray(t.disabledTimes)){const{disabledArr:S,hours:M}=b(R,k),L=S.filter(I=>+I.hours===M);return((T=L[0])==null?void 0:T.minutes)==="*"?{hours:[M],minutes:void 0,seconds:void 0}:{hours:[],minutes:(L==null?void 0:L.map(I=>+I.minutes))??[],seconds:(L==null?void 0:L.map(I=>I.seconds?+I.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:a,updateHours:c,updateMinutes:h,updateSeconds:f,getSetDateTime:o,updateTimeValues:p,getSecondsValue:s,assignStartTime:g,validateTime:l,disabledTimesConfig:A}},vG=(t,e)=>{const{modelValue:n,time:r}=Kd(t,e),{defaultedStartTime:i}=In(t),{updateTimeValues:s,getSetDateTime:o,setTime:a,assignStartTime:l,disabledTimesConfig:u,validateTime:c}=Mx(t,r,n),h=k=>{const{hours:T,minutes:S,seconds:M}=k;return{hours:+T,minutes:+S,seconds:M?+M:0}},f=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const T=h(t.startTime[0]),S=h(t.startTime[1]);return[on(ye(),T),on(ye(),S)]}const k=h(t.startTime);return on(ye(),k)}return t.range?[null,null]:null},p=()=>{if(t.range){const[k,T]=f();n.value=[o(k,0),o(T,1)]}else n.value=o(f())},g=k=>Array.isArray(k)?[Zo(ye(k[0])),Zo(ye(k[1]))]:[Zo(k??ye())],b=(k,T,S)=>{a("hours",k),a("minutes",T),a("seconds",t.enableSeconds?S:0)},A=()=>{const[k,T]=g(n.value);return t.range?b([k.hours,T.hours],[k.minutes,T.minutes],[k.seconds,T.minutes]):b(k.hours,k.minutes,k.seconds)};vn(()=>{if(!t.shadow)return l(i.value),n.value?A():p()});const R=()=>{Array.isArray(n.value)?n.value=n.value.map((k,T)=>k&&o(k,T)):n.value=o(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:u,updateTime:(k,T=!0,S=!1)=>{s(k,T,S,R)},validateTime:c}},yG=Kt({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Mi},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Ea(),o=Gr(s,"timePicker"),{time:a,modelValue:l,disabledTimesConfig:u,updateTime:c,validateTime:h}=vG(i,r);return e({getSidebarProps:()=>({modelValue:l,time:a,updateTime:c})}),(f,p)=>(W(),qe(vm,{"multi-calendars":0,stretch:""},{default:Qe(()=>[et(Nx,pe(f.$props,{hours:G(a).hours,minutes:G(a).minutes,seconds:G(a).seconds,"internal-model-value":f.internalModelValue,"disabled-times-config":G(u),"validate-time":G(h),"onUpdate:hours":p[0]||(p[0]=g=>G(c)(g)),"onUpdate:minutes":p[1]||(p[1]=g=>G(c)(g,!1)),"onUpdate:seconds":p[2]||(p[2]=g=>G(c)(g,!1,!0)),onAmPmChange:p[3]||(p[3]=g=>f.$emit("am-pm-change",g))}),Zn({_:2},[Ft(G(o),(g,b)=>({name:g,fn:Qe(A=>[_e(f.$slots,g,bn(Jn(A)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),_G={class:"dp__month_year_row"},bG=["aria-label","onClick","onKeydown"],wG=Kt({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Mi},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:s,defaultedAriaLabels:o,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c}=In(i),{transitionName:h,showTransition:f}=zd(s),{buildMatrix:p}=Po(),{handleMonthYearChange:g,isDisabled:b,updateMonthYear:A}=RY(i,r),{showLeftIcon:R,showRightIcon:k}=mm(),T=fe(!1),S=fe(!1),M=fe([null,null,null,null]);vn(()=>{r("mount")});const L=O=>({get:()=>i[O],set:z=>{const K=O===gi.month?gi.year:gi.month;r("update-month-year",{[O]:z,[K]:i[K]}),O===gi.month?q(!0):$(!0)}}),I=le(L(gi.month)),E=le(L(gi.year)),y=le(()=>O=>({month:i.month,year:i.year,items:O===gi.month?i.months:i.years,instance:i.instance,updateMonthYear:A,toggle:O===gi.month?q:$})),v=le(()=>i.months.find(z=>z.value===i.month)||{text:"",value:0}),w=le(()=>Gl(i.months,O=>{const z=i.month===O.value,K=rd(O.value,Tx(i.year,i.minDate),Ex(i.year,i.maxDate))||l.value.months.includes(O.value),te=Px(c.value,O.value,i.year);return{active:z,disabled:K,highlighted:te}})),C=le(()=>Gl(i.years,O=>{const z=i.year===O.value,K=rd(O.value,Ql(i.minDate),Ql(i.maxDate))||l.value.years.includes(O.value),te=vb(c.value,O.value);return{active:z,disabled:K,highlighted:te}})),P=(O,z)=>{z!==void 0?O.value=z:O.value=!O.value,O.value||r("overlay-closed")},q=(O=!1,z)=>{j(O),P(T,z)},$=(O=!1,z)=>{j(O),P(S,z)},j=O=>{O||r("reset-flow")},F=(O,z)=>{i.arrowNavigation&&(M.value[z]=Nn(O),p(M.value,"monthYear"))},U=le(()=>{var O,z;return[{type:gi.month,index:1,toggle:q,modelValue:I.value,updateModelValue:K=>I.value=K,text:v.value.text,showSelectionGrid:T.value,items:w.value,ariaLabel:(O=o.value)==null?void 0:O.openMonthsOverlay},{type:gi.year,index:2,toggle:$,modelValue:E.value,updateModelValue:K=>E.value=K,text:i.year,showSelectionGrid:S.value,items:C.value,ariaLabel:(z=o.value)==null?void 0:z.openYearsOverlay}]}),x=le(()=>i.disableYearSelect?[U.value[0]]:i.yearFirst?[...U.value].reverse():U.value);return e({toggleMonthPicker:q,toggleYearPicker:$,handleMonthYearChange:g}),(O,z)=>{var K,te,he;return W(),ee("div",_G,[O.$slots["month-year"]?_e(O.$slots,"month-year",bn(pe({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:G(A),handleMonthYearChange:G(g),instance:t.instance}))):(W(),ee(Ne,{key:1},[G(R)(G(a),t.instance)&&!O.vertical?(W(),qe(wc,{key:0,"aria-label":(K=G(o))==null?void 0:K.prevMonth,disabled:G(b)(!1),onActivate:z[0]||(z[0]=Z=>G(g)(!1,!0)),onSetRef:z[1]||(z[1]=Z=>F(Z,0))},{default:Qe(()=>[O.$slots["arrow-left"]?_e(O.$slots,"arrow-left",{key:0}):de("",!0),O.$slots["arrow-left"]?de("",!0):(W(),qe(G(lb),{key:1}))]),_:3},8,["aria-label","disabled"])):de("",!0),Ce("div",{class:tt(["dp__month_year_wrap",{dp__year_disable_select:O.disableYearSelect}])},[(W(!0),ee(Ne,null,Ft(x.value,(Z,H)=>(W(),ee(Ne,{key:Z.type},[Ce("button",{ref_for:!0,ref:Q=>F(Q,H+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":Z.ariaLabel,onClick:Z.toggle,onKeydown:[at(Lt(Z.toggle,["prevent"]),["enter"]),at(Lt(Z.toggle,["prevent"]),["space"])]},[O.$slots[Z.type]?_e(O.$slots,Z.type,{key:0,text:Z.text,value:i[Z.type]}):de("",!0),O.$slots[Z.type]?de("",!0):(W(),ee(Ne,{key:1},[Dn(dt(Z.text),1)],64))],40,bG),et(So,{name:G(h)(Z.showSelectionGrid),css:G(f)},{default:Qe(()=>[Z.showSelectionGrid?(W(),qe(Yd,{key:0,items:Z.items,"arrow-navigation":O.arrowNavigation,"hide-navigation":O.hideNavigation,"is-last":O.autoApply&&!G(u).keepActionRow,"skip-button-ref":!1,config:O.config,type:Z.type,"header-refs":[],"esc-close":O.escClose,"text-input":O.textInput,onSelected:Z.updateModelValue,onToggle:Z.toggle},Zn({"button-icon":Qe(()=>[O.$slots["calendar-icon"]?_e(O.$slots,"calendar-icon",{key:0}):de("",!0),O.$slots["calendar-icon"]?de("",!0):(W(),qe(G(fu),{key:1}))]),_:2},[O.$slots[`${Z.type}-overlay-value`]?{name:"item",fn:Qe(({item:Q})=>[_e(O.$slots,`${Z.type}-overlay-value`,{text:Q.text,value:Q.value})]),key:"0"}:void 0,O.$slots[`${Z.type}-overlay`]?{name:"overlay",fn:Qe(()=>[_e(O.$slots,`${Z.type}-overlay`,bn(Jn(y.value(Z.type))))]),key:"1"}:void 0,O.$slots[`${Z.type}-overlay-header`]?{name:"header",fn:Qe(()=>[_e(O.$slots,`${Z.type}-overlay-header`,{toggle:Z.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","text-input","onSelected","onToggle"])):de("",!0)]),_:2},1032,["name","css"])],64))),128))],2),G(R)(G(a),t.instance)&&O.vertical?(W(),qe(wc,{key:1,"aria-label":(te=G(o))==null?void 0:te.prevMonth,disabled:G(b)(!1),onActivate:z[2]||(z[2]=Z=>G(g)(!1,!0))},{default:Qe(()=>[O.$slots["arrow-up"]?_e(O.$slots,"arrow-up",{key:0}):de("",!0),O.$slots["arrow-up"]?de("",!0):(W(),qe(G(db),{key:1}))]),_:3},8,["aria-label","disabled"])):de("",!0),G(k)(G(a),t.instance)?(W(),qe(wc,{key:2,ref:"rightIcon",disabled:G(b)(!0),"aria-label":(he=G(o))==null?void 0:he.nextMonth,onActivate:z[3]||(z[3]=Z=>G(g)(!0,!0)),onSetRef:z[4]||(z[4]=Z=>F(Z,O.disableYearSelect?2:3))},{default:Qe(()=>[O.$slots[O.vertical?"arrow-down":"arrow-right"]?_e(O.$slots,O.vertical?"arrow-down":"arrow-right",{key:0}):de("",!0),O.$slots[O.vertical?"arrow-down":"arrow-right"]?de("",!0):(W(),qe(qr(O.vertical?G(hb):G(ub)),{key:1}))]),_:3},8,["disabled","aria-label"])):de("",!0)],64))])}}}),TG=["aria-label"],EG={class:"dp__calendar_header",role:"row"},IG={key:0,class:"dp__calendar_header_item",role:"gridcell"},SG=Ce("div",{class:"dp__calendar_header_separator"},null,-1),CG=["aria-label"],AG={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},OG={class:"dp__cell_inner"},PG=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],kG=Kt({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Mi},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:s}=Po(),{defaultedTransitions:o,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:c}=In(i),h=fe(null),f=fe({bottom:"",left:"",transform:""}),p=fe([]),g=fe(null),b=fe(!0),A=fe(""),R=fe({startX:0,endX:0,startY:0,endY:0}),k=fe([]),T=fe({left:"50%"}),S=le(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),M=le(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):rY(i.formatLocale,i.locale,+i.weekStart));vn(()=>{r("mount",{cmp:"calendar",refs:p}),a.value.noSwipe||g.value&&(g.value.addEventListener("touchstart",$,{passive:!1}),g.value.addEventListener("touchend",j,{passive:!1}),g.value.addEventListener("touchmove",F,{passive:!1})),i.monthChangeOnScroll&&g.value&&g.value.addEventListener("wheel",O,{passive:!1})});const L=Z=>Z?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",I=(Z,H)=>{if(i.transitions){const Q=_r(_s(ye(),i.month,i.year));A.value=gr(_r(_s(ye(),Z,H)),Q)?o.value[L(!0)]:o.value[L(!1)],b.value=!1,jn(()=>{b.value=!0})}},E=le(()=>({[i.calendarClassName]:!!i.calendarClassName})),y=le(()=>Z=>{const H=sY(Z);return{dp__marker_dot:H.type==="dot",dp__marker_line:H.type==="line"}}),v=le(()=>Z=>Rt(Z,h.value)),w=le(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),C=le(()=>Z=>i.hideOffsetDates?Z.current:!0),P=async(Z,H,Q)=>{var ie,X;if(r("set-hover-date",Z),(X=(ie=Z.marker)==null?void 0:ie.tooltip)!=null&&X.length){const ce=Nn(p.value[H][Q]);if(ce){const{width:be,height:ne}=ce.getBoundingClientRect();h.value=Z.value;let D={left:`${be/2}px`},V=-50;if(await jn(),k.value[0]){const{left:B,width:oe}=k.value[0].getBoundingClientRect();B<0&&(D={left:"0"},V=0,T.value.left=`${be/2}px`),window.innerWidth<B+oe&&(D={right:"0"},V=0,T.value.left=`${oe-be/2}px`)}f.value={bottom:`${ne}px`,...D,transform:`translateX(${V}%)`},r("tooltip-open",Z.marker)}}},q=Z=>{h.value&&(h.value=null,f.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",Z.marker))},$=Z=>{R.value.startX=Z.changedTouches[0].screenX,R.value.startY=Z.changedTouches[0].screenY},j=Z=>{R.value.endX=Z.changedTouches[0].screenX,R.value.endY=Z.changedTouches[0].screenY,U()},F=Z=>{i.vertical&&!i.inline&&Z.preventDefault()},U=()=>{const Z=i.vertical?"Y":"X";Math.abs(R.value[`start${Z}`]-R.value[`end${Z}`])>10&&r("handle-swipe",R.value[`start${Z}`]>R.value[`end${Z}`]?"right":"left")},x=(Z,H,Q)=>{Z&&(Array.isArray(p.value[H])?p.value[H][Q]=Z:p.value[H]=[Z]),i.arrowNavigation&&s(p.value,"calendar")},O=Z=>{i.monthChangeOnScroll&&(Z.preventDefault(),r("handle-scroll",Z))},z=Z=>c.value.type==="local"?mz(Z.value,{weekStartsOn:+i.weekStart}):c.value.type==="iso"?dz(Z.value):typeof c.value.type=="function"?c.value.type(Z.value):"",K=Z=>{const H=Z[0];return c.value.hideOnOffsetDates?Z.some(Q=>Q.current)?z(H):"":z(H)},te=(Z,H)=>{ho(Z,a.value),r("select-date",H)},he=Z=>{ho(Z,a.value)};return e({triggerTransition:I}),(Z,H)=>{var Q;return W(),ee("div",{class:tt(w.value)},[Ce("div",{ref_key:"calendarWrapRef",ref:g,role:"grid",class:tt(E.value),"aria-label":(Q=G(l))==null?void 0:Q.calendarWrap},[(W(),ee(Ne,{key:0},[Ce("div",EG,[Z.weekNumbers?(W(),ee("div",IG,dt(Z.weekNumName),1)):de("",!0),(W(!0),ee(Ne,null,Ft(M.value,(ie,X)=>(W(),ee("div",{key:X,class:"dp__calendar_header_item",role:"gridcell"},[Z.$slots["calendar-header"]?_e(Z.$slots,"calendar-header",{key:0,day:ie,index:X}):de("",!0),Z.$slots["calendar-header"]?de("",!0):(W(),ee(Ne,{key:1},[Dn(dt(ie),1)],64))]))),128))]),SG,et(So,{name:A.value,css:!!Z.transitions},{default:Qe(()=>{var ie;return[b.value?(W(),ee("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((ie=G(l))==null?void 0:ie.calendarDays)||void 0},[(W(!0),ee(Ne,null,Ft(S.value,(X,ce)=>(W(),ee("div",{key:ce,class:"dp__calendar_row",role:"row"},[Z.weekNumbers?(W(),ee("div",AG,[Ce("div",OG,dt(K(X.days)),1)])):de("",!0),(W(!0),ee(Ne,null,Ft(X.days,(be,ne)=>{var D,V,B;return W(),ee("div",{id:be.value.toISOString().split("T")[0],ref_for:!0,ref:oe=>x(oe,ce,ne),key:ne+ce,role:"gridcell",class:"dp__calendar_item","aria-selected":be.classData.dp__active_date||be.classData.dp__range_start||be.classData.dp__range_start,"aria-disabled":be.classData.dp__cell_disabled||void 0,"aria-label":(V=(D=G(l))==null?void 0:D.day)==null?void 0:V.call(D,be),tabindex:"0",onClick:Lt(oe=>te(oe,be),["prevent"]),onKeydown:[at(oe=>Z.$emit("select-date",be),["enter"]),at(oe=>Z.$emit("handle-space",be),["space"])],onMouseenter:oe=>P(be,ce,ne),onMouseleave:oe=>q(be)},[Ce("div",{class:tt(["dp__cell_inner",be.classData])},[Z.$slots.day&&C.value(be)?_e(Z.$slots,"day",{key:0,day:+be.text,date:be.value}):de("",!0),Z.$slots.day?de("",!0):(W(),ee(Ne,{key:1},[Dn(dt(be.text),1)],64)),be.marker&&C.value(be)?(W(),ee(Ne,{key:2},[Z.$slots.marker?_e(Z.$slots,"marker",{key:0,marker:be.marker,day:+be.text,date:be.value}):(W(),ee("div",{key:1,class:tt(y.value(be.marker)),style:Pr(be.marker.color?{backgroundColor:be.marker.color}:{})},null,6))],64)):de("",!0),v.value(be.value)?(W(),ee("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:k,class:"dp__marker_tooltip",style:Pr(f.value)},[(B=be.marker)!=null&&B.tooltip?(W(),ee("div",{key:0,class:"dp__tooltip_content",onClick:he},[(W(!0),ee(Ne,null,Ft(be.marker.tooltip,(oe,se)=>(W(),ee("div",{key:se,class:"dp__tooltip_text"},[Z.$slots["marker-tooltip"]?_e(Z.$slots,"marker-tooltip",{key:0,tooltip:oe,day:be.value}):de("",!0),Z.$slots["marker-tooltip"]?de("",!0):(W(),ee(Ne,{key:1},[Ce("div",{class:"dp__tooltip_mark",style:Pr(oe.color?{backgroundColor:oe.color}:{})},null,4),Ce("div",null,dt(oe.text),1)],64))]))),128)),Ce("div",{class:"dp__arrow_bottom_tp",style:Pr(T.value)},null,4)])):de("",!0)],4)):de("",!0)],2)],40,PG)}),128))]))),128))],8,CG)):de("",!0)]}),_:3},8,["name","css"])],64))],10,TG)],2)}}}),MI=t=>Array.isArray(t),RG=(t,e,n,r)=>{const i=fe([]),{modelValue:s,calendars:o,time:a}=Kd(t,e),{defaultedMultiCalendars:l,defaultedStartTime:u}=In(t),{validateMonthYearInRange:c,isDisabled:h,isDateRangeAllowed:f,checkMinMaxRange:p}=Ra(t),{updateTimeValues:g,getSetDateTime:b,setTime:A,assignStartTime:R,validateTime:k,disabledTimesConfig:T}=Mx(t,a,s,r),S=le(()=>Y=>o.value[Y]?o.value[Y].month:0),M=le(()=>Y=>o.value[Y]?o.value[Y].year:0),L=(Y,ae,xe)=>{var We,ct;o.value[Y]||(o.value[Y]={month:0,year:0}),o.value[Y].month=kI(ae)?(We=o.value[Y])==null?void 0:We.month:ae,o.value[Y].year=kI(xe)?(ct=o.value[Y])==null?void 0:ct.year:xe},I=()=>{t.autoApply&&e("select-date")};En(s,(Y,ae)=>{JSON.stringify(Y)!==JSON.stringify(ae)&&v()}),vn(()=>{t.shadow||(s.value||(O(),u.value&&R(u.value)),v(!0),t.focusStartDate&&t.startDate&&O())});const E=le(()=>{var Y;return(Y=t.flow)!=null&&Y.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),y=()=>{t.autoApply&&E.value&&e("auto-apply",t.partialFlow)},v=(Y=!1)=>{if(s.value)return Array.isArray(s.value)?(i.value=s.value,j(Y)):C(s.value,Y);if(l.value.count&&Y&&!t.startDate)return w(ye(),Y)},w=(Y,ae=!1)=>{if((!l.value.count||!l.value.static||ae)&&L(0,Et(Y),ut(Y)),l.value.count&&(!l.value.solo||!s.value))for(let xe=1;xe<l.value.count;xe++){const We=on(ye(),{month:S.value(xe-1),year:M.value(xe-1)}),ct=YD(We,{months:1});o.value[xe]={month:Et(ct),year:ut(ct)}}},C=(Y,ae)=>{w(Y),A("hours",Oi(Y)),A("minutes",Zi(Y)),A("seconds",Kl(Y)),l.value.count&&ae&&x()},P=Y=>{if(l.value.count){if(l.value.solo)return 0;const ae=Et(Y[0]),xe=Et(Y[1]);return Math.abs(xe-ae)<l.value.count?0:1}return 1},q=(Y,ae)=>{Y[1]&&t.showLastInRange?w(Y[P(Y)],ae):w(Y[0],ae);const xe=(We,ct)=>[We(Y[0]),Y[1]?We(Y[1]):a[ct][1]];A("hours",xe(Oi,"hours")),A("minutes",xe(Zi,"minutes")),A("seconds",xe(Kl,"seconds"))},$=(Y,ae)=>{if((t.range||t.weekPicker)&&!t.multiDates)return q(Y,ae);if(t.multiDates&&ae){const xe=Y[Y.length-1];return C(xe,ae)}},j=Y=>{const ae=s.value;$(ae,Y),l.value.count&&l.value.solo&&x()},F=(Y,ae)=>{const xe=on(ye(),{month:S.value(ae),year:M.value(ae)}),We=Y<0?Ai(xe,1):Yl(xe,1);c(Et(We),ut(We),Y<0,t.preventMinMaxNavigation)&&(L(ae,Et(We),ut(We)),e("update-month-year",{instance:ae,month:Et(We),year:ut(We)}),l.value.count&&!l.value.solo&&U(ae),n())},U=Y=>{for(let ae=Y-1;ae>=0;ae--){const xe=Yl(on(ye(),{month:S.value(ae+1),year:M.value(ae+1)}),1);L(ae,Et(xe),ut(xe))}for(let ae=Y+1;ae<=l.value.count-1;ae++){const xe=Ai(on(ye(),{month:S.value(ae-1),year:M.value(ae-1)}),1);L(ae,Et(xe),ut(xe))}},x=()=>{if(Array.isArray(s.value)&&s.value.length===2){const Y=ye(ye(s.value[1]?s.value[1]:Ai(s.value[0],1))),[ae,xe]=[Et(s.value[0]),ut(s.value[0])],[We,ct]=[Et(s.value[1]),ut(s.value[1])];(ae!==We||ae===We&&xe!==ct)&&l.value.solo&&L(1,Et(Y),ut(Y))}else s.value&&!Array.isArray(s.value)&&(L(0,Et(s.value),ut(s.value)),w(ye()))},O=()=>{t.startDate&&(L(0,Et(ye(t.startDate)),ut(ye(t.startDate))),l.value.count&&U(0))},z=cY((Y,ae)=>{t.monthChangeOnScroll&&F(t.monthChangeOnScroll!=="inverse"?-Y.deltaY:Y.deltaY,ae)},50),K=(Y,ae,xe=!1)=>{t.monthChangeOnArrows&&t.vertical===xe&&te(Y,ae)},te=(Y,ae)=>{F(Y==="right"?-1:1,ae)},he=Y=>t.markers.find(ae=>Rt(fY(Y.value),Pi(ye(ae.date),t.timezone))),Z=(Y,ae)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[Y==0,!0];case"fair":return[Y==0||ae>Y,!0];case"append":return[!1,!1];default:return[!1,!1]}},H=(Y,ae,xe,We)=>{if(t.sixWeeks&&Y.length<6){const ct=6-Y.length,Nt=(ae.getDay()+7-We)%7,Hn=6-(xe.getDay()+7-We)%7,[Oe,Be]=Z(Nt,Hn);for(let je=1;je<=ct;je++)if(Be?!!(je%2)==Oe:Oe){const Wn=Y[0].days[0],Hr=Q(ps(Wn.value,-7),Et(ae));Y.unshift({days:Hr})}else{const Wn=Y[Y.length-1],Hr=Wn.days[Wn.days.length-1],Na=Q(ps(Hr.value,1),Et(ae));Y.push({days:Na})}}return Y},Q=(Y,ae)=>{const xe=ye(Y),We=[];for(let ct=0;ct<7;ct++){const Nt=ps(xe,ct),Hn=Et(Nt)!==ae;We.push({text:t.hideOffsetDates&&Hn?"":Nt.getDate(),value:Nt,current:!Hn,classData:{}})}return We},ie=(Y,ae)=>{const xe=[],We=new Date(ae,Y),ct=new Date(ae,Y+1,0),Nt=t.weekStart,Hn=ya(We,{weekStartsOn:Nt}),Oe=Be=>{const je=Q(Be,Y);if(xe.push({days:je}),!xe[xe.length-1].days.some(Wn=>Rt(_r(Wn.value),_r(ct)))){const Wn=ps(Be,7);Oe(Wn)}};return Oe(Hn),H(xe,We,ct,Nt)},X=Y=>(s.value=rf(ye(Y.value),t.timezone,t.weekStart),e("date-update",Y.value),y()),ce=Y=>{const ae=fo(ye(Y.value),a.hours,a.minutes,me());e("date-update",ae),t.multiDates?yb(ae,s,t.multiDatesLimit):s.value=ae,r(),jn().then(()=>{y()})},be=Y=>t.noDisabledRange?Sx(i.value[0],Y).some(ae=>h(ae)):!1,ne=()=>{i.value=s.value?s.value.slice():[],i.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(i.value=[])},D=(Y,ae)=>{const xe=[ye(Y.value),ps(ye(Y.value),+t.autoRange)];f(xe)?(ae&&V(Y.value),i.value=xe):e("invalid-date",Y.value)},V=Y=>{const ae=Et(ye(Y)),xe=ut(ye(Y));if(L(0,ae,xe),l.value.count>0)for(let We=1;We<l.value.count;We++){const ct=pY(on(ye(Y),{year:S.value(We-1),month:M.value(We-1)}));L(We,ct.month,ct.year)}},B=Y=>Array.isArray(s.value)&&s.value.length===2?t.fixedStart&&(gr(Y,s.value[0])||Rt(Y,s.value[0]))?[s.value[0],Y]:t.fixedEnd&&(Xn(Y,s.value[1])||Rt(Y,s.value[1]))?[Y,s.value[1]]:(e("invalid-fixed-range",Y),s.value):[],oe=Y=>{if(be(Y.value)||!p(Y.value,s.value,t.fixedStart?0:1))return e("invalid-date",Y.value);i.value=B(ye(Y.value))},se=(Y,ae)=>{if(ne(),t.autoRange)return D(Y,ae);if(t.fixedStart||t.fixedEnd)return oe(Y);i.value[0]?p(ye(Y.value),s.value)&&!be(Y.value)?Xn(ye(Y.value),ye(i.value[0]))?(i.value.unshift(ye(Y.value)),e("range-end",i.value[0])):(i.value[1]=ye(Y.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",Y.value),e("invalid-date",Y.value)):(i.value[0]=ye(Y.value),e("range-start",i.value[0]))},me=(Y=!0)=>t.enableSeconds?Array.isArray(a.seconds)?Y?a.seconds[0]:a.seconds[1]:a.seconds:0,Se=Y=>{i.value[Y]=fo(i.value[Y],a.hours[Y],a.minutes[Y],me(Y!==1))},Ee=()=>{var Y,ae;i.value[0]&&i.value[1]&&+((Y=i.value)==null?void 0:Y[0])>+((ae=i.value)==null?void 0:ae[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},Te=()=>{i.value.length&&(i.value[0]&&!i.value[1]?Se(0):(Se(0),Se(1),r()),Ee(),s.value=i.value.slice(),ym(i.value,e,t.autoApply,t.modelAuto))},ge=(Y,ae=!1)=>{if(h(Y.value)||!Y.current&&t.hideOffsetDates)return e("invalid-date",Y.value);if(t.weekPicker)return X(Y);if(!t.range)return ce(Y);MI(a.hours)&&MI(a.minutes)&&!t.multiDates&&(se(Y,ae),Te())},He=(Y,ae)=>{var xe;L(Y,ae.month,ae.year),l.value.count&&!l.value.solo&&U(Y),e("update-month-year",{instance:Y,month:ae.month,year:ae.year}),n(l.value.solo?Y:void 0);const We=(xe=t.flow)!=null&&xe.length?t.flow[t.flowStep]:void 0;!ae.fromNav&&(We===Bi.month||We===Bi.year)&&r()},Ie=(Y,ae)=>{Dx({value:Y,modelValue:s,range:t.range,timezone:ae?void 0:t.timezone}),I(),t.multiCalendars&&jn().then(()=>v(!0))},Fe=()=>{t.range?s.value&&Array.isArray(s.value)&&s.value[0]?s.value=Xn(ye(),s.value[0])?[ye(),s.value[0]]:[s.value[0],ye()]:s.value=[ye()]:s.value=ye(),I()},Ge=()=>{if(Array.isArray(s.value))if(t.multiDates){const Y=Ke();s.value[s.value.length-1]=b(Y)}else s.value=s.value.map((Y,ae)=>Y&&b(Y,ae));else s.value=b(s.value);e("time-update")},Ke=()=>Array.isArray(s.value)&&s.value.length?s.value[s.value.length-1]:null;return{calendars:o,modelValue:s,month:S,year:M,time:a,disabledTimesConfig:T,validateTime:k,getCalendarDays:ie,getMarker:he,handleScroll:z,handleSwipe:te,handleArrow:K,selectDate:ge,updateMonthYear:He,presetDate:Ie,selectCurrentDate:Fe,updateTime:(Y,ae=!0,xe=!1)=>{g(Y,ae,xe,Ge)}}},DG={key:0},xG=Kt({__name:"DatePicker",props:{...Mi},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:s,month:o,year:a,modelValue:l,time:u,disabledTimesConfig:c,validateTime:h,getCalendarDays:f,getMarker:p,handleArrow:g,handleScroll:b,handleSwipe:A,selectDate:R,updateMonthYear:k,presetDate:T,selectCurrentDate:S,updateTime:M}=RG(i,r,x,O),L=Ea(),{setHoverDate:I,getDayClassData:E,clearHoverDate:y}=MY(l,i),{defaultedMultiCalendars:v}=In(i),w=fe([]),C=fe([]),P=fe(null),q=Gr(L,"calendar"),$=Gr(L,"monthYear"),j=Gr(L,"timePicker"),F=K=>{i.shadow||r("mount",K)};En(s,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const U=le(()=>K=>f(o.value(K),a.value(K)).map(te=>({...te,days:te.days.map(he=>(he.marker=p(he),he.classData=E(he),he))})));function x(K){var te;K||K===0?(te=C.value[K])==null||te.triggerTransition(o.value(K),a.value(K)):C.value.forEach((he,Z)=>he.triggerTransition(o.value(Z),a.value(Z)))}function O(){r("update-flow-step")}const z=(K,te=!1)=>{R(K,te),i.spaceConfirm&&r("select-date")};return e({clearHoverDate:y,presetDate:T,selectCurrentDate:S,toggleMonthPicker:(K,te,he=0)=>{var Z;(Z=w.value[he])==null||Z.toggleMonthPicker(K,te)},toggleYearPicker:(K,te,he=0)=>{var Z;(Z=w.value[he])==null||Z.toggleYearPicker(K,te)},toggleTimePicker:(K,te,he)=>{var Z;(Z=P.value)==null||Z.toggleTimePicker(K,te,he)},handleArrow:g,updateMonthYear:k,getSidebarProps:()=>({modelValue:l,month:o,year:a,time:u,updateTime:M,updateMonthYear:k,selectDate:R,presetDate:T})}),(K,te)=>(W(),ee(Ne,null,[et(vm,{"multi-calendars":G(v).count},{default:Qe(({instance:he,index:Z})=>[K.disableMonthYearSelect?de("",!0):(W(),qe(wG,pe({key:0,ref:H=>{H&&(w.value[Z]=H)},months:G(bx)(K.formatLocale,K.locale,K.monthNameFormat),years:G(gb)(K.yearRange,K.reverseYears),month:G(o)(he),year:G(a)(he),instance:he},K.$props,{onMount:te[0]||(te[0]=H=>F(G(ea).header)),onResetFlow:te[1]||(te[1]=H=>K.$emit("reset-flow")),onUpdateMonthYear:H=>G(k)(he,H),onOverlayClosed:te[2]||(te[2]=H=>K.$emit("focus-menu"))}),Zn({_:2},[Ft(G($),(H,Q)=>({name:H,fn:Qe(ie=>[_e(K.$slots,H,bn(Jn(ie)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),et(kG,pe({ref:H=>{H&&(C.value[Z]=H)},"mapped-dates":U.value(he),month:G(o)(he),year:G(a)(he),instance:he},K.$props,{onSelectDate:H=>G(R)(H,he!==1),onHandleSpace:H=>z(H,he!==1),onSetHoverDate:te[3]||(te[3]=H=>G(I)(H)),onHandleScroll:H=>G(b)(H,he),onHandleSwipe:H=>G(A)(H,he),onMount:te[4]||(te[4]=H=>F(G(ea).calendar)),onResetFlow:te[5]||(te[5]=H=>K.$emit("reset-flow")),onTooltipOpen:te[6]||(te[6]=H=>K.$emit("tooltip-open",H)),onTooltipClose:te[7]||(te[7]=H=>K.$emit("tooltip-close",H))}),Zn({_:2},[Ft(G(q),(H,Q)=>({name:H,fn:Qe(ie=>[_e(K.$slots,H,bn(Jn({...ie})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),K.enableTimePicker?(W(),ee("div",DG,[K.$slots["time-picker"]?_e(K.$slots,"time-picker",bn(pe({key:0},{time:G(u),updateTime:G(M)}))):(W(),qe(Nx,pe({key:1,ref_key:"timePickerRef",ref:P},K.$props,{hours:G(u).hours,minutes:G(u).minutes,seconds:G(u).seconds,"internal-model-value":K.internalModelValue,"disabled-times-config":G(c),"validate-time":G(h),onMount:te[8]||(te[8]=he=>F(G(ea).timePicker)),"onUpdate:hours":te[9]||(te[9]=he=>G(M)(he)),"onUpdate:minutes":te[10]||(te[10]=he=>G(M)(he,!1)),"onUpdate:seconds":te[11]||(te[11]=he=>G(M)(he,!1,!0)),onResetFlow:te[12]||(te[12]=he=>K.$emit("reset-flow")),onOverlayClosed:te[13]||(te[13]=he=>K.$emit("time-picker-close")),onOverlayOpened:te[14]||(te[14]=he=>K.$emit("time-picker-open",he)),onAmPmChange:te[15]||(te[15]=he=>K.$emit("am-pm-change",he))}),Zn({_:2},[Ft(G(j),(he,Z)=>({name:he,fn:Qe(H=>[_e(K.$slots,he,bn(Jn(H)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):de("",!0)],64))}}),NG=(t,e)=>{const n=fe(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:s}=In(t),{modelValue:o,year:a,month:l,calendars:u}=Kd(t,e),{isDisabled:c}=Ra(t),{selectYear:h,groupedYears:f,showYearPicker:p,isDisabled:g,toggleYearPicker:b,handleYearSelect:A,handleYear:R}=xx({modelValue:o,multiCalendars:r,highlight:s,calendars:u,month:l,year:a,props:t,emit:e}),k=(y,v)=>[y,v].map(w=>co(w,"MMMM",{locale:t.formatLocale})).join("-"),T=le(()=>y=>o.value?Array.isArray(o.value)?o.value.some(v=>_I(y,v)):_I(o.value,y):!1),S=y=>{if(t.range){if(Array.isArray(o.value)){const v=Rt(y,o.value[0])||Rt(y,o.value[1]);return pm(o.value,n.value,y)&&!v}return!1}return!1},M=le(()=>y=>{const v=on(new Date,{year:a.value(y)});return nq({start:iq(v),end:rq(v)}).map(w=>{const C=ed(w),P=hI(w),q=c(w),$=S(C),j=typeof s.value=="function"?s.value({quarter:dI(C),year:ut(C)}):!!s.value.quarters.find(F=>F.quarter===dI(C)&&F.year===ut(C));return{text:k(C,P),value:C,active:T.value(C),highlighted:j,disabled:q,isBetween:$}})}),L=y=>{yb(y,o,t.multiDatesLimit),e("auto-apply",!0)},I=y=>{const v=_b(o,y,e);ym(v,e,t.autoApply,t.modelAuto)},E=y=>{o.value=y,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:f,year:a,isDisabled:g,quarters:M,showYearPicker:p,modelValue:o,setHoverDate:y=>{n.value=y},selectYear:h,selectQuarter:(y,v,w)=>{if(!w)return u.value[v].month=Et(hI(y)),t.multiDates?L(y):t.range?I(y):E(y)},toggleYearPicker:b,handleYearSelect:A,handleYear:R}},MG={class:"dp--quarter-items"},LG=["disabled","onClick","onMouseover"],VG=Kt({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Mi},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Ea(),o=Gr(s,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:u,year:c,isDisabled:h,quarters:f,modelValue:p,showYearPicker:g,setHoverDate:b,selectQuarter:A,toggleYearPicker:R,handleYearSelect:k,handleYear:T}=NG(i,r);return e({getSidebarProps:()=>({modelValue:p,year:c,selectQuarter:A,handleYearSelect:k,handleYear:T})}),(S,M)=>(W(),qe(vm,{"multi-calendars":G(a).count,stretch:""},{default:Qe(({instance:L})=>[Ce("div",{class:"dp-quarter-picker-wrap",style:Pr({minHeight:`${G(l).modeHeight}px`})},[Ce("div",null,[et(Rx,pe(S.$props,{items:G(u)(L),instance:L,"show-year-picker":G(g)[L],year:G(c)(L),"is-disabled":I=>G(h)(L,I),onHandleYear:I=>G(T)(L,I),onYearSelect:I=>G(k)(I,L),onToggleYearPicker:I=>G(R)(L,I==null?void 0:I.flow,I==null?void 0:I.show)}),Zn({_:2},[Ft(G(o),(I,E)=>({name:I,fn:Qe(y=>[_e(S.$slots,I,bn(Jn(y)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),Ce("div",MG,[(W(!0),ee(Ne,null,Ft(G(f)(L),(I,E)=>(W(),ee("div",{key:E},[Ce("button",{type:"button",class:tt(["dp--qr-btn",{"dp--qr-btn-active":I.active,"dp--qr-btn-between":I.isBetween,"dp--qr-btn-disabled":I.disabled,"dp--highlighted":I.highlighted}]),disabled:I.disabled,onClick:y=>G(A)(I.value,L,I.disabled),onMouseover:y=>G(b)(I.value)},[S.$slots.quarter?_e(S.$slots,"quarter",{key:0,value:I.value,text:I.text}):(W(),ee(Ne,{key:1},[Dn(dt(I.text),1)],64))],42,LG)]))),128))])],4)]),_:3},8,["multi-calendars"]))}}),FG=["id"],$G={key:0,class:"dp__sidebar_left"},UG={key:1,class:"dp--preset-dates"},BG=["onClick","onKeydown"],jG={key:2,class:"dp__sidebar_right"},HG={key:3,class:"dp__action_extra"},LI=Kt({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...gm,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=le(()=>{const{openOnTop:ne,...D}=i;return{...D,flowStep:E.value,noOverlayFocus:i.noOverlayFocus}}),{setMenuFocused:o,setShiftKey:a,control:l}=kx(),u=Ea(),{defaultedTextInput:c,defaultedInline:h,defaultedConfig:f}=In(i),p=fe(null),g=fe(0),b=fe(null),A=fe(null),R=fe(!1),k=fe(null);vn(()=>{if(!i.shadow){R.value=!0,T(),window.addEventListener("resize",T);const ne=Nn(b);if(ne&&!c.value.enabled&&!h.value.enabled&&(o(!0),P()),ne){const D=V=>{f.value.allowPreventDefault&&V.preventDefault(),ho(V,f.value,!0)};ne.addEventListener("pointerdown",D),ne.addEventListener("mousedown",D)}}}),Ta(()=>{window.removeEventListener("resize",T)});const T=()=>{const ne=Nn(A);ne&&(g.value=ne.getBoundingClientRect().width)},{arrowRight:S,arrowLeft:M,arrowDown:L,arrowUp:I}=Po(),{flowStep:E,updateFlowStep:y,childMount:v,resetFlow:w}=LY(i,r,k),C=le(()=>i.monthPicker?ZY:i.yearPicker?tG:i.timePicker?yG:i.quarterPicker?VG:xG),P=()=>{const ne=Nn(b);ne&&ne.focus({preventScroll:!0})},q=le(()=>{var ne;return((ne=k.value)==null?void 0:ne.getSidebarProps())||{}}),$=()=>{i.openOnTop&&r("recalculate-position")},j=Gr(u,"action"),F=le(()=>i.monthPicker||i.yearPicker?Gr(u,"monthYear"):i.timePicker?Gr(u,"timePicker"):Gr(u,"shared")),U=le(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),x=le(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly})),O=le(()=>({dp__menu:!0,dp__menu_index:!h.value.enabled,dp__relative:h.value.enabled,[i.menuClassName]:!!i.menuClassName})),z=ne=>{ho(ne,f.value,!0)},K=()=>{i.escClose&&r("close-picker")},te=ne=>{if(i.arrowNavigation){if(ne==="up")return I();if(ne==="down")return L();if(ne==="left")return M();if(ne==="right")return S()}else ne==="left"||ne==="up"?ie("handleArrow","left",0,ne==="up"):ie("handleArrow","right",0,ne==="down")},he=ne=>{a(ne.shiftKey),!i.disableMonthYearSelect&&ne.code==="Tab"&&ne.target.classList.contains("dp__menu")&&l.value.shiftKeyInMenu&&(ne.preventDefault(),ho(ne,f.value,!0),r("close-picker"))},Z=()=>{P(),r("time-picker-close")},H=ne=>{var D,V,B;(D=k.value)==null||D.toggleTimePicker(!1,!1),(V=k.value)==null||V.toggleMonthPicker(!1,!1,ne),(B=k.value)==null||B.toggleYearPicker(!1,!1,ne)},Q=(ne,D=0)=>{var V,B,oe;return ne==="month"?(V=k.value)==null?void 0:V.toggleMonthPicker(!1,!0,D):ne==="year"?(B=k.value)==null?void 0:B.toggleYearPicker(!1,!0,D):ne==="time"?(oe=k.value)==null?void 0:oe.toggleTimePicker(!0,!1):H(D)},ie=(ne,...D)=>{var V,B;(V=k.value)!=null&&V[ne]&&((B=k.value)==null||B[ne](...D))},X=()=>{ie("selectCurrentDate")},ce=(ne,D)=>{ie("presetDate",ne,D)},be=()=>{ie("clearHoverDate")};return e({updateMonthYear:(ne,D)=>{ie("updateMonthYear",ne,D)},switchView:Q}),(ne,D)=>{var V;return W(),ee("div",{id:ne.uid?`dp-menu-${ne.uid}`:void 0,ref_key:"dpMenuRef",ref:b,tabindex:"0",role:"dialog",class:tt(O.value),onMouseleave:be,onClick:z,onKeydown:[at(K,["esc"]),D[18]||(D[18]=at(Lt(B=>te("left"),["prevent"]),["left"])),D[19]||(D[19]=at(Lt(B=>te("up"),["prevent"]),["up"])),D[20]||(D[20]=at(Lt(B=>te("down"),["prevent"]),["down"])),D[21]||(D[21]=at(Lt(B=>te("right"),["prevent"]),["right"])),he]},[(ne.disabled||ne.readonly)&&G(h).enabled?(W(),ee("div",{key:0,class:tt(x.value)},null,2)):de("",!0),!G(h).enabled&&!ne.teleportCenter?(W(),ee("div",{key:1,class:tt(U.value)},null,2)):de("",!0),Ce("div",{ref_key:"innerMenuRef",ref:A,class:tt({dp__menu_content_wrapper:((V=ne.presetDates)==null?void 0:V.length)||!!ne.$slots["left-sidebar"]||!!ne.$slots["right-sidebar"]}),style:Pr({"--dp-menu-width":`${g.value}px`})},[ne.$slots["left-sidebar"]?(W(),ee("div",$G,[_e(ne.$slots,"left-sidebar",bn(Jn(q.value)))])):de("",!0),ne.presetDates.length?(W(),ee("div",UG,[(W(!0),ee(Ne,null,Ft(ne.presetDates,(B,oe)=>(W(),ee(Ne,{key:oe},[B.slot?_e(ne.$slots,B.slot,{key:0,presetDate:ce,label:B.label,value:B.value}):(W(),ee("button",{key:1,type:"button",style:Pr(B.style||{}),class:"dp__btn dp--preset-range",onClick:Lt(se=>ce(B.value,B.noTz),["prevent"]),onKeydown:[at(Lt(se=>ce(B.value,B.noTz),["prevent"]),["enter"]),at(Lt(se=>ce(B.value,B.noTz),["prevent"]),["space"])]},dt(B.label),45,BG))],64))),128))])):de("",!0),Ce("div",{ref_key:"calendarWrapperRef",ref:p,class:"dp__instance_calendar",role:"document"},[(W(),qe(qr(C.value),pe({ref_key:"dynCmpRef",ref:k},s.value,{"flow-step":G(E),onMount:G(v),onUpdateFlowStep:G(y),onResetFlow:G(w),onFocusMenu:P,onSelectDate:D[0]||(D[0]=B=>ne.$emit("select-date")),onDateUpdate:D[1]||(D[1]=B=>ne.$emit("date-update",B)),onTooltipOpen:D[2]||(D[2]=B=>ne.$emit("tooltip-open",B)),onTooltipClose:D[3]||(D[3]=B=>ne.$emit("tooltip-close",B)),onAutoApply:D[4]||(D[4]=B=>ne.$emit("auto-apply",B)),onRangeStart:D[5]||(D[5]=B=>ne.$emit("range-start",B)),onRangeEnd:D[6]||(D[6]=B=>ne.$emit("range-end",B)),onInvalidFixedRange:D[7]||(D[7]=B=>ne.$emit("invalid-fixed-range",B)),onTimeUpdate:D[8]||(D[8]=B=>ne.$emit("time-update")),onAmPmChange:D[9]||(D[9]=B=>ne.$emit("am-pm-change",B)),onTimePickerOpen:D[10]||(D[10]=B=>ne.$emit("time-picker-open",B)),onTimePickerClose:Z,onRecalculatePosition:$,onUpdateMonthYear:D[11]||(D[11]=B=>ne.$emit("update-month-year",B)),onAutoApplyInvalid:D[12]||(D[12]=B=>ne.$emit("auto-apply-invalid",B)),onInvalidDate:D[13]||(D[13]=B=>ne.$emit("invalid-date",B)),"onUpdate:internalModelValue":D[14]||(D[14]=B=>ne.$emit("update:internal-model-value",B))}),Zn({_:2},[Ft(F.value,(B,oe)=>({name:B,fn:Qe(se=>[_e(ne.$slots,B,bn(Jn({...se})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),ne.$slots["right-sidebar"]?(W(),ee("div",jG,[_e(ne.$slots,"right-sidebar",bn(Jn(q.value)))])):de("",!0),ne.$slots["action-extra"]?(W(),ee("div",HG,[ne.$slots["action-extra"]?_e(ne.$slots,"action-extra",{key:0,selectCurrentDate:X}):de("",!0)])):de("",!0)],6),!ne.autoApply||G(f).keepActionRow?(W(),qe(WY,pe({key:2,"menu-mount":R.value},s.value,{"calendar-width":g.value,onClosePicker:D[15]||(D[15]=B=>ne.$emit("close-picker")),onSelectDate:D[16]||(D[16]=B=>ne.$emit("select-date")),onInvalidSelect:D[17]||(D[17]=B=>ne.$emit("invalid-select")),onSelectNow:X}),Zn({_:2},[Ft(G(j),(B,oe)=>({name:B,fn:Qe(se=>[_e(ne.$slots,B,bn(Jn({...se})))])}))]),1040,["menu-mount","calendar-width"])):de("",!0)],42,FG)}}}),WG=typeof window<"u"?window:void 0,jg=()=>{},qG=t=>Yy()?(rC(t),!0):!1,zG=(t,e,n,r)=>{if(!t)return jg;let i=jg;const s=En(()=>G(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=jg})},{immediate:!0,flush:"post"}),o=()=>{s(),i()};return qG(o),o},KG=(t,e,n,r={})=>{const{window:i=WG,event:s="pointerdown"}=r;return i?zG(i,s,o=>{const a=Nn(t),l=Nn(e);!a||!l||a===o.target||o.composedPath().includes(a)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},YG=Kt({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...gm},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Ea(),o=fe(!1),a=Oc(i,"modelValue"),l=Oc(i,"timezone"),u=fe(null),c=fe(null),h=fe(null),f=fe(!1),p=fe(null),g=fe(!1),b=fe(!1),{setMenuFocused:A,setShiftKey:R}=kx(),{clearArrowNav:k}=Po(),{mapDatesArrToMap:T,validateDate:S,isValidTime:M}=Ra(i),{defaultedTransitions:L,defaultedTextInput:I,defaultedInline:E,defaultedConfig:y}=In(i),{menuTransition:v,showTransition:w}=zd(L);vn(()=>{te(i.modelValue),jn().then(()=>{if(!E.value.enabled){const Oe=x(p.value);Oe==null||Oe.addEventListener("scroll",ne),window==null||window.addEventListener("resize",D)}}),E.value.enabled&&(o.value=!0),window==null||window.addEventListener("keyup",V),window==null||window.addEventListener("keydown",B)});const C=le(()=>T());Ta(()=>{if(!E.value.enabled){const Oe=x(p.value);Oe==null||Oe.removeEventListener("scroll",ne),window==null||window.removeEventListener("resize",D)}window==null||window.removeEventListener("keyup",V),window==null||window.removeEventListener("keydown",B)});const P=Gr(s,"all",i.presetDates),q=Gr(s,"input");En([a,l],()=>{te(a.value)},{deep:!0});const{openOnTop:$,menuStyle:j,xCorrect:F,setMenuPosition:U,getScrollableParent:x,shadowRender:O}=DY({menuRef:u,menuRefInner:c,inputRef:h,pickerWrapperRef:p,inline:E,emit:r,props:i,slots:s}),{inputValue:z,internalModelValue:K,parseExternalModelValue:te,emitModelValue:he,formatInputValue:Z,checkBeforeEmit:H}=kY(r,i,f),Q=le(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:E.value.enabled,dp__flex_display_with_input:E.value.input})),ie=le(()=>i.dark?"dp__theme_dark":"dp__theme_light"),X=le(()=>({to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||E.value.enabled})),ce=le(()=>({class:"dp__outer_menu_wrap"})),be=le(()=>E.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),ne=()=>{o.value&&(y.value.closeOnScroll?Ie():U())},D=()=>{o.value&&U()},V=Oe=>{Oe.key==="Tab"&&!E.value.enabled&&!i.teleport&&y.value.tabOutClosesMenu&&(p.value.contains(document.activeElement)||Ie()),b.value=Oe.shiftKey},B=Oe=>{b.value=Oe.shiftKey},oe=()=>{!i.disabled&&!i.readonly&&(O(LI,i),U(!1),o.value=!0,o.value&&r("open"),o.value||He(),te(i.modelValue))},se=()=>{var Oe;z.value="",He(),(Oe=h.value)==null||Oe.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),y.value.closeOnClearValue&&Ie()},me=()=>{const Oe=K.value;return!Oe||!Array.isArray(Oe)&&S(Oe)?!0:Array.isArray(Oe)?i.multiDates||Oe.length===2&&S(Oe[0])&&S(Oe[1])?!0:i.partialRange&&!i.timePicker?S(Oe[0]):!1:!1},Se=()=>{H()&&me()?(he(),Ie()):r("invalid-select",K.value)},Ee=Oe=>{Te(),he(),y.value.closeOnAutoApply&&!Oe&&Ie()},Te=()=>{h.value&&I.value.enabled&&h.value.setParsedDate(K.value)},ge=(Oe=!1)=>{i.autoApply&&M(K.value)&&me()&&(i.range&&Array.isArray(K.value)?(i.partialRange||K.value.length===2)&&Ee(Oe):Ee(Oe))},He=()=>{I.value.enabled||(K.value=null)},Ie=()=>{E.value.enabled||(o.value&&(o.value=!1,F.value=!1,A(!1),R(!1),k(),r("closed"),z.value&&te(a.value)),He(),r("blur"))},Fe=(Oe,Be,je=!1)=>{if(!Oe){K.value=null;return}const Wn=Array.isArray(Oe)?!Oe.some(Na=>!S(Na)):S(Oe),Hr=M(Oe);Wn&&Hr&&(K.value=Oe,Be&&(g.value=je,Se(),r("text-submit")))},Ge=()=>{i.autoApply&&M(K.value)&&he(),Te()},Ke=()=>o.value?Ie():oe(),Y=Oe=>{K.value=Oe},ae=()=>{I.value.enabled&&(f.value=!0,Z()),r("focus")},xe=()=>{if(I.value.enabled&&(f.value=!1,te(i.modelValue),g.value)){const Oe=uY(p.value,b.value);Oe==null||Oe.focus()}r("blur")},We=Oe=>{c.value&&c.value.updateMonthYear(0,{month:PI(Oe.month),year:PI(Oe.year)})},ct=Oe=>{te(Oe??i.modelValue)},Nt=(Oe,Be)=>{var je;(je=c.value)==null||je.switchView(Oe,Be)},Hn=Oe=>y.value.onClickOutside?y.value.onClickOutside(Oe):Ie();return KG(u,h,()=>Hn(me)),e({closeMenu:Ie,selectDate:Se,clearValue:se,openMenu:oe,onScroll:ne,formatInputValue:Z,updateInternalModelValue:Y,setMonthYear:We,parseModel:ct,switchView:Nt,toggleMenu:Ke}),(Oe,Be)=>(W(),ee("div",{ref_key:"pickerWrapperRef",ref:p,class:tt(Q.value),"data-datepicker-instance":""},[et(UY,pe({ref_key:"inputRef",ref:h,"input-value":G(z),"onUpdate:inputValue":Be[0]||(Be[0]=je=>an(z)?z.value=je:null),"is-menu-open":o.value},Oe.$props,{onClear:se,onOpen:oe,onSetInputDate:Fe,onSetEmptyDate:G(he),onSelectDate:Se,onToggle:Ke,onClose:Ie,onFocus:ae,onBlur:xe,onRealBlur:Be[1]||(Be[1]=je=>f.value=!1)}),Zn({_:2},[Ft(G(q),(je,Wn)=>({name:je,fn:Qe(Hr=>[_e(Oe.$slots,je,bn(Jn(Hr)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),et(DC,bn(Jn(X.value)),{default:Qe(()=>[et(So,{name:G(v)(G($)),css:G(w)&&!G(E).enabled},{default:Qe(()=>[o.value?(W(),ee("div",pe({key:0,ref_key:"dpWrapMenuRef",ref:u},ce.value,{class:{"dp--menu-wrapper":!G(E).enabled},style:G(E).enabled?void 0:G(j)}),[et(LI,pe({ref_key:"dpMenuRef",ref:c},Oe.$props,{"internal-model-value":G(K),"onUpdate:internalModelValue":Be[2]||(Be[2]=je=>an(K)?K.value=je:null),class:{[ie.value]:!0,"dp--menu-wrapper":Oe.teleport},"open-on-top":G($),"arr-map-values":C.value,"no-overlay-focus":be.value,onClosePicker:Ie,onSelectDate:Se,onAutoApply:ge,onTimeUpdate:Ge,onFlowStep:Be[3]||(Be[3]=je=>Oe.$emit("flow-step",je)),onUpdateMonthYear:Be[4]||(Be[4]=je=>Oe.$emit("update-month-year",je)),onInvalidSelect:Be[5]||(Be[5]=je=>Oe.$emit("invalid-select",G(K))),onAutoApplyInvalid:Be[6]||(Be[6]=je=>Oe.$emit("invalid-select",je)),onInvalidFixedRange:Be[7]||(Be[7]=je=>Oe.$emit("invalid-fixed-range",je)),onRecalculatePosition:G(U),onTooltipOpen:Be[8]||(Be[8]=je=>Oe.$emit("tooltip-open",je)),onTooltipClose:Be[9]||(Be[9]=je=>Oe.$emit("tooltip-close",je)),onTimePickerOpen:Be[10]||(Be[10]=je=>Oe.$emit("time-picker-open",je)),onTimePickerClose:Be[11]||(Be[11]=je=>Oe.$emit("time-picker-close",je)),onAmPmChange:Be[12]||(Be[12]=je=>Oe.$emit("am-pm-change",je)),onRangeStart:Be[13]||(Be[13]=je=>Oe.$emit("range-start",je)),onRangeEnd:Be[14]||(Be[14]=je=>Oe.$emit("range-end",je)),onDateUpdate:Be[15]||(Be[15]=je=>Oe.$emit("date-update",je)),onInvalidDate:Be[16]||(Be[16]=je=>Oe.$emit("invalid-date",je))}),Zn({_:2},[Ft(G(P),(je,Wn)=>({name:je,fn:Qe(Hr=>[_e(Oe.$slots,je,bn(Jn({...Hr})))])}))]),1040,["internal-model-value","class","open-on-top","arr-map-values","no-overlay-focus","onRecalculatePosition"])],16)):de("",!0)]),_:3},8,["name","css"])]),_:3},16)],2))}}),bb=(()=>{const t=YG;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),GG=Object.freeze(Object.defineProperty({__proto__:null,default:bb},Symbol.toStringTag,{value:"Module"}));Object.entries(GG).forEach(([t,e])=>{t!=="default"&&(bb[t]=e)});function Hg(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=wb(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function QG(t){return ZG(t)||JG(t)||wb(t)||XG()}function XG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZG(t){if(Array.isArray(t))return ky(t)}function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function Wg(t,e){return nQ(t)||tQ(t,e)||wb(t,e)||eQ()}function eQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wb(t,e){if(t){if(typeof t=="string")return ky(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ky(t,e)}}function ky(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function nQ(t){if(Array.isArray(t))return t}var De={innerWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},width:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},getWindowScrollTop:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getWindowScrollLeft:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getOuterWidth:function(e,n){if(e){var r=e.offsetWidth;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)}return r}return 0},getOuterHeight:function(e,n){if(e){var r=e.offsetHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getClientHeight:function(e,n){if(e){var r=e.clientHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getViewport:function(){var e=window,n=document,r=n.documentElement,i=n.getElementsByTagName("body")[0],s=e.innerWidth||r.clientWidth||i.clientWidth,o=e.innerHeight||r.clientHeight||i.clientHeight;return{width:s,height:o}},getOffset:function(e){if(e){var n=e.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index:function(e){if(e)for(var n,r=(n=this.getParentNode(e))===null||n===void 0?void 0:n.childNodes,i=0,s=0;s<r.length;s++){if(r[s]===e)return i;r[s].nodeType===1&&i++}return-1},addMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.addClass(e,s)})})},removeMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.removeClass(e,s)})})},addClass:function(e,n){e&&n&&!this.hasClass(e,n)&&(e.classList?e.classList.add(n):e.className+=" "+n)},removeClass:function(e,n){e&&n&&(e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass:function(e,n){return e?e.classList?e.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(e.className):!1},addStyles:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e&&Object.entries(n).forEach(function(r){var i=Wg(r,2),s=i[0],o=i[1];return e.style[s]=o})},find:function(e,n){return this.isElement(e)?e.querySelectorAll(n):[]},findSingle:function(e,n){return this.isElement(e)?e.querySelector(n):null},createElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e){var r=document.createElement(e);this.setAttributes(r,n);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];return r.append.apply(r,s),r}},setAttribute:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;this.isElement(e)&&r!==null&&r!==void 0&&e.setAttribute(n,r)},setAttributes:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isElement(e)){var i=function s(o,a){var l,u,c=e!=null&&(l=e.$attrs)!==null&&l!==void 0&&l[o]?[e==null||(u=e.$attrs)===null||u===void 0?void 0:u[o]]:[];return[a].flat().reduce(function(h,f){if(f!=null){var p=Tc(f);if(p==="string"||p==="number")h.push(f);else if(p==="object"){var g=Array.isArray(f)?s(o,f):Object.entries(f).map(function(b){var A=Wg(b,2),R=A[0],k=A[1];return o==="style"&&(k||k===0)?"".concat(R.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(k):k?R:void 0});h=g.length?h.concat(g.filter(function(b){return!!b})):h}}return h},c)};Object.entries(r).forEach(function(s){var o=Wg(s,2),a=o[0],l=o[1];if(l!=null){var u=a.match(/^on(.+)/);u?e.addEventListener(u[1].toLowerCase(),l):a==="p-bind"?n.setAttributes(e,l):(l=a==="class"?QG(new Set(i("class",l))).join(" ").trim():a==="style"?i("style",l).join(";").trim():l,(e.$attrs=e.$attrs||{})&&(e.$attrs[a]=l),e.setAttribute(a,l))}})}},getAttribute:function(e,n){if(this.isElement(e)){var r=e.getAttribute(n);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}},isAttributeEquals:function(e,n,r){return this.isElement(e)?this.getAttribute(e,n)===r:!1},isAttributeNotEquals:function(e,n,r){return!this.isAttributeEquals(e,n,r)},getHeight:function(e){if(e){var n=e.offsetHeight,r=getComputedStyle(e);return n-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),n}return 0},getWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),n}return 0},absolutePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=i.height,o=i.width,a=n.offsetHeight,l=n.offsetWidth,u=n.getBoundingClientRect(),c=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),f=this.getViewport(),p,g,b="top";u.top+a+s>f.height?(p=u.top+c-s,b="bottom",p<0&&(p=c)):p=a+u.top+c,u.left+o>f.width?g=Math.max(0,u.left+h+l-o):g=u.left+h,e.style.top=p+"px",e.style.left=g+"px",e.style.transformOrigin=b,r&&(e.style.marginTop=b==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},relativePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=n.offsetHeight,o=n.getBoundingClientRect(),a=this.getViewport(),l,u,c="top";o.top+s+i.height>a.height?(l=-1*i.height,c="bottom",o.top+l<0&&(l=-1*o.top)):l=s,i.width>a.width?u=o.left*-1:o.left+i.width>a.width?u=(o.left+i.width-a.width)*-1:u=0,e.style.top=l+"px",e.style.left=u+"px",e.style.transformOrigin=c,r&&(e.style.marginTop=c==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},nestedPosition:function(e,n){if(e){var r=e.parentElement,i=this.getOffset(r),s=this.getViewport(),o=e.offsetParent?e.offsetWidth:this.getHiddenElementOuterWidth(e),a=this.getOuterWidth(r.children[0]),l;parseInt(i.left,10)+a+o>s.width-this.calculateScrollbarWidth()?parseInt(i.left,10)<o?n%2===1?l=parseInt(i.left,10)?"-"+parseInt(i.left,10)+"px":"100%":n%2===0&&(l=s.width-o-this.calculateScrollbarWidth()+"px"):l="-100%":l="100%",e.style.top="0px",e.style.left=l}},getParentNode:function(e){var n=e==null?void 0:e.parentNode;return n&&n instanceof ShadowRoot&&n.host&&(n=n.host),n},getParents:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=this.getParentNode(e);return r===null?n:this.getParents(r,n.concat([r]))},getScrollableParents:function(e){var n=[];if(e){var r=this.getParents(e),i=/(auto|scroll)/,s=function(A){try{var R=window.getComputedStyle(A,null);return i.test(R.getPropertyValue("overflow"))||i.test(R.getPropertyValue("overflowX"))||i.test(R.getPropertyValue("overflowY"))}catch{return!1}},o=Hg(r),a;try{for(o.s();!(a=o.n()).done;){var l=a.value,u=l.nodeType===1&&l.dataset.scrollselectors;if(u){var c=u.split(","),h=Hg(c),f;try{for(h.s();!(f=h.n()).done;){var p=f.value,g=this.findSingle(l,p);g&&s(g)&&n.push(g)}}catch(b){h.e(b)}finally{h.f()}}l.nodeType!==9&&s(l)&&n.push(l)}}catch(b){o.e(b)}finally{o.f()}}return n},getHiddenElementOuterHeight:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementOuterWidth:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementDimensions:function(e){if(e){var n={};return e.style.visibility="hidden",e.style.display="block",n.width=e.offsetWidth,n.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",n}return 0},fadeIn:function(e,n){if(e){e.style.opacity=0;var r=+new Date,i=0,s=function o(){i=+e.style.opacity+(new Date().getTime()-r)/n,e.style.opacity=i,r=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};s()}},fadeOut:function(e,n){if(e)var r=1,i=50,s=n,o=i/s,a=setInterval(function(){r-=o,r<=0&&(r=0,clearInterval(a)),e.style.opacity=r},i)},getUserAgent:function(){return navigator.userAgent},appendChild:function(e,n){if(this.isElement(n))n.appendChild(e);else if(n.el&&n.elElement)n.elElement.appendChild(e);else throw new Error("Cannot append "+n+" to "+e)},isElement:function(e){return(typeof HTMLElement>"u"?"undefined":Tc(HTMLElement))==="object"?e instanceof HTMLElement:e&&Tc(e)==="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},scrollInView:function(e,n){var r=getComputedStyle(e).getPropertyValue("borderTopWidth"),i=r?parseFloat(r):0,s=getComputedStyle(e).getPropertyValue("paddingTop"),o=s?parseFloat(s):0,a=e.getBoundingClientRect(),l=n.getBoundingClientRect(),u=l.top+document.body.scrollTop-(a.top+document.body.scrollTop)-i-o,c=e.scrollTop,h=e.clientHeight,f=this.getOuterHeight(n);u<0?e.scrollTop=c+u:u+f>h&&(e.scrollTop=c+u-h+f)},clearSelection:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},getSelection:function(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null},calculateScrollbarWidth:function(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var e=document.createElement("div");this.addStyles(e,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=n,n},calculateBodyScrollbarWidth:function(){return window.innerWidth-document.documentElement.offsetWidth},getBrowser:function(){if(!this.browser){var e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent:function(){var e=navigator.userAgent.toLowerCase(),n=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:n[1]||"",version:n[2]||"0"}},isVisible:function(e){return e&&e.offsetParent!=null},invokeElementMethod:function(e,n,r){e[n].apply(e,r)},isExist:function(e){return!!(e!==null&&typeof e<"u"&&e.nodeName&&this.getParentNode(e))},isClient:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},focus:function(e,n){e&&document.activeElement!==e&&e.focus(n)},isFocusableElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.isElement(e)?e.matches('button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)):!1},getFocusableElements:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=this.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)),i=[],s=Hg(r),o;try{for(s.s();!(o=s.n()).done;){var a=o.value;getComputedStyle(a).display!="none"&&getComputedStyle(a).visibility!="hidden"&&i.push(a)}}catch(l){s.e(l)}finally{s.f()}return i},getFirstFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[0]:null},getLastFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[r.length-1]:null},getNextFocusableElement:function(e,n,r){var i=this.getFocusableElements(e,r),s=i.length>0?i.findIndex(function(a){return a===n}):-1,o=s>-1&&i.length>=s+1?s+1:-1;return o>-1?i[o]:null},getPreviousElementSibling:function(e,n){for(var r=e.previousElementSibling;r;){if(r.matches(n))return r;r=r.previousElementSibling}return null},getNextElementSibling:function(e,n){for(var r=e.nextElementSibling;r;){if(r.matches(n))return r;r=r.nextElementSibling}return null},isClickable:function(e){if(e){var n=e.nodeName,r=e.parentElement&&e.parentElement.nodeName;return n==="INPUT"||n==="TEXTAREA"||n==="BUTTON"||n==="A"||r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||!!e.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1},applyStyle:function(e,n){if(typeof n=="string")e.style.cssText=n;else for(var r in n)e.style[r]=n[r]},isIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid:function(){return/(android)/i.test(navigator.userAgent)},isTouchDevice:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},hasCSSAnimation:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("animation-duration")||"0");return r>0}return!1},hasCSSTransition:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("transition-duration")||"0");return r>0}return!1},exportCSV:function(e,n){var r=new Blob([e],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(r,n+".csv");else{var i=document.createElement("a");i.download!==void 0?(i.setAttribute("href",URL.createObjectURL(r)),i.setAttribute("download",n+".csv"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)):(e="data:text/csv;charset=utf-8,"+e,window.open(encodeURI(e)))}},blockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)},unblockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}};function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function rQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sQ(r.key),r)}}function iQ(t,e,n){return e&&VI(t.prototype,e),n&&VI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sQ(t){var e=oQ(t,"string");return id(e)=="symbol"?e:String(e)}function oQ(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lx=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};rQ(this,t),this.element=e,this.listener=n}return iQ(t,[{key:"bindScrollListener",value:function(){this.scrollableParents=De.getScrollableParents(this.element);for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}]),t}();function aQ(){var t=new Map;return{on:function(n,r){var i=t.get(n);i?i.push(r):i=[r],t.set(n,i)},off:function(n,r){var i=t.get(n);i&&i.splice(i.indexOf(r)>>>0,1)},emit:function(n,r){var i=t.get(n);i&&i.slice().map(function(s){s(r)})}}}function FI(t,e){return cQ(t)||uQ(t,e)||Tb(t,e)||lQ()}function lQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function cQ(t){if(Array.isArray(t))return t}function $I(t){return fQ(t)||hQ(t)||Tb(t)||dQ()}function dQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fQ(t){if(Array.isArray(t))return Ry(t)}function qg(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Tb(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function Tb(t,e){if(t){if(typeof t=="string")return Ry(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ry(t,e)}}function Ry(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}var we={equals:function(e,n,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(n,r):this.deepEquals(e,n)},deepEquals:function(e,n){if(e===n)return!0;if(e&&n&&Ec(e)=="object"&&Ec(n)=="object"){var r=Array.isArray(e),i=Array.isArray(n),s,o,a;if(r&&i){if(o=e.length,o!=n.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(e[s],n[s]))return!1;return!0}if(r!=i)return!1;var l=e instanceof Date,u=n instanceof Date;if(l!=u)return!1;if(l&&u)return e.getTime()==n.getTime();var c=e instanceof RegExp,h=n instanceof RegExp;if(c!=h)return!1;if(c&&h)return e.toString()==n.toString();var f=Object.keys(e);if(o=f.length,o!==Object.keys(n).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,f[s]))return!1;for(s=o;s--!==0;)if(a=f[s],!this.deepEquals(e[a],n[a]))return!1;return!0}return e!==e&&n!==n},resolveFieldData:function(e,n){if(!e||!n)return null;try{var r=e[n];if(this.isNotEmpty(r))return r}catch{}if(Object.keys(e).length){if(this.isFunction(n))return n(e);if(n.indexOf(".")===-1)return e[n];for(var i=n.split("."),s=e,o=0,a=i.length;o<a;++o){if(s==null)return null;s=s[i[o]]}return s}return null},getItemValue:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.isFunction(e)?e.apply(void 0,r):e},filter:function(e,n,r){var i=[];if(e){var s=qg(e),o;try{for(s.s();!(o=s.n()).done;){var a=o.value,l=qg(n),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;if(String(this.resolveFieldData(a,c)).toLowerCase().indexOf(r.toLowerCase())>-1){i.push(a);break}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){s.e(h)}finally{s.f()}}return i},reorderArray:function(e,n,r){e&&n!==r&&(r>=e.length&&(r%=e.length,n%=e.length),e.splice(r,0,e.splice(n,1)[0]))},findIndexInList:function(e,n){var r=-1;if(n){for(var i=0;i<n.length;i++)if(n[i]===e){r=i;break}}return r},contains:function(e,n){if(e!=null&&n&&n.length){var r=qg(n),i;try{for(r.s();!(i=r.n()).done;){var s=i.value;if(this.equals(e,s))return!0}}catch(o){r.e(o)}finally{r.f()}}return!1},insertIntoOrderedArray:function(e,n,r,i){if(r.length>0){for(var s=!1,o=0;o<r.length;o++){var a=this.findIndexInList(r[o],i);if(a>n){r.splice(o,0,e),s=!0;break}}s||r.push(e)}else r.push(e)},removeAccents:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e},getVNodeProp:function(e,n){if(e){var r=e.props;if(r){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=Object.prototype.hasOwnProperty.call(r,i)?i:n;return e.type.extends.props[n].type===Boolean&&r[s]===""?!0:r[s]}}return null},toFlatCase:function(e){return this.isString(e)?e.replace(/(-|_)/g,"").toLowerCase():e},toKebabCase:function(e){return this.isString(e)?e.replace(/(_)/g,"-").replace(/[A-Z]/g,function(n,r){return r===0?n:"-"+n.toLowerCase()}).toLowerCase():e},toCapitalCase:function(e){return this.isString(e,{empty:!1})?e[0].toUpperCase()+e.slice(1):e},isEmpty:function(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!(e instanceof Date)&&Ec(e)==="object"&&Object.keys(e).length===0},isNotEmpty:function(e){return!this.isEmpty(e)},isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},isObject:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e instanceof Object&&e.constructor===Object&&(n||Object.keys(e).length!==0)},isDate:function(e){return e instanceof Date&&e.constructor===Date},isArray:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Array.isArray(e)&&(n||e.length!==0)},isString:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return typeof e=="string"&&(n||e!=="")},isPrintableCharacter:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)},findLast:function(e,n){var r;if(this.isNotEmpty(e))try{r=e.findLast(n)}catch{r=$I(e).reverse().find(n)}return r},findLastIndex:function(e,n){var r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(n)}catch{r=e.lastIndexOf($I(e).reverse().find(n))}return r},sort:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=this.compare(e,n,i,r),a=r;return(this.isEmpty(e)||this.isEmpty(n))&&(a=s===1?r:s),a*o},compare:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=-1,o=this.isEmpty(e),a=this.isEmpty(n);return o&&a?s=0:o?s=i:a?s=-i:typeof e=="string"&&typeof n=="string"?s=r(e,n):s=e<n?-1:e>n?1:0,s},localeComparator:function(){return new Intl.Collator(void 0,{numeric:!0}).compare},nestedKeys:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Object.entries(n).reduce(function(i,s){var o=FI(s,2),a=o[0],l=o[1],u=r?"".concat(r,".").concat(a):a;return e.isObject(l)?i=i.concat(e.nestedKeys(l,u)):i.push(u),i},[])},stringify:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=" ".repeat(i),o=" ".repeat(i+r);return this.isArray(e)?"["+e.map(function(a){return n.stringify(a,r,i+r)}).join(", ")+"]":this.isDate(e)?e.toISOString():this.isFunction(e)?e.toString():this.isObject(e)?`{
`+Object.entries(e).map(function(a){var l=FI(a,2),u=l[0],c=l[1];return"".concat(o).concat(u,": ").concat(n.stringify(c,r,i+r))}).join(`,
`)+`
`.concat(s)+"}":JSON.stringify(e)}},UI=0;function dp(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pv_id_";return UI++,"".concat(t).concat(UI)}function pQ(t){return yQ(t)||vQ(t)||gQ(t)||mQ()}function mQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gQ(t,e){if(t){if(typeof t=="string")return Dy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dy(t,e)}}function vQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yQ(t){if(Array.isArray(t))return Dy(t)}function Dy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _Q(){var t=[],e=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,c=i(a,l,u),h=c.value+(c.key===a?0:u)+1;return t.push({key:a,value:h}),h},n=function(a){t=t.filter(function(l){return l.value!==a})},r=function(a,l){return i(a,l).value},i=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return pQ(t).reverse().find(function(c){return l?!0:c.key===a})||{key:a,value:u}},s=function(a){return a&&parseInt(a.style.zIndex,10)||0};return{get:s,set:function(a,l,u){l&&(l.style.zIndex=String(e(a,!0,u)))},clear:function(a){a&&(n(s(a)),a.style.zIndex="")},getCurrent:function(a){return r(a,!0)}}}var Il=_Q(),or={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"};function BI(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=bQ(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function bQ(t,e){if(t){if(typeof t=="string")return jI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jI(t,e)}}function jI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Vx={filter:function(e,n,r,i,s){var o=[];if(!e)return o;var a=BI(e),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;if(typeof u=="string"){if(this.filters[i](u,r,s)){o.push(u);continue}}else{var c=BI(n),h;try{for(c.s();!(h=c.n()).done;){var f=h.value,p=we.resolveFieldData(u,f);if(this.filters[i](p,r,s)){o.push(u);break}}}catch(g){c.e(g)}finally{c.f()}}}}catch(g){a.e(g)}finally{a.f()}return o},filters:{startsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=we.removeAccents(n.toString()).toLocaleLowerCase(r),s=we.removeAccents(e.toString()).toLocaleLowerCase(r);return s.slice(0,i.length)===i},contains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=we.removeAccents(n.toString()).toLocaleLowerCase(r),s=we.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)!==-1},notContains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=we.removeAccents(n.toString()).toLocaleLowerCase(r),s=we.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)===-1},endsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=we.removeAccents(n.toString()).toLocaleLowerCase(r),s=we.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i,s.length-i.length)!==-1},equals:function(e,n,r){return n==null||n===""?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()===n.getTime():we.removeAccents(e.toString()).toLocaleLowerCase(r)==we.removeAccents(n.toString()).toLocaleLowerCase(r)},notEquals:function(e,n,r){return n==null||n===""?!1:e==null?!0:e.getTime&&n.getTime?e.getTime()!==n.getTime():we.removeAccents(e.toString()).toLocaleLowerCase(r)!=we.removeAccents(n.toString()).toLocaleLowerCase(r)},in:function(e,n){if(n==null||n.length===0)return!0;for(var r=0;r<n.length;r++)if(we.equals(e,n[r]))return!0;return!1},between:function(e,n){return n==null||n[0]==null||n[1]==null?!0:e==null?!1:e.getTime?n[0].getTime()<=e.getTime()&&e.getTime()<=n[1].getTime():n[0]<=e&&e<=n[1]},lt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<n.getTime():e<n},lte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<=n.getTime():e<=n},gt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>n.getTime():e>n},gte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>=n.getTime():e>=n},dateIs:function(e,n){return n==null?!0:e==null?!1:e.toDateString()===n.toDateString()},dateIsNot:function(e,n){return n==null?!0:e==null?!1:e.toDateString()!==n.toDateString()},dateBefore:function(e,n){return n==null?!0:e==null?!1:e.getTime()<n.getTime()},dateAfter:function(e,n){return n==null?!0:e==null?!1:e.getTime()>n.getTime()}},register:function(e,n){this.filters[e]=n}};function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function HI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(n),!0).forEach(function(r){wQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wQ(t,e,n){return e=TQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TQ(t){var e=EQ(t,"string");return sd(e)=="symbol"?e:String(e)}function EQ(t,e){if(sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WI={ripple:!1,inputStyle:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List"}},filterMatchModeOptions:{text:[or.STARTS_WITH,or.CONTAINS,or.NOT_CONTAINS,or.ENDS_WITH,or.EQUALS,or.NOT_EQUALS],numeric:[or.EQUALS,or.NOT_EQUALS,or.LESS_THAN,or.LESS_THAN_OR_EQUAL_TO,or.GREATER_THAN,or.GREATER_THAN_OR_EQUAL_TO],date:[or.DATE_IS,or.DATE_IS_NOT,or.DATE_BEFORE,or.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},unstyled:!1,csp:{nonce:void 0}},IQ=Symbol();function SQ(t,e,n,r){if(t!==e){var i=document.getElementById(n),s=i.cloneNode(!0),o=i.getAttribute("href").replace(t,e);s.setAttribute("id",n+"-clone"),s.setAttribute("href",o),s.addEventListener("load",function(){i.remove(),s.setAttribute("id",n),r&&r()}),i.parentNode&&i.parentNode.insertBefore(s,i.nextSibling)}}var CQ={install:function(e,n){var r=n?zg(zg({},WI),n):zg({},WI),i={config:Rr(r),changeTheme:SQ};e.config.globalProperties.$primevue=i,e.provide(IQ,i)}};function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function qI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(n),!0).forEach(function(r){AQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AQ(t,e,n){return e=OQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OQ(t){var e=PQ(t,"string");return od(e)=="symbol"?e:String(e)}function PQ(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Zr()?vn(t):e?t():jn(t)}var RQ=0;function Fx(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=fe(!1),r=fe(t),i=fe(null),s=De.isClient()?window.document:void 0,o=e.document,a=o===void 0?s:o,l=e.immediate,u=l===void 0?!0:l,c=e.manual,h=c===void 0?!1:c,f=e.name,p=f===void 0?"style_".concat(++RQ):f,g=e.id,b=g===void 0?void 0:g,A=e.media,R=A===void 0?void 0:A,k=e.nonce,T=k===void 0?void 0:k,S=e.props,M=S===void 0?{}:S,L=function(){},I=function(v){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a){var C=zI(zI({},M),w),P=C.name||p,q=C.id||b,$=C.nonce||T;i.value=a.querySelector('style[data-primevue-style-id="'.concat(P,'"]'))||a.getElementById(q)||a.createElement("style"),i.value.isConnected||(r.value=v||t,De.setAttributes(i.value,{type:"text/css",id:q,media:R,nonce:$}),a.head.appendChild(i.value),De.setAttribute(i.value,"data-primevue-style-id",p),De.setAttributes(i.value,C)),!n.value&&(L=En(r,function(j){i.value.textContent=j},{immediate:!0}),n.value=!0)}},E=function(){!a||!n.value||(L(),De.isExist(i.value)&&a.head.removeChild(i.value),n.value=!1)};return u&&!h&&kQ(I),{id:b,name:p,css:r,unload:E,load:I,isLoaded:Jy(n)}}function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function DQ(t,e){return LQ(t)||MQ(t,e)||NQ(t,e)||xQ()}function xQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NQ(t,e){if(t){if(typeof t=="string")return KI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KI(t,e)}}function KI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function LQ(t){if(Array.isArray(t))return t}function YI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YI(Object(n),!0).forEach(function(r){VQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VQ(t,e,n){return e=FQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FQ(t){var e=$Q(t,"string");return ad(e)=="symbol"?e:String(e)}function $Q(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UQ=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,BQ={},jQ={},fi={name:"base",css:UQ,classes:BQ,inlineStyles:jQ,loadStyle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.css?Fx(this.css,Kg({name:this.name},e)):{}},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var r=Object.entries(n).reduce(function(i,s){var o=DQ(s,2),a=o[0],l=o[1];return i.push("".concat(a,'="').concat(l,'"'))&&i},[]).join(" ");return'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(r,">").concat(this.css).concat(e,"</style>")}return""},extend:function(e){return Kg(Kg({},this),{},{css:void 0},e)}};function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){WQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WQ(t,e,n){return e=qQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qQ(t){var e=zQ(t,"string");return ld(e)=="symbol"?e:String(e)}function zQ(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yg=fi.extend({name:"common",loadGlobalStyle:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Fx(e,HQ({name:"global"},n))}});function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function KQ(t){return Bx(t)||YQ(t)||Ux(t)||$x()}function YQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fh(t,e){return Bx(t)||GQ(t,e)||Ux(t,e)||$x()}function $x(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ux(t,e){if(t){if(typeof t=="string")return QI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QI(t,e)}}function QI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Bx(t){if(Array.isArray(t))return t}function XI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(n),!0).forEach(function(r){sf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sf(t,e,n){return e=QQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QQ(t){var e=XQ(t,"string");return ud(e)=="symbol"?e:String(e)}function XQ(t,e){if(ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Da={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(e){if(!e){var n,r;Yg.loadStyle({nonce:(n=this.$primevueConfig)===null||n===void 0||(n=n.csp)===null||n===void 0?void 0:n.nonce}),this.$options.style&&this.$style.loadStyle({nonce:(r=this.$primevueConfig)===null||r===void 0||(r=r.csp)===null||r===void 0?void 0:r.nonce})}}}},beforeCreate:function(){var e,n,r,i,s,o,a,l,u,c,h,f=(e=this.pt)===null||e===void 0?void 0:e._usept,p=f?(n=this.pt)===null||n===void 0||(n=n.originalValue)===null||n===void 0?void 0:n[this.$.type.name]:void 0,g=f?(r=this.pt)===null||r===void 0||(r=r.value)===null||r===void 0?void 0:r[this.$.type.name]:this.pt;(i=g||p)===null||i===void 0||(i=i.hooks)===null||i===void 0||(s=i.onBeforeCreate)===null||s===void 0||s.call(i);var b=(o=this.$primevueConfig)===null||o===void 0||(o=o.pt)===null||o===void 0?void 0:o._usept,A=b?(a=this.$primevue)===null||a===void 0||(a=a.config)===null||a===void 0||(a=a.pt)===null||a===void 0?void 0:a.originalValue:void 0,R=b?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.value:(u=this.$primevue)===null||u===void 0||(u=u.config)===null||u===void 0?void 0:u.pt;(c=R||A)===null||c===void 0||(c=c[this.$.type.name])===null||c===void 0||(c=c.hooks)===null||c===void 0||(h=c.onBeforeCreate)===null||h===void 0||h.call(c)},created:function(){this._hook("onCreated")},beforeMount:function(){var e;fi.loadStyle({nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce}),this._loadGlobalStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._hook("onUnmounted")},methods:{_hook:function(e){if(!this.$options.hostName){var n=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(e)),r=this._useDefaultPT(this._getOptionValue,"hooks.".concat(e));n==null||n(),r==null||r()}},_mergeProps:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return we.isFunction(e)?e.apply(void 0,r):pe.apply(void 0,r)},_loadGlobalStyles:function(){var e,n=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);we.isNotEmpty(n)&&Yg.loadGlobalStyle(n,{nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})},_getHostInstance:function(e){return e?this.$options.hostName?e.$.type.name===this.$options.hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0},_getPropValue:function(e){var n;return this[e]||((n=this._getHostInstance(this))===null||n===void 0?void 0:n[e])},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=we.toFlatCase(n).split("."),s=i.shift();return s?we.isObject(e)?this._getOptionValue(we.getItemValue(e[Object.keys(e).find(function(o){return we.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:we.getItemValue(e,r)},_getPTValue:function(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=/./g.test(r)&&!!i[r.split(".")[0]],a=this._getPropValue("ptOptions")||((e=this.$primevueConfig)===null||e===void 0?void 0:e.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,h=c===void 0?!1:c,f=s?o?this._useGlobalPT(this._getPTClassValue,r,i):this._useDefaultPT(this._getPTClassValue,r,i):void 0,p=o?void 0:this._getPTSelf(n,this._getPTClassValue,r,tn(tn({},i),{},{global:f||{}})),g=this._getPTDatasets(r);return u||!u&&p?h?this._mergeProps(h,f,p,g):tn(tn(tn({},f),p),g):tn(tn({},p),g)},_getPTSelf:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return pe(this._usePT.apply(this,[this._getPT(e,this.$name)].concat(r)),this._usePT.apply(this,[this.$_attrsPT].concat(r)))},_getPTDatasets:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i="data-pc-",s=r==="root"&&we.isNotEmpty((e=this.pt)===null||e===void 0?void 0:e["data-pc-section"]);return r!=="transition"&&tn(tn({},r==="root"&&tn(sf({},"".concat(i,"name"),we.toFlatCase(s?(n=this.pt)===null||n===void 0?void 0:n["data-pc-section"]:this.$.type.name)),s&&sf({},"".concat(i,"extend"),we.toFlatCase(this.$.type.name)))),{},sf({},"".concat(i,"section"),we.toFlatCase(r)))},_getPTClassValue:function(){var e=this._getOptionValue.apply(this,arguments);return we.isString(e)||we.isArray(e)?{class:e}:e},_getPT:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,s=function(a){var l,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=i?i(a):a,h=we.toFlatCase(r),f=we.toFlatCase(n.$name);return(l=u?h!==f?c==null?void 0:c[h]:void 0:c==null?void 0:c[h])!==null&&l!==void 0?l:c};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)},_usePT:function(e,n,r,i){var s=function(b){return n(b,r,i)};if(e!=null&&e.hasOwnProperty("_usept")){var o,a=e._usept||((o=this.$primevueConfig)===null||o===void 0?void 0:o.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,h=c===void 0?!1:c,f=s(e.originalValue),p=s(e.value);return f===void 0&&p===void 0?void 0:we.isString(p)?p:we.isString(f)?f:u||!u&&p?h?this._mergeProps(h,f,p):tn(tn({},f),p):p}return s(e)},_useGlobalPT:function(e,n,r){return this._usePT(this.globalPT,e,n,r)},_useDefaultPT:function(e,n,r){return this._usePT(this.defaultPT,e,n,r)},ptm:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,e,tn(tn({},this.$params),n))},ptmi:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return pe(this.$_attrsNoPT,this.ptm(e,n))},ptmo:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(e,n,tn({instance:this},r),!1)},cx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,e,tn(tn({},this.$params),n))},sx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n){var i=this._getOptionValue(this.$style.inlineStyles,e,tn(tn({},this.$params),r)),s=this._getOptionValue(Yg.inlineStyles,e,tn(tn({},this.$params),r));return[s,i]}}},computed:{globalPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return we.getItemValue(r,{instance:n})})},defaultPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return n._getOptionValue(r,n.$name,tn({},n.$params))||we.getItemValue(r,tn({},n.$params))})},isUnstyled:function(){var e;return this.unstyled!==void 0?this.unstyled:(e=this.$primevueConfig)===null||e===void 0?void 0:e.unstyled},$params:function(){var e=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:e,props:e==null?void 0:e.$props,state:e==null?void 0:e.$data,attrs:e==null?void 0:e.$attrs},parentInstance:e}},$style:function(){return tn(tn({classes:void 0,inlineStyles:void 0,loadStyle:function(){},loadCustomStyle:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$primevueConfig:function(){var e;return(e=this.$primevue)===null||e===void 0?void 0:e.config},$name:function(){return this.$options.hostName||this.$.type.name},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=Fh(e,1),r=n[0];return r==null?void 0:r.startsWith("pt:")}).reduce(function(e,n){var r=Fh(n,2),i=r[0],s=r[1],o=i.split(":"),a=KQ(o),l=a.slice(1);return l==null||l.reduce(function(u,c,h,f){return!u[c]&&(u[c]=h===f.length-1?s:{}),u[c]},e),e},{})},$_attrsNoPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=Fh(e,1),r=n[0];return!(r!=null&&r.startsWith("pt:"))}).reduce(function(e,n){var r=Fh(n,2),i=r[0],s=r[1];return e[i]=s,e},{})}}},JQ=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,ZQ=fi.extend({name:"baseicon",css:JQ});function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){eX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eX(t,e,n){return e=tX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tX(t){var e=nX(t,"string");return cd(e)=="symbol"?e:String(e)}function nX(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xa={name:"BaseIcon",extends:Da,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:ZQ,methods:{pti:function(){var e=we.isEmpty(this.label);return ZI(ZI({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:e?void 0:"img","aria-label":e?void 0:this.label,"aria-hidden":e})}}},jx={name:"BlankIcon",extends:xa},rX=Ce("rect",{width:"1",height:"1",fill:"currentColor","fill-opacity":"0"},null,-1),iX=[rX];function sX(t,e,n,r,i,s){return W(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),iX,16)}jx.render=sX;var _m={name:"CheckIcon",extends:xa},oX=Ce("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"},null,-1),aX=[oX];function lX(t,e,n,r,i,s){return W(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),aX,16)}_m.render=lX;var Eb={name:"ChevronDownIcon",extends:xa},uX=Ce("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"},null,-1),cX=[uX];function dX(t,e,n,r,i,s){return W(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),cX,16)}Eb.render=dX;var Ib={name:"SearchIcon",extends:xa},hX=Ce("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"},null,-1),fX=[hX];function pX(t,e,n,r,i,s){return W(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),fX,16)}Ib.render=pX;var bm={name:"SpinnerIcon",extends:xa},mX=Ce("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1),gX=[mX];function vX(t,e,n,r,i,s){return W(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),gX,16)}bm.render=vX;var Sb={name:"TimesIcon",extends:xa},yX=Ce("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"},null,-1),_X=[yX];function bX(t,e,n,r,i,s){return W(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),_X,16)}Sb.render=bX;var Hx=aQ(),Cb={name:"Portal",props:{appendTo:{type:[String,Object],default:"body"},disabled:{type:Boolean,default:!1}},data:function(){return{mounted:!1}},mounted:function(){this.mounted=De.isClient()},computed:{inline:function(){return this.disabled||this.appendTo==="self"}}};function wX(t,e,n,r,i,s){return s.inline?_e(t.$slots,"default",{key:0}):i.mounted?(W(),qe(DC,{key:1,to:n.appendTo},[_e(t.$slots,"default")],8,["to"])):de("",!0)}Cb.render=wX;function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function eS(t,e){return SX(t)||IX(t,e)||EX(t,e)||TX()}function TX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EX(t,e){if(t){if(typeof t=="string")return tS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tS(t,e)}}function tS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function SX(t){if(Array.isArray(t))return t}function nS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nS(Object(n),!0).forEach(function(r){xy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xy(t,e,n){return e=CX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CX(t){var e=AX(t,"string");return dd(e)=="symbol"?e:String(e)}function AX(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var At={_getMeta:function(){return[we.isObject(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],we.getItemValue(we.isObject(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(e,n){var r,i,s;return(r=(e==null||(i=e.instance)===null||i===void 0?void 0:i.$primevue)||(n==null||(s=n.ctx)===null||s===void 0||(s=s.appContext)===null||s===void 0||(s=s.config)===null||s===void 0||(s=s.globalProperties)===null||s===void 0?void 0:s.$primevue))===null||r===void 0?void 0:r.config},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=we.toFlatCase(n).split("."),s=i.shift();return s?we.isObject(e)?At._getOptionValue(we.getItemValue(e[Object.keys(e).find(function(o){return we.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:we.getItemValue(e,r)},_getPTValue:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=function(){var k=At._getOptionValue.apply(At,arguments);return we.isString(k)||we.isArray(k)?{class:k}:k},u=((e=r.binding)===null||e===void 0||(e=e.value)===null||e===void 0?void 0:e.ptOptions)||((n=r.$primevueConfig)===null||n===void 0?void 0:n.ptOptions)||{},c=u.mergeSections,h=c===void 0?!0:c,f=u.mergeProps,p=f===void 0?!1:f,g=a?At._useDefaultPT(r,r.defaultPT(),l,s,o):void 0,b=At._usePT(r,At._getPT(i,r.$name),l,s,cn(cn({},o),{},{global:g||{}})),A=At._getPTDatasets(r,s);return h||!h&&b?p?At._mergeProps(r,p,g,b,A):cn(cn(cn({},g),b),A):cn(cn({},b),A)},_getPTDatasets:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="data-pc-";return cn(cn({},n==="root"&&xy({},"".concat(r,"name"),we.toFlatCase(e.$name))),{},xy({},"".concat(r,"section"),we.toFlatCase(n)))},_getPT:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=function(o){var a,l=r?r(o):o,u=we.toFlatCase(n);return(a=l==null?void 0:l[u])!==null&&a!==void 0?a:l};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:i(e.originalValue),value:i(e.value)}:i(e)},_usePT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,o=function(A){return r(A,i,s)};if(n!=null&&n.hasOwnProperty("_usept")){var a,l=n._usept||((a=e.$primevueConfig)===null||a===void 0?void 0:a.ptOptions)||{},u=l.mergeSections,c=u===void 0?!0:u,h=l.mergeProps,f=h===void 0?!1:h,p=o(n.originalValue),g=o(n.value);return p===void 0&&g===void 0?void 0:we.isString(g)?g:we.isString(p)?p:c||!c&&g?f?At._mergeProps(e,f,p,g):cn(cn({},p),g):g}return o(n)},_useDefaultPT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return At._usePT(e,n,r,i,s)},_hook:function(e,n,r,i,s,o){var a,l,u="on".concat(we.toCapitalCase(n)),c=At._getConfig(i,s),h=r==null?void 0:r.$instance,f=At._usePT(h,At._getPT(i==null||(a=i.value)===null||a===void 0?void 0:a.pt,e),At._getOptionValue,"hooks.".concat(u)),p=At._useDefaultPT(h,c==null||(l=c.pt)===null||l===void 0||(l=l.directives)===null||l===void 0?void 0:l[e],At._getOptionValue,"hooks.".concat(u)),g={el:r,binding:i,vnode:s,prevVnode:o};f==null||f(h,g),p==null||p(h,g)},_mergeProps:function(){for(var e=arguments.length>1?arguments[1]:void 0,n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return we.isFunction(e)?e.apply(void 0,r):pe.apply(void 0,r)},_extend:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=function(s,o,a,l,u){var c,h;o._$instances=o._$instances||{};var f=At._getConfig(a,l),p=o._$instances[e]||{},g=we.isEmpty(p)?cn(cn({},n),n==null?void 0:n.methods):{};o._$instances[e]=cn(cn({},p),{},{$name:e,$host:o,$binding:a,$modifiers:a==null?void 0:a.modifiers,$value:a==null?void 0:a.value,$el:p.$el||o||void 0,$style:cn({classes:void 0,inlineStyles:void 0,loadStyle:function(){}},n==null?void 0:n.style),$primevueConfig:f,defaultPT:function(){return At._getPT(f==null?void 0:f.pt,void 0,function(A){var R;return A==null||(R=A.directives)===null||R===void 0?void 0:R[e]})},isUnstyled:function(){var A,R;return((A=o.$instance)===null||A===void 0||(A=A.$binding)===null||A===void 0||(A=A.value)===null||A===void 0?void 0:A.unstyled)!==void 0?(R=o.$instance)===null||R===void 0||(R=R.$binding)===null||R===void 0||(R=R.value)===null||R===void 0?void 0:R.unstyled:f==null?void 0:f.unstyled},ptm:function(){var A,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return At._getPTValue(o.$instance,(A=o.$instance)===null||A===void 0||(A=A.$binding)===null||A===void 0||(A=A.value)===null||A===void 0?void 0:A.pt,R,cn({},k))},ptmo:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return At._getPTValue(o.$instance,A,R,k,!1)},cx:function(){var A,R,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(A=o.$instance)!==null&&A!==void 0&&A.isUnstyled()?void 0:At._getOptionValue((R=o.$instance)===null||R===void 0||(R=R.$style)===null||R===void 0?void 0:R.classes,k,cn({},T))},sx:function(){var A,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return k?At._getOptionValue((A=o.$instance)===null||A===void 0||(A=A.$style)===null||A===void 0?void 0:A.inlineStyles,R,cn({},T)):void 0}},g),o.$instance=o._$instances[e],(c=(h=o.$instance)[s])===null||c===void 0||c.call(h,o,a,l,u),o["$".concat(e)]=o.$instance,At._hook(e,s,o,a,l,u)};return{created:function(s,o,a,l){r("created",s,o,a,l)},beforeMount:function(s,o,a,l){var u,c,h,f,p=At._getConfig(o,a);fi.loadStyle({nonce:p==null||(u=p.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((h=s.$instance)===null||h===void 0||(h=h.$style)===null||h===void 0||h.loadStyle({nonce:p==null||(f=p.csp)===null||f===void 0?void 0:f.nonce})),r("beforeMount",s,o,a,l)},mounted:function(s,o,a,l){var u,c,h,f,p=At._getConfig(o,a);fi.loadStyle({nonce:p==null||(u=p.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((h=s.$instance)===null||h===void 0||(h=h.$style)===null||h===void 0||h.loadStyle({nonce:p==null||(f=p.csp)===null||f===void 0?void 0:f.nonce})),r("mounted",s,o,a,l)},beforeUpdate:function(s,o,a,l){r("beforeUpdate",s,o,a,l)},updated:function(s,o,a,l){r("updated",s,o,a,l)},beforeUnmount:function(s,o,a,l){r("beforeUnmount",s,o,a,l)},unmounted:function(s,o,a,l){r("unmounted",s,o,a,l)}}},extend:function(){var e=At._getMeta.apply(At,arguments),n=eS(e,2),r=n[0],i=n[1];return cn({extend:function(){var o=At._getMeta.apply(At,arguments),a=eS(o,2),l=a[0],u=a[1];return At.extend(l,cn(cn(cn({},i),i==null?void 0:i.methods),u))}},At._extend(r,i))}},OX={root:"p-ink"},PX=fi.extend({name:"ripple",classes:OX}),kX=At.extend({style:PX});function RX(t){return MX(t)||NX(t)||xX(t)||DX()}function DX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xX(t,e){if(t){if(typeof t=="string")return Ny(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ny(t,e)}}function NX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MX(t){if(Array.isArray(t))return Ny(t)}function Ny(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Wx=kX.extend("ripple",{mounted:function(e){var n,r=e==null||(n=e.$instance)===null||n===void 0?void 0:n.$primevueConfig;r&&r.ripple&&(this.create(e),this.bindEvents(e),e.setAttribute("data-pd-ripple",!0))},unmounted:function(e){this.remove(e)},timeout:void 0,methods:{bindEvents:function(e){e.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(e){e.removeEventListener("mousedown",this.onMouseDown.bind(this))},create:function(e){var n=De.createElement("span",{role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this),"p-bind":this.ptm("root")});e.appendChild(n),this.$el=n},remove:function(e){var n=this.getInk(e);n&&(this.unbindEvents(e),n.removeEventListener("animationend",this.onAnimationEnd),n.remove())},onMouseDown:function(e){var n=this,r=e.currentTarget,i=this.getInk(r);if(!(!i||getComputedStyle(i,null).display==="none")){if(!this.isUnstyled()&&De.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"),!De.getHeight(i)&&!De.getWidth(i)){var s=Math.max(De.getOuterWidth(r),De.getOuterHeight(r));i.style.height=s+"px",i.style.width=s+"px"}var o=De.getOffset(r),a=e.pageX-o.left+document.body.scrollTop-De.getWidth(i)/2,l=e.pageY-o.top+document.body.scrollLeft-De.getHeight(i)/2;i.style.top=l+"px",i.style.left=a+"px",!this.isUnstyled()&&De.addClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){i&&(!n.isUnstyled()&&De.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(e){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&De.removeClass(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(e){return e&&e.children?RX(e.children).find(function(n){return De.getAttribute(n,"data-pc-name")==="ripple"}):void 0}}}),LX=`
@layer primevue {
    .p-virtualscroller {
        position: relative;
        overflow: auto;
        contain: strict;
        transform: translateZ(0);
        will-change: scroll-position;
        outline: 0 none;
    }

    .p-virtualscroller-content {
        position: absolute;
        top: 0;
        left: 0;
        /* contain: content; */
        min-height: 100%;
        min-width: 100%;
        will-change: transform;
    }

    .p-virtualscroller-spacer {
        position: absolute;
        top: 0;
        left: 0;
        height: 1px;
        width: 1px;
        transform-origin: 0 0;
        pointer-events: none;
    }

    .p-virtualscroller .p-virtualscroller-loader {
        position: sticky;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-virtualscroller-loader.p-component-overlay {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-virtualscroller-loading-icon {
        font-size: 2rem;
    }

    .p-virtualscroller-loading-icon.p-icon {
        width: 2rem;
        height: 2rem;
    }

    .p-virtualscroller-horizontal > .p-virtualscroller-content {
        display: flex;
    }

    /* Inline */
    .p-virtualscroller-inline .p-virtualscroller-content {
        position: static;
    }
}
`,rS=fi.extend({name:"virtualscroller",css:LX}),VX={name:"BaseVirtualScroller",extends:Da,props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:"vertical"},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},resizeDelay:{type:Number,default:10},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0},inline:{type:Boolean,default:!1},step:{type:Number,default:0},appendOnly:{type:Boolean,default:!1},autoSize:{type:Boolean,default:!1}},style:rS,provide:function(){return{$parentInstance:this}},beforeMount:function(){var e;rS.loadStyle({nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})}};function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function iS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iS(Object(n),!0).forEach(function(r){qx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qx(t,e,n){return e=FX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FX(t){var e=$X(t,"string");return hd(e)=="symbol"?e:String(e)}function $X(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ab={name:"VirtualScroller",extends:VX,inheritAttrs:!1,emits:["update:numToleratedItems","scroll","scroll-index-change","lazy-load"],data:function(){var e=this.isBoth();return{first:e?{rows:0,cols:0}:0,last:e?{rows:0,cols:0}:0,page:e?{rows:0,cols:0}:0,numItemsInViewport:e?{rows:0,cols:0}:0,lastScrollPos:e?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,resizeTimeout:null,defaultWidth:0,defaultHeight:0,defaultContentWidth:0,defaultContentHeight:0,isRangeChanged:!1,lazyLoadState:{},resizeListener:null,initialized:!1,watch:{numToleratedItems:function(e){this.d_numToleratedItems=e},loading:function(e,n){this.lazy&&e!==n&&e!==this.d_loading&&(this.d_loading=e)},items:function(e,n){(!n||n.length!==(e||[]).length)&&(this.init(),this.calculateAutoSize())},itemSize:function(){this.init(),this.calculateAutoSize()},orientation:function(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},scrollHeight:function(){this.init(),this.calculateAutoSize()},scrollWidth:function(){this.init(),this.calculateAutoSize()}},mounted:function(){this.viewInit(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0,this.lazyLoadState=this.lazyLoadState||{}},updated:function(){!this.initialized&&this.viewInit()},unmounted:function(){this.unbindResizeListener(),this.initialized=!1},methods:{viewInit:function(){De.isVisible(this.element)&&(this.setContentEl(this.content),this.init(),this.calculateAutoSize(),this.bindResizeListener(),this.defaultWidth=De.getWidth(this.element),this.defaultHeight=De.getHeight(this.element),this.defaultContentWidth=De.getWidth(this.content),this.defaultContentHeight=De.getHeight(this.content),this.initialized=!0)},init:function(){this.disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize())},isVertical:function(){return this.orientation==="vertical"},isHorizontal:function(){return this.orientation==="horizontal"},isBoth:function(){return this.orientation==="both"},scrollTo:function(e){this.element&&this.element.scrollTo(e)},scrollToIndex:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",i=this.isBoth(),s=this.isHorizontal(),o=i?e.every(function(I){return I>-1}):e>-1;if(o){var a=this.first,l=this.element,u=l.scrollTop,c=u===void 0?0:u,h=l.scrollLeft,f=h===void 0?0:h,p=this.calculateNumItems(),g=p.numToleratedItems,b=this.getContentPosition(),A=this.itemSize,R=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,y=arguments.length>1?arguments[1]:void 0;return E<=y?0:E},k=function(E,y,v){return E*y+v},T=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.scrollTo({left:E,top:y,behavior:r})},S=i?{rows:0,cols:0}:0,M=!1,L=!1;i?(S={rows:R(e[0],g[0]),cols:R(e[1],g[1])},T(k(S.cols,A[1],b.left),k(S.rows,A[0],b.top)),L=this.lastScrollPos.top!==c||this.lastScrollPos.left!==f,M=S.rows!==a.rows||S.cols!==a.cols):(S=R(e,g),s?T(k(S,A,b.left),c):T(f,k(S,A,b.top)),L=this.lastScrollPos!==(s?f:c),M=S!==a),this.isRangeChanged=M,L&&(this.first=S)}},scrollInView:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(n){var s=this.isBoth(),o=this.isHorizontal(),a=s?e.every(function(A){return A>-1}):e>-1;if(a){var l=this.getRenderedRange(),u=l.first,c=l.viewport,h=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.scrollTo({left:R,top:k,behavior:i})},f=n==="to-start",p=n==="to-end";if(f){if(s)c.first.rows-u.rows>e[0]?h(c.first.cols*this.itemSize[1],(c.first.rows-1)*this.itemSize[0]):c.first.cols-u.cols>e[1]&&h((c.first.cols-1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.first-u>e){var g=(c.first-1)*this.itemSize;o?h(g,0):h(0,g)}}else if(p){if(s)c.last.rows-u.rows<=e[0]+1?h(c.first.cols*this.itemSize[1],(c.first.rows+1)*this.itemSize[0]):c.last.cols-u.cols<=e[1]+1&&h((c.first.cols+1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.last-u<=e+1){var b=(c.first+1)*this.itemSize;o?h(b,0):h(0,b)}}}}else this.scrollToIndex(e,i)},getRenderedRange:function(){var e=function(h,f){return Math.floor(h/(f||h))},n=this.first,r=0;if(this.element){var i=this.isBoth(),s=this.isHorizontal(),o=this.element,a=o.scrollTop,l=o.scrollLeft;if(i)n={rows:e(a,this.itemSize[0]),cols:e(l,this.itemSize[1])},r={rows:n.rows+this.numItemsInViewport.rows,cols:n.cols+this.numItemsInViewport.cols};else{var u=s?l:a;n=e(u,this.itemSize),r=n+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:n,last:r}}},calculateNumItems:function(){var e=this.isBoth(),n=this.isHorizontal(),r=this.itemSize,i=this.getContentPosition(),s=this.element?this.element.offsetWidth-i.left:0,o=this.element?this.element.offsetHeight-i.top:0,a=function(f,p){return Math.ceil(f/(p||f))},l=function(f){return Math.ceil(f/2)},u=e?{rows:a(o,r[0]),cols:a(s,r[1])}:a(n?s:o,r),c=this.d_numToleratedItems||(e?[l(u.rows),l(u.cols)]:l(u));return{numItemsInViewport:u,numToleratedItems:c}},calculateOptions:function(){var e=this,n=this.isBoth(),r=this.first,i=this.calculateNumItems(),s=i.numItemsInViewport,o=i.numToleratedItems,a=function(c,h,f){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.getLast(c+h+(c<f?2:3)*f,p)},l=n?{rows:a(r.rows,s.rows,o[0]),cols:a(r.cols,s.cols,o[1],!0)}:a(r,s,o);this.last=l,this.numItemsInViewport=s,this.d_numToleratedItems=o,this.$emit("update:numToleratedItems",this.d_numToleratedItems),this.showLoader&&(this.loaderArr=n?Array.from({length:s.rows}).map(function(){return Array.from({length:s.cols})}):Array.from({length:s})),this.lazy&&Promise.resolve().then(function(){var u;e.lazyLoadState={first:e.step?n?{rows:0,cols:r.cols}:0:r,last:Math.min(e.step?e.step:l,((u=e.items)===null||u===void 0?void 0:u.length)||0)},e.$emit("lazy-load",e.lazyLoadState)})},calculateAutoSize:function(){var e=this;this.autoSize&&!this.d_loading&&Promise.resolve().then(function(){if(e.content){var n=e.isBoth(),r=e.isHorizontal(),i=e.isVertical();e.content.style.minHeight=e.content.style.minWidth="auto",e.content.style.position="relative",e.element.style.contain="none";var s=[De.getWidth(e.element),De.getHeight(e.element)],o=s[0],a=s[1];(n||r)&&(e.element.style.width=o<e.defaultWidth?o+"px":e.scrollWidth||e.defaultWidth+"px"),(n||i)&&(e.element.style.height=a<e.defaultHeight?a+"px":e.scrollHeight||e.defaultHeight+"px"),e.content.style.minHeight=e.content.style.minWidth="",e.content.style.position="",e.element.style.contain=""}})},getLast:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;return this.items?Math.min(i?((e=this.columns||this.items[0])===null||e===void 0?void 0:e.length)||0:((n=this.items)===null||n===void 0?void 0:n.length)||0,r):0},getContentPosition:function(){if(this.content){var e=getComputedStyle(this.content),n=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),i=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),s=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:n,right:r,top:i,bottom:s,x:n+r,y:i+s}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize:function(){var e=this;if(this.element){var n=this.isBoth(),r=this.isHorizontal(),i=this.element.parentElement,s=this.scrollWidth||"".concat(this.element.offsetWidth||i.offsetWidth,"px"),o=this.scrollHeight||"".concat(this.element.offsetHeight||i.offsetHeight,"px"),a=function(u,c){return e.element.style[u]=c};n||r?(a("height",o),a("width",s)):a("height",o)}},setSpacerSize:function(){var e=this,n=this.items;if(n){var r=this.isBoth(),i=this.isHorizontal(),s=this.getContentPosition(),o=function(l,u,c){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return e.spacerStyle=Uu(Uu({},e.spacerStyle),qx({},"".concat(l),(u||[]).length*c+h+"px"))};r?(o("height",n,this.itemSize[0],s.y),o("width",this.columns||n[1],this.itemSize[1],s.x)):i?o("width",this.columns||n,this.itemSize,s.x):o("height",n,this.itemSize,s.y)}},setContentPosition:function(e){var n=this;if(this.content&&!this.appendOnly){var r=this.isBoth(),i=this.isHorizontal(),s=e?e.first:this.first,o=function(c,h){return c*h},a=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.contentStyle=Uu(Uu({},n.contentStyle),{transform:"translate3d(".concat(c,"px, ").concat(h,"px, 0)")})};if(r)a(o(s.cols,this.itemSize[1]),o(s.rows,this.itemSize[0]));else{var l=o(s,this.itemSize);i?a(l,0):a(0,l)}}},onScrollPositionChange:function(e){var n=this,r=e.target,i=this.isBoth(),s=this.isHorizontal(),o=this.getContentPosition(),a=function(w,C){return w?w>C?w-C:w:0},l=function(w,C){return Math.floor(w/(C||w))},u=function(w,C,P,q,$,j){return w<=$?$:j?P-q-$:C+$-1},c=function(w,C,P,q,$,j,F){return w<=j?0:Math.max(0,F?w<C?P:w-j:w>C?P:w-2*j)},h=function(w,C,P,q,$,j){var F=C+q+2*$;return w>=$&&(F+=$+1),n.getLast(F,j)},f=a(r.scrollTop,o.top),p=a(r.scrollLeft,o.left),g=i?{rows:0,cols:0}:0,b=this.last,A=!1,R=this.lastScrollPos;if(i){var k=this.lastScrollPos.top<=f,T=this.lastScrollPos.left<=p;if(!this.appendOnly||this.appendOnly&&(k||T)){var S={rows:l(f,this.itemSize[0]),cols:l(p,this.itemSize[1])},M={rows:u(S.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],k),cols:u(S.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],T)};g={rows:c(S.rows,M.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],k),cols:c(S.cols,M.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],T)},b={rows:h(S.rows,g.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:h(S.cols,g.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},A=g.rows!==this.first.rows||b.rows!==this.last.rows||g.cols!==this.first.cols||b.cols!==this.last.cols||this.isRangeChanged,R={top:f,left:p}}}else{var L=s?p:f,I=this.lastScrollPos<=L;if(!this.appendOnly||this.appendOnly&&I){var E=l(L,this.itemSize),y=u(E,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,I);g=c(E,y,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,I),b=h(E,g,this.last,this.numItemsInViewport,this.d_numToleratedItems),A=g!==this.first||b!==this.last||this.isRangeChanged,R=L}}return{first:g,last:b,isRangeChanged:A,scrollPos:R}},onScrollChange:function(e){var n=this.onScrollPositionChange(e),r=n.first,i=n.last,s=n.isRangeChanged,o=n.scrollPos;if(s){var a={first:r,last:i};if(this.setContentPosition(a),this.first=r,this.last=i,this.lastScrollPos=o,this.$emit("scroll-index-change",a),this.lazy&&this.isPageChanged(r)){var l,u,c={first:this.step?Math.min(this.getPageByFirst(r)*this.step,(((l=this.items)===null||l===void 0?void 0:l.length)||0)-this.step):r,last:Math.min(this.step?(this.getPageByFirst(r)+1)*this.step:i,((u=this.items)===null||u===void 0?void 0:u.length)||0)},h=this.lazyLoadState.first!==c.first||this.lazyLoadState.last!==c.last;h&&this.$emit("lazy-load",c),this.lazyLoadState=c}}},onScroll:function(e){var n=this;if(this.$emit("scroll",e),this.delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.isPageChanged()){if(!this.d_loading&&this.showLoader){var r=this.onScrollPositionChange(e),i=r.isRangeChanged,s=i||(this.step?this.isPageChanged():!1);s&&(this.d_loading=!0)}this.scrollTimeout=setTimeout(function(){n.onScrollChange(e),n.d_loading&&n.showLoader&&(!n.lazy||n.loading===void 0)&&(n.d_loading=!1,n.page=n.getPageByFirst())},this.delay)}}else this.onScrollChange(e)},onResize:function(){var e=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){if(De.isVisible(e.element)){var n=e.isBoth(),r=e.isVertical(),i=e.isHorizontal(),s=[De.getWidth(e.element),De.getHeight(e.element)],o=s[0],a=s[1],l=o!==e.defaultWidth,u=a!==e.defaultHeight,c=n?l||u:i?l:r?u:!1;c&&(e.d_numToleratedItems=e.numToleratedItems,e.defaultWidth=o,e.defaultHeight=a,e.defaultContentWidth=De.getWidth(e.content),e.defaultContentHeight=De.getHeight(e.content),e.init())}},this.resizeDelay)},bindResizeListener:function(){this.resizeListener||(this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener),window.addEventListener("orientationchange",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),window.removeEventListener("orientationchange",this.resizeListener),this.resizeListener=null)},getOptions:function(e){var n=(this.items||[]).length,r=this.isBoth()?this.first.rows+e:this.first+e;return{index:r,count:n,first:r===0,last:r===n-1,even:r%2===0,odd:r%2!==0}},getLoaderOptions:function(e,n){var r=this.loaderArr.length;return Uu({index:e,count:r,first:e===0,last:e===r-1,even:e%2===0,odd:e%2!==0},n)},getPageByFirst:function(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this.step||1))},isPageChanged:function(e){return this.step?this.page!==this.getPageByFirst(e??this.first):!0},setContentEl:function(e){this.content=e||this.content||De.findSingle(this.element,'[data-pc-section="content"]')},elementRef:function(e){this.element=e},contentRef:function(e){this.content=e}},computed:{containerClass:function(){return["p-virtualscroller",this.class,{"p-virtualscroller-inline":this.inline,"p-virtualscroller-both p-both-scroll":this.isBoth(),"p-virtualscroller-horizontal p-horizontal-scroll":this.isHorizontal()}]},contentClass:function(){return["p-virtualscroller-content",{"p-virtualscroller-loading":this.d_loading}]},loaderClass:function(){return["p-virtualscroller-loader",{"p-component-overlay":!this.$slots.loader}]},loadedItems:function(){var e=this;return this.items&&!this.d_loading?this.isBoth()?this.items.slice(this.appendOnly?0:this.first.rows,this.last.rows).map(function(n){return e.columns?n:n.slice(e.appendOnly?0:e.first.cols,e.last.cols)}):this.isHorizontal()&&this.columns?this.items:this.items.slice(this.appendOnly?0:this.first,this.last):[]},loadedRows:function(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns:function(){if(this.columns){var e=this.isBoth(),n=this.isHorizontal();if(e||n)return this.d_loading&&this.loaderDisabled?e?this.loaderArr[0]:this.loaderArr:this.columns.slice(e?this.first.cols:this.first,e?this.last.cols:this.last)}return this.columns}},components:{SpinnerIcon:bm}},UX=["tabindex"];function BX(t,e,n,r,i,s){var o=zr("SpinnerIcon");return t.disabled?(W(),ee(Ne,{key:1},[_e(t.$slots,"default"),_e(t.$slots,"content",{items:t.items,rows:t.items,columns:s.loadedColumns})],64)):(W(),ee("div",pe({key:0,ref:s.elementRef,class:s.containerClass,tabindex:t.tabindex,style:t.style,onScroll:e[0]||(e[0]=function(){return s.onScroll&&s.onScroll.apply(s,arguments)})},t.ptmi("root")),[_e(t.$slots,"content",{styleClass:s.contentClass,items:s.loadedItems,getItemOptions:s.getOptions,loading:i.d_loading,getLoaderOptions:s.getLoaderOptions,itemSize:t.itemSize,rows:s.loadedRows,columns:s.loadedColumns,contentRef:s.contentRef,spacerStyle:i.spacerStyle,contentStyle:i.contentStyle,vertical:s.isVertical(),horizontal:s.isHorizontal(),both:s.isBoth()},function(){return[Ce("div",pe({ref:s.contentRef,class:s.contentClass,style:i.contentStyle},t.ptm("content")),[(W(!0),ee(Ne,null,Ft(s.loadedItems,function(a,l){return _e(t.$slots,"item",{key:l,item:a,options:s.getOptions(l)})}),128))],16)]}),t.showSpacer?(W(),ee("div",pe({key:0,class:"p-virtualscroller-spacer",style:i.spacerStyle},t.ptm("spacer")),null,16)):de("",!0),!t.loaderDisabled&&t.showLoader&&i.d_loading?(W(),ee("div",pe({key:1,class:s.loaderClass},t.ptm("loader")),[t.$slots&&t.$slots.loader?(W(!0),ee(Ne,{key:0},Ft(i.loaderArr,function(a,l){return _e(t.$slots,"loader",{key:l,options:s.getLoaderOptions(l,s.isBoth()&&{numCols:t.d_numItemsInViewport.cols})})}),128)):de("",!0),_e(t.$slots,"loadingicon",{},function(){return[et(o,pe({spin:"",class:"p-virtualscroller-loading-icon"},t.ptm("loadingIcon")),null,16)]})],16)):de("",!0)],16,UX))}Ab.render=BX;var jX={root:function(e){var n=e.instance,r=e.props,i=e.state;return["p-dropdown p-component p-inputwrapper",{"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-dropdown-clearable":r.showClear,"p-focus":i.focused,"p-inputwrapper-filled":n.hasSelectedOption,"p-inputwrapper-focus":i.focused||i.overlayVisible,"p-overlay-open":i.overlayVisible}]},input:function(e){var n,r=e.instance,i=e.props;return["p-dropdown-label p-inputtext",{"p-placeholder":!i.editable&&r.label===i.placeholder,"p-dropdown-label-empty":!i.editable&&!r.$slots.value&&(r.label==="p-emptylabel"||((n=r.label)===null||n===void 0?void 0:n.length)===0)}]},clearIcon:"p-dropdown-clear-icon",trigger:"p-dropdown-trigger",loadingicon:"p-dropdown-trigger-icon",dropdownIcon:"p-dropdown-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-dropdown-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-dropdown-header",filterContainer:"p-dropdown-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-dropdown-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-dropdown-filter-icon",wrapper:"p-dropdown-items-wrapper",list:"p-dropdown-items",itemGroup:"p-dropdown-item-group",itemGroupLabel:"p-dropdown-item-group-label",item:function(e){var n=e.instance,r=e.props,i=e.state,s=e.option,o=e.focusedOption;return["p-dropdown-item",{"p-highlight":n.isSelected(s)&&r.highlightOnSelect,"p-focus":i.focusedOptionIndex===o,"p-disabled":n.isOptionDisabled(s)}]},itemLabel:"p-dropdown-item-label",checkIcon:"p-dropdown-check-icon",blankIcon:"p-dropdown-blank-icon",emptyMessage:"p-dropdown-empty-message"},HX=fi.extend({name:"dropdown",classes:jX}),WX={name:"BaseDropdown",extends:Da,props:{modelValue:null,options:Array,optionLabel:[String,Function],optionValue:[String,Function],optionDisabled:[String,Function],optionGroupLabel:[String,Function],optionGroupChildren:[String,Function],scrollHeight:{type:String,default:"200px"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dataKey:null,showClear:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},clearIconProps:{type:null,default:null},appendTo:{type:[String,Object],default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},resetFilterOnHide:{type:Boolean,default:!1},resetFilterOnClear:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!0},checkmark:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:HX,provide:function(){return{$parentInstance:this}}};function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function qX(t){return GX(t)||YX(t)||KX(t)||zX()}function zX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KX(t,e){if(t){if(typeof t=="string")return My(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return My(t,e)}}function YX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GX(t){if(Array.isArray(t))return My(t)}function My(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sS(Object(n),!0).forEach(function(r){zx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zx(t,e,n){return e=QX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QX(t){var e=XX(t,"string");return fd(e)=="symbol"?e:String(e)}function XX(t,e){if(fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kx={name:"Dropdown",extends:WX,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter"],outsideClickListener:null,scrollHandler:null,resizeListener:null,labelClickListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||dp()},modelValue:function(){this.isModelValueChanged=!0},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||dp(),this.autoUpdateModel(),this.bindLabelClickListener()},updated:function(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindLabelClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Il.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?we.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?we.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return(this.dataKey?we.resolveFieldData(e,this.dataKey):this.getOptionLabel(e))+"_"+n},getPTItemOptions:function(e,n,r,i){return this.ptm(i,{context:{option:e,index:r,selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.optionDisabled?we.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return we.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return we.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),e&&De.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&De.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){if(this.disabled||De.isAndroid()){e.preventDefault();return}var n=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!n&&we.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked=!1},onEditableInput:function(e){var n=e.target.value;this.searchValue="";var r=this.searchOptions(e,n);!r&&(this.focusedOptionIndex=-1),this.updateModel(e,n),!this.overlayVisible&&we.isNotEmpty(n)&&this.show()},onContainerClick:function(e){this.disabled||this.loading||e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onClearClick:function(e){this.updateModel(e,null),this.resetFilterOnClear&&(this.filterValue=null)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?De.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;De.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?De.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;De.focus(n)},onOptionSelect:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=this.getOptionValue(n);this.updateModel(e,i),r&&this.hide(!0)},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){Hx.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,e.target.selectionStart):(r.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(e.target.selectionStart,r.value.length);else{var i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onSpaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!n&&this.onEnterKey(e)},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault(),e.stopPropagation()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(De.focus(this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&!this.overlayVisible&&this.show()},onOverlayEnter:function(e){Il.set("overlay",e,this.$primevue.config.zIndex.overlay),De.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&De.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Il.clear(e)},alignOverlay:function(){this.appendTo==="self"?De.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=De.getOuterWidth(this.$el)+"px",De.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.overlay&&!e.$el.contains(n.target)&&!e.overlay.contains(n.target)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new Lx(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!De.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindLabelClickListener:function(){var e=this;if(!this.editable&&!this.labelClickListener){var n=document.querySelector('label[for="'.concat(this.inputId,'"]'));n&&De.isVisible(n)&&(this.labelClickListener=function(){De.focus(e.$refs.focusInput)},n.addEventListener("click",this.labelClickListener))}},unbindLabelClickListener:function(){if(this.labelClickListener){var e=document.querySelector('label[for="'.concat(this.inputId,'"]'));e&&De.isVisible(e)&&e.removeEventListener("click",this.labelClickListener)}},hasFocusableElements:function(){return De.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return we.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected:function(e){return this.isValidOption(e)&&we.equals(this.modelValue,this.getOptionValue(e),this.equalityKey)},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return we.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?we.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e,n){var r=this;this.searchValue=(this.searchValue||"")+n;var i=-1,s=!1;return we.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(i=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}),i=i===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}):i+this.focusedOptionIndex):i=this.visibleOptions.findIndex(function(o){return r.isOptionMatched(o)}),i!==-1&&(s=!0),i===-1&&this.focusedOptionIndex===-1&&(i=this.findFirstFocusedOptionIndex()),i!==-1&&this.changeFocusedOptionIndex(e,i)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){r.searchValue="",r.searchTimeout=null},500),s},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n],!1))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=De.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=Vx.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(oS(oS({},o),{},zx({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",qX(l))))}),this.flatOptions(s)}return r}return n},hasSelectedOption:function(){return we.isNotEmpty(this.modelValue)},label:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.placeholder||"p-emptylabel"},editableInputValue:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.modelValue||""},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},filterResultMessageText:function(){return we.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:Wx},components:{VirtualScroller:Ab,Portal:Cb,TimesIcon:Sb,ChevronDownIcon:Eb,SpinnerIcon:bm,SearchIcon:Ib,CheckIcon:_m,BlankIcon:jx}};function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function aS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aS(Object(n),!0).forEach(function(r){JX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JX(t,e,n){return e=ZX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZX(t){var e=eJ(t,"string");return pd(e)=="symbol"?e:String(e)}function eJ(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tJ=["id"],nJ=["id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],rJ=["id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-disabled"],iJ=["value","placeholder","aria-owns","aria-activedescendant"],sJ=["id","aria-label"],oJ=["id"],aJ=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function lJ(t,e,n,r,i,s){var o=zr("SpinnerIcon"),a=zr("CheckIcon"),l=zr("BlankIcon"),u=zr("VirtualScroller"),c=zr("Portal"),h=BC("ripple");return W(),ee("div",pe({ref:"container",id:i.id,class:t.cx("root"),onClick:e[16]||(e[16]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[t.editable?(W(),ee("input",pe({key:0,ref:"focusInput",id:t.inputId,type:"text",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:s.editableInputValue,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,disabled:t.disabled,autocomplete:"off",role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)}),onInput:e[3]||(e[3]=function(){return s.onEditableInput&&s.onEditableInput.apply(s,arguments)})},Li(Li({},t.inputProps),t.ptm("input"))),null,16,nJ)):(W(),ee("span",pe({key:1,ref:"focusInput",id:t.inputId,class:[t.cx("input"),t.inputClass],style:t.inputStyle,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel||(s.label==="p-emptylabel"?void 0:s.label),"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-disabled":t.disabled,onFocus:e[4]||(e[4]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[5]||(e[5]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[6]||(e[6]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},Li(Li({},t.inputProps),t.ptm("input"))),[_e(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[Dn(dt(s.label==="p-emptylabel"?"":s.label||"empty"),1)]})],16,rJ)),t.showClear&&t.modelValue!=null?_e(t.$slots,"clearicon",{key:2,class:tt(t.cx("clearIcon")),onClick:s.onClearClick,clearCallback:s.onClearClick},function(){return[(W(),qe(qr(t.clearIcon?"i":"TimesIcon"),pe({ref:"clearIcon",class:[t.cx("clearIcon"),t.clearIcon],onClick:s.onClearClick},Li(Li({},t.clearIconProps),t.ptm("clearIcon")),{"data-pc-section":"clearicon"}),null,16,["class","onClick"]))]}):de("",!0),Ce("div",pe({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?_e(t.$slots,"loadingicon",{key:0,class:tt(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(W(),ee("span",pe({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(W(),qe(o,pe({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):_e(t.$slots,"dropdownicon",{key:1,class:tt(t.cx("dropdownIcon"))},function(){return[(W(),qe(qr(t.dropdownIcon?"span":"ChevronDownIcon"),pe({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),et(c,{appendTo:t.appendTo},{default:Qe(function(){return[et(So,pe({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:Qe(function(){return[i.overlayVisible?(W(),ee("div",pe({key:0,ref:s.overlayRef,class:[t.cx("panel"),t.panelClass],style:t.panelStyle,onClick:e[14]||(e[14]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[15]||(e[15]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},Li(Li({},t.panelProps),t.ptm("panel"))),[Ce("span",pe({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[7]||(e[7]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),_e(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.filter?(W(),ee("div",pe({key:0,class:t.cx("header")},t.ptm("header")),[Ce("div",pe({class:t.cx("filterContainer")},t.ptm("filterContainer")),[Ce("input",pe({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[8]||(e[8]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[9]||(e[9]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[10]||(e[10]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[11]||(e[11]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[12]||(e[12]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},Li(Li({},t.filterInputProps),t.ptm("filterInput"))),null,16,iJ),_e(t.$slots,"filtericon",{class:tt(t.cx("filterIcon"))},function(){return[(W(),qe(qr(t.filterIcon?"span":"SearchIcon"),pe({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16),Ce("span",pe({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),dt(s.filterResultMessageText),17)],16)):de("",!0),Ce("div",pe({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[et(u,pe({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),Zn({content:Qe(function(f){var p=f.styleClass,g=f.contentRef,b=f.items,A=f.getItemOptions,R=f.contentStyle,k=f.itemSize;return[Ce("ul",pe({ref:function(S){return s.listRef(S,g)},id:i.id+"_list",class:[t.cx("list"),p],style:R,role:"listbox","aria-label":s.listAriaLabel},t.ptm("list")),[(W(!0),ee(Ne,null,Ft(b,function(T,S){return W(),ee(Ne,{key:s.getOptionRenderKey(T,s.getOptionIndex(S,A))},[s.isOptionGroup(T)?(W(),ee("li",pe({key:0,id:i.id+"_"+s.getOptionIndex(S,A),style:{height:k?k+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[_e(t.$slots,"optiongroup",{option:T.optionGroup,index:s.getOptionIndex(S,A)},function(){return[Ce("span",pe({class:t.cx("itemGroupLabel")},t.ptm("itemGroupLabel")),dt(s.getOptionGroupLabel(T.optionGroup)),17)]})],16,oJ)):Ko((W(),ee("li",pe({key:1,id:i.id+"_"+s.getOptionIndex(S,A),class:t.cx("item",{option:T,focusedOption:s.getOptionIndex(S,A)}),style:{height:k?k+"px":void 0},role:"option","aria-label":s.getOptionLabel(T),"aria-selected":s.isSelected(T),"aria-disabled":s.isOptionDisabled(T),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(S,A)),onClick:function(L){return s.onOptionSelect(L,T)},onMousemove:function(L){return s.onOptionMouseMove(L,s.getOptionIndex(S,A))},"data-p-highlight":s.isSelected(T),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(S,A),"data-p-disabled":s.isOptionDisabled(T)},s.getPTItemOptions(T,A,S,"item")),[t.checkmark?(W(),ee(Ne,{key:0},[s.isSelected(T)?(W(),qe(a,pe({key:0,class:t.cx("checkIcon")},t.ptm("checkIcon")),null,16,["class"])):(W(),qe(l,pe({key:1,class:t.cx("blankIcon")},t.ptm("blankIcon")),null,16,["class"]))],64)):de("",!0),_e(t.$slots,"option",{option:T,index:s.getOptionIndex(S,A)},function(){return[Ce("span",pe({class:t.cx("itemLabel")},t.ptm("itemLabel")),dt(s.getOptionLabel(T)),17)]})],16,aJ)),[[h]])],64)}),128)),i.filterValue&&(!b||b&&b.length===0)?(W(),ee("li",pe({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[_e(t.$slots,"emptyfilter",{},function(){return[Dn(dt(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(W(),ee("li",pe({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[_e(t.$slots,"empty",{},function(){return[Dn(dt(s.emptyMessageText),1)]})],16)):de("",!0)],16,sJ)]}),_:2},[t.$slots.loader?{name:"loader",fn:Qe(function(f){var p=f.options;return[_e(t.$slots,"loader",{options:p})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),_e(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(W(),ee("span",pe({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),dt(s.emptyMessageText),17)):de("",!0),Ce("span",pe({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),dt(s.selectedMessageText),17),Ce("span",pe({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[13]||(e[13]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):de("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16,tJ)}Kx.render=lJ;var uJ={root:function(e){var n=e.instance,r=e.props;return["p-inputtext p-component",{"p-filled":n.filled,"p-inputtext-sm":r.size==="small","p-inputtext-lg":r.size==="large","p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},cJ=fi.extend({name:"inputtext",classes:uJ}),dJ={name:"BaseInputText",extends:Da,props:{modelValue:null,size:{type:String,default:null},invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:cJ,provide:function(){return{$parentInstance:this}}},Yx={name:"InputText",extends:dJ,inheritAttrs:!1,emits:["update:modelValue"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{filled:this.filled,disabled:this.$attrs.disabled||this.$attrs.disabled===""}})},onInput:function(e){this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0}}},hJ=["value","aria-invalid"];function fJ(t,e,n,r,i,s){return W(),ee("input",pe({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},s.getPTOptions("root")),null,16,hJ)}Yx.render=fJ;var pJ={root:function(e){var n=e.instance,r=e.props;return["p-checkbox p-component",{"p-highlight":n.checked,"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]},box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},mJ=fi.extend({name:"checkbox",classes:pJ}),gJ={name:"BaseCheckbox",extends:Da,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:mJ,provide:function(){return{$parentInstance:this}}};function vJ(t){return wJ(t)||bJ(t)||_J(t)||yJ()}function yJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _J(t,e){if(t){if(typeof t=="string")return Ly(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ly(t,e)}}function bJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wJ(t){if(Array.isArray(t))return Ly(t)}function Ly(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Gx={name:"Checkbox",extends:gJ,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){var n=this;if(!this.disabled&&!this.readonly){var r;this.binary?r=this.checked?this.falseValue:this.trueValue:this.checked?r=this.modelValue.filter(function(i){return!we.equals(i,n.value)}):r=this.modelValue?[].concat(vJ(this.modelValue),[this.value]):[this.value],this.$emit("update:modelValue",r),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.binary?this.modelValue===this.trueValue:we.contains(this.value,this.modelValue)}},components:{CheckIcon:_m}},TJ=["data-p-highlight","data-p-disabled"],EJ=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label","aria-invalid"];function IJ(t,e,n,r,i,s){var o=zr("CheckIcon");return W(),ee("div",pe({class:t.cx("root")},s.getPTOptions("root"),{"data-p-highlight":s.checked,"data-p-disabled":t.disabled}),[Ce("input",pe({id:t.inputId,type:"checkbox",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:t.value,name:t.name,checked:s.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,required:t.required,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onChange:e[2]||(e[2]=function(){return s.onChange&&s.onChange.apply(s,arguments)})},s.getPTOptions("input")),null,16,EJ),Ce("div",pe({class:t.cx("box")},s.getPTOptions("box")),[_e(t.$slots,"icon",{checked:s.checked,class:tt(t.cx("icon"))},function(){return[s.checked?(W(),qe(o,pe({key:0,class:t.cx("icon")},s.getPTOptions("icon")),null,16,["class"])):de("",!0)]})],16)],16,TJ)}Gx.render=IJ;var Qx={name:"TimesCircleIcon",extends:xa},SJ=Ce("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"},null,-1),CJ=[SJ];function AJ(t,e,n,r,i,s){return W(),ee("svg",pe({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),CJ,16)}Qx.render=AJ;var OJ={root:function(e){var n=e.props;return{position:n.appendTo==="self"?"relative":void 0}}},PJ={root:function(e){var n=e.instance,r=e.props;return["p-multiselect p-component p-inputwrapper",{"p-multiselect-chip":r.display==="chip","p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-focus":n.focused,"p-inputwrapper-filled":r.modelValue&&r.modelValue.length,"p-inputwrapper-focus":n.focused||n.overlayVisible,"p-overlay-open":n.overlayVisible}]},labelContainer:"p-multiselect-label-container",label:function(e){var n=e.instance,r=e.props;return["p-multiselect-label",{"p-placeholder":n.label===r.placeholder,"p-multiselect-label-empty":!r.placeholder&&(!r.modelValue||r.modelValue.length===0)}]},token:"p-multiselect-token",tokenLabel:"p-multiselect-token-label",removeTokenIcon:"p-multiselect-token-icon",trigger:"p-multiselect-trigger",loadingIcon:"p-multiselect-trigger-icon",dropdownIcon:"p-multiselect-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-multiselect-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-multiselect-header",filterContainer:"p-multiselect-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-multiselect-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-multiselect-filter-icon",closeButton:"p-multiselect-close p-link",closeIcon:"p-multiselect-close-icon",wrapper:"p-multiselect-items-wrapper",list:"p-multiselect-items p-component",itemGroup:"p-multiselect-item-group",item:function(e){var n=e.instance,r=e.option,i=e.index,s=e.getItemOptions,o=e.props;return["p-multiselect-item",{"p-highlight":n.isSelected(r)&&o.highlightOnSelect,"p-focus":n.focusedOptionIndex===n.getOptionIndex(i,s),"p-disabled":n.isOptionDisabled(r)}]},emptyMessage:"p-multiselect-empty-message"},kJ=fi.extend({name:"multiselect",classes:PJ,inlineStyles:OJ}),RJ={name:"BaseMultiSelect",extends:Da,props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"200px"},placeholder:String,variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:Boolean,inputId:{type:String,default:null},inputProps:{type:null,default:null},panelClass:{type:String,default:null},panelStyle:{type:null,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},closeButtonProps:{type:null,default:null},dataKey:null,filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},appendTo:{type:[String,Object],default:"body"},display:{type:String,default:"comma"},selectedItemsLabel:{type:String,default:"{0} items selected"},maxSelectedLabels:{type:Number,default:null},selectionLimit:{type:Number,default:null},showToggleAll:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},checkboxIcon:{type:String,default:void 0},closeIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},removeTokenIcon:{type:String,default:void 0},selectAll:{type:Boolean,default:null},resetFilterOnHide:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:kJ,provide:function(){return{$parentInstance:this}}};function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function lS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lS(Object(n),!0).forEach(function(r){Xx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xx(t,e,n){return e=DJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DJ(t){var e=xJ(t,"string");return md(e)=="symbol"?e:String(e)}function xJ(t,e){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cS(t){return VJ(t)||LJ(t)||MJ(t)||NJ()}function NJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MJ(t,e){if(t){if(typeof t=="string")return Vy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vy(t,e)}}function LJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VJ(t){if(Array.isArray(t))return Vy(t)}function Vy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Jx={name:"MultiSelect",extends:RJ,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter","selectall-change"],outsideClickListener:null,scrollHandler:null,resizeListener:null,overlay:null,list:null,virtualScroller:null,startRangeIndex:-1,searchTimeout:null,searchValue:"",selectOnFocus:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||dp()},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||dp(),this.autoUpdateModel()},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Il.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?we.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?we.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return this.dataKey?we.resolveFieldData(e,this.dataKey):this.getOptionLabel(e)+"_".concat(n)},getHeaderCheckboxPTOptions:function(e){return this.ptm(e,{context:{selected:this.allSelected}})},getCheckboxPTOptions:function(e,n,r,i){return this.ptm(i,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.maxSelectionLimitReached&&!this.isSelected(e)?!0:this.optionDisabled?we.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return we.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return we.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),e&&De.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&De.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.clicked=!1,this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){var n=this;if(this.disabled){e.preventDefault();return}var r=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey(e);break;default:if(e.code==="KeyA"&&r){var i=this.visibleOptions.filter(function(s){return n.isValidOption(s)}).map(function(s){return n.getOptionValue(s)});this.updateModel(e,i),e.preventDefault();break}!r&&we.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e),e.preventDefault());break}this.clicked=!1},onContainerClick:function(e){this.disabled||this.loading||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?De.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;De.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?De.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;De.focus(n)},onCloseClick:function(){this.hide(!0)},onOptionSelect:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!(this.disabled||this.isOptionDisabled(n))){var o=this.isSelected(n),a=null;o?a=this.modelValue.filter(function(l){return!we.equals(l,r.getOptionValue(n),r.equalityKey)}):a=[].concat(cS(this.modelValue||[]),[this.getOptionValue(n)]),this.updateModel(e,a),i!==-1&&(this.focusedOptionIndex=i),s&&De.focus(this.$refs.focusInput)}},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onOptionSelectRange:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(r===-1&&(r=this.findNearestSelectedOptionIndex(i,!0)),i===-1&&(i=this.findNearestSelectedOptionIndex(r)),r!==-1&&i!==-1){var s=Math.min(r,i),o=Math.max(r,i),a=this.visibleOptions.slice(s,o+1).filter(function(l){return n.isValidOption(l)}).map(function(l){return n.getOptionValue(l)});this.updateModel(e,a)}},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){Hx.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show();else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex,n),this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,r,this.startRangeIndex),this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,e.target.selectionStart):(r.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else{var i=e.metaKey||e.ctrlKey,s=this.findFirstOptionIndex();e.shiftKey&&i&&this.onOptionSelectRange(e,s,this.startRangeIndex),this.changeFocusedOptionIndex(e,s),!this.overlayVisible&&this.show()}e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(e.target.selectionStart,r.value.length);else{var i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}}else{var s=e.metaKey||e.ctrlKey,o=this.findLastOptionIndex();e.shiftKey&&s&&this.onOptionSelectRange(e,this.startRangeIndex,o),this.changeFocusedOptionIndex(e,o),!this.overlayVisible&&this.show()}e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?this.focusedOptionIndex!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex):this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex])):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(De.focus(e.shiftKey?this.$refs.lastHiddenFocusableElementOnOverlay:this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onShiftKey:function(){this.startRangeIndex=this.focusedOptionIndex},onOverlayEnter:function(e){Il.set("overlay",e,this.$primevue.config.zIndex.overlay),De.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&De.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Il.clear(e)},alignOverlay:function(){this.appendTo==="self"?De.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=De.getOuterWidth(this.$el)+"px",De.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.isOutsideClicked(n)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new Lx(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!De.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isOutsideClicked:function(e){return!(this.$el.isSameNode(e.target)||this.$el.contains(e.target)||this.overlay&&this.overlay.contains(e.target))},getLabelByValue:function(e){var n=this,r=this.optionGroupLabel?this.flatOptions(this.options):this.options||[],i=r.find(function(s){return!n.isOptionGroup(s)&&we.equals(n.getOptionValue(s),e,n.equalityKey)});return i?this.getOptionLabel(i):null},getSelectedItemsLabel:function(){var e=/{(.*?)}/,n=this.selectedItemsLabel||this.$primevue.config.locale.selectionMessage;return e.test(n)?n.replace(n.match(e)[0],this.modelValue.length+""):n},onToggleAll:function(e){var n=this;if(this.selectAll!==null)this.$emit("selectall-change",{originalEvent:e,checked:!this.allSelected});else{var r=this.allSelected?[]:this.visibleOptions.filter(function(i){return n.isValidOption(i)}).map(function(i){return n.getOptionValue(i)});this.updateModel(e,r)}},removeOption:function(e,n){var r=this,i=this.modelValue.filter(function(s){return!we.equals(s,n,r.equalityKey)});this.updateModel(e,i)},clearFilter:function(){this.filterValue=null},hasFocusableElements:function(){return De.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return we.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isEquals:function(e,n){return we.equals(e,n,this.equalityKey)},isSelected:function(e){var n=this,r=this.getOptionValue(e);return(this.modelValue||[]).some(function(i){return n.isEquals(i,r)})},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return we.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?we.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;if(this.hasSelectedOption){for(var n=function(){var o=e.modelValue[i],a=e.visibleOptions.findIndex(function(l){return e.isValidSelectedOption(l)&&e.isEquals(o,e.getOptionValue(l))});if(a>-1)return{v:a}},r,i=this.modelValue.length-1;i>=0;i--)if(r=n(),r)return r.v}return-1},findFirstSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findLastSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?we.findLastIndex(this.visibleOptions,function(n){return e.isValidSelectedOption(n)}):-1},findNextSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r+e+1:-1},findPrevSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e>0?we.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r:-1},findNearestSelectedOptionIndex:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=-1;return this.hasSelectedOption&&(n?(r=this.findPrevSelectedOptionIndex(e),r=r===-1?this.findNextSelectedOptionIndex(e):r):(r=this.findNextSelectedOptionIndex(e),r=r===-1?this.findPrevSelectedOptionIndex(e):r)),r>-1?r:e},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e){var n=this;this.searchValue=(this.searchValue||"")+e.key;var r=-1;we.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(r=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}),r=r===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}):r+this.focusedOptionIndex):r=this.visibleOptions.findIndex(function(i){return n.isOptionMatched(i)}),r===-1&&this.focusedOptionIndex===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(e,r)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){n.searchValue="",n.searchTimeout=null},500)},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n]))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=De.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption){this.focusedOptionIndex=this.findFirstFocusedOptionIndex();var e=this.getOptionValue(this.visibleOptions[this.focusedOptionIndex]);this.updateModel(null,[e])}},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=Vx.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(uS(uS({},o),{},Xx({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",cS(l))))}),this.flatOptions(s)}return r}return n},label:function(){var e;if(this.modelValue&&this.modelValue.length){if(we.isNotEmpty(this.maxSelectedLabels)&&this.modelValue.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();e="";for(var n=0;n<this.modelValue.length;n++)n!==0&&(e+=", "),e+=this.getLabelByValue(this.modelValue[n])}else e=this.placeholder;return e},chipSelectedItems:function(){return we.isNotEmpty(this.maxSelectedLabels)&&this.modelValue&&this.modelValue.length>this.maxSelectedLabels?this.modelValue.slice(0,this.maxSelectedLabels):this.modelValue},allSelected:function(){var e=this;return this.selectAll!==null?this.selectAll:we.isNotEmpty(this.visibleOptions)&&this.visibleOptions.every(function(n){return e.isOptionGroup(n)||e.isOptionDisabled(n)||e.isSelected(n)})},hasSelectedOption:function(){return we.isNotEmpty(this.modelValue)},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},maxSelectionLimitReached:function(){return this.selectionLimit&&this.modelValue&&this.modelValue.length===this.selectionLimit},filterResultMessageText:function(){return we.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}",this.modelValue.length):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},toggleAllAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[this.allSelected?"selectAll":"unselectAll"]:void 0},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:Wx},components:{Checkbox:Gx,VirtualScroller:Ab,Portal:Cb,TimesIcon:Sb,SearchIcon:Ib,TimesCircleIcon:Qx,ChevronDownIcon:Eb,SpinnerIcon:bm,CheckIcon:_m}};function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function dS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dS(Object(n),!0).forEach(function(r){Fy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fy(t,e,n){return e=FJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FJ(t){var e=$J(t,"string");return gd(e)=="symbol"?e:String(e)}function $J(t,e){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UJ=["id","disabled","placeholder","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],BJ=["onClick"],jJ=["value","placeholder","aria-owns","aria-activedescendant"],HJ=["aria-label"],WJ=["id","aria-label"],qJ=["id"],zJ=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function KJ(t,e,n,r,i,s){var o=zr("TimesCircleIcon"),a=zr("SpinnerIcon"),l=zr("Checkbox"),u=zr("VirtualScroller"),c=zr("Portal"),h=BC("ripple");return W(),ee("div",pe({ref:"container",class:t.cx("root"),style:t.sx("root"),onClick:e[13]||(e[13]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[Ce("div",pe({class:"p-hidden-accessible"},t.ptm("hiddenInputWrapper"),{"data-p-hidden-accessible":!0}),[Ce("input",pe({ref:"focusInput",id:t.inputId,type:"text",readonly:"",disabled:t.disabled,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},Hs(Hs({},t.inputProps),t.ptm("hiddenInput"))),null,16,UJ)],16),Ce("div",pe({class:t.cx("labelContainer")},t.ptm("labelContainer")),[Ce("div",pe({class:t.cx("label")},t.ptm("label")),[_e(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[t.display==="comma"?(W(),ee(Ne,{key:0},[Dn(dt(s.label||"empty"),1)],64)):t.display==="chip"?(W(),ee(Ne,{key:1},[(W(!0),ee(Ne,null,Ft(s.chipSelectedItems,function(f){return W(),ee("div",pe({key:s.getLabelByValue(f),class:t.cx("token")},t.ptm("token")),[_e(t.$slots,"chip",{value:f},function(){return[Ce("span",pe({class:t.cx("tokenLabel")},t.ptm("tokenLabel")),dt(s.getLabelByValue(f)),17)]}),t.disabled?de("",!0):_e(t.$slots,"removetokenicon",{key:0,class:tt(t.cx("removeTokenIcon")),item:f,onClick:function(g){return s.removeOption(g,f)},removeCallback:function(g){return s.removeOption(g,f)}},function(){return[t.removeTokenIcon?(W(),ee("span",pe({key:0,class:[t.cx("removeTokenIcon"),t.removeTokenIcon],onClick:Lt(function(p){return s.removeOption(p,f)},["stop"])},t.ptm("removeTokenIcon")),null,16,BJ)):(W(),qe(o,pe({key:1,class:t.cx("removeTokenIcon"),onClick:Lt(function(p){return s.removeOption(p,f)},["stop"])},t.ptm("removeTokenIcon")),null,16,["class","onClick"]))]})],16)}),128)),!t.modelValue||t.modelValue.length===0?(W(),ee(Ne,{key:0},[Dn(dt(t.placeholder||"empty"),1)],64)):de("",!0)],64)):de("",!0)]})],16)],16),Ce("div",pe({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?_e(t.$slots,"loadingicon",{key:0,class:tt(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(W(),ee("span",pe({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(W(),qe(a,pe({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):_e(t.$slots,"dropdownicon",{key:1,class:tt(t.cx("dropdownIcon"))},function(){return[(W(),qe(qr(t.dropdownIcon?"span":"ChevronDownIcon"),pe({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),et(c,{appendTo:t.appendTo},{default:Qe(function(){return[et(So,pe({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:Qe(function(){return[i.overlayVisible?(W(),ee("div",pe({key:0,ref:s.overlayRef,style:t.panelStyle,class:[t.cx("panel"),t.panelClass],onClick:e[11]||(e[11]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[12]||(e[12]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},Hs(Hs({},t.panelProps),t.ptm("panel"))),[Ce("span",pe({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[3]||(e[3]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),_e(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.showToggleAll&&t.selectionLimit==null||t.filter?(W(),ee("div",pe({key:0,class:t.cx("header")},t.ptm("header")),[t.showToggleAll&&t.selectionLimit==null?(W(),qe(l,{key:0,modelValue:s.allSelected,binary:!0,disabled:t.disabled,variant:t.variant,"aria-label":s.toggleAllAriaLabel,onChange:s.onToggleAll,unstyled:t.unstyled,pt:s.getHeaderCheckboxPTOptions("headerCheckbox")},{icon:Qe(function(f){return[t.$slots.headercheckboxicon?(W(),qe(qr(t.$slots.headercheckboxicon),{key:0,checked:f.checked,class:tt(f.class)},null,8,["checked","class"])):f.checked?(W(),qe(qr(t.checkboxIcon?"span":"CheckIcon"),pe({key:1,class:[f.class,Fy({},t.checkboxIcon,f.checked)]},s.getHeaderCheckboxPTOptions("headerCheckbox.icon")),null,16,["class"])):de("",!0)]}),_:1},8,["modelValue","disabled","variant","aria-label","onChange","unstyled","pt"])):de("",!0),t.filter?(W(),ee("div",pe({key:1,class:t.cx("filterContainer")},t.ptm("filterContainer")),[Ce("input",pe({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[4]||(e[4]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[5]||(e[5]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[6]||(e[6]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[7]||(e[7]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[8]||(e[8]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},Hs(Hs({},t.filterInputProps),t.ptm("filterInput"))),null,16,jJ),_e(t.$slots,"filtericon",{class:tt(t.cx("filterIcon"))},function(){return[(W(),qe(qr(t.filterIcon?"span":"SearchIcon"),pe({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16)):de("",!0),t.filter?(W(),ee("span",pe({key:2,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),dt(s.filterResultMessageText),17)):de("",!0),Ko((W(),ee("button",pe({class:t.cx("closeButton"),"aria-label":s.closeAriaLabel,onClick:e[9]||(e[9]=function(){return s.onCloseClick&&s.onCloseClick.apply(s,arguments)}),type:"button"},Hs(Hs({},t.closeButtonProps),t.ptm("closeButton"))),[_e(t.$slots,"closeicon",{class:tt(t.cx("closeIcon"))},function(){return[(W(),qe(qr(t.closeIcon?"span":"TimesIcon"),pe({class:[t.cx("closeIcon"),t.closeIcon]},t.ptm("closeIcon")),null,16,["class"]))]})],16,HJ)),[[h]])],16)):de("",!0),Ce("div",pe({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[et(u,pe({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),Zn({content:Qe(function(f){var p=f.styleClass,g=f.contentRef,b=f.items,A=f.getItemOptions,R=f.contentStyle,k=f.itemSize;return[Ce("ul",pe({ref:function(S){return s.listRef(S,g)},id:i.id+"_list",class:[t.cx("list"),p],style:R,role:"listbox","aria-multiselectable":"true","aria-label":s.listAriaLabel},t.ptm("list")),[(W(!0),ee(Ne,null,Ft(b,function(T,S){return W(),ee(Ne,{key:s.getOptionRenderKey(T,s.getOptionIndex(S,A))},[s.isOptionGroup(T)?(W(),ee("li",pe({key:0,id:i.id+"_"+s.getOptionIndex(S,A),style:{height:k?k+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[_e(t.$slots,"optiongroup",{option:T.optionGroup,index:s.getOptionIndex(S,A)},function(){return[Dn(dt(s.getOptionGroupLabel(T.optionGroup)),1)]})],16,qJ)):Ko((W(),ee("li",pe({key:1,id:i.id+"_"+s.getOptionIndex(S,A),style:{height:k?k+"px":void 0},class:t.cx("item",{option:T,index:S,getItemOptions:A}),role:"option","aria-label":s.getOptionLabel(T),"aria-selected":s.isSelected(T),"aria-disabled":s.isOptionDisabled(T),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(S,A)),onClick:function(L){return s.onOptionSelect(L,T,s.getOptionIndex(S,A),!0)},onMousemove:function(L){return s.onOptionMouseMove(L,s.getOptionIndex(S,A))}},s.getCheckboxPTOptions(T,A,S,"item"),{"data-p-highlight":s.isSelected(T),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(S,A),"data-p-disabled":s.isOptionDisabled(T)}),[et(l,{modelValue:s.isSelected(T),binary:!0,tabindex:-1,variant:t.variant,unstyled:t.unstyled,pt:s.getCheckboxPTOptions(T,A,S,"itemCheckbox")},{icon:Qe(function(M){return[t.$slots.itemcheckboxicon?(W(),qe(qr(t.$slots.itemcheckboxicon),{key:0,checked:M.checked,class:tt(M.class)},null,8,["checked","class"])):M.checked?(W(),qe(qr(t.checkboxIcon?"span":"CheckIcon"),pe({key:1,class:[M.class,Fy({},t.checkboxIcon,M.checked)]},s.getCheckboxPTOptions(T,A,S,"itemCheckbox.icon")),null,16,["class"])):de("",!0)]}),_:2},1032,["modelValue","variant","unstyled","pt"]),_e(t.$slots,"option",{option:T,index:s.getOptionIndex(S,A)},function(){return[Ce("span",bn(Jn(t.ptm("option"))),dt(s.getOptionLabel(T)),17)]})],16,zJ)),[[h]])],64)}),128)),i.filterValue&&(!b||b&&b.length===0)?(W(),ee("li",pe({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[_e(t.$slots,"emptyfilter",{},function(){return[Dn(dt(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(W(),ee("li",pe({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[_e(t.$slots,"empty",{},function(){return[Dn(dt(s.emptyMessageText),1)]})],16)):de("",!0)],16,WJ)]}),_:2},[t.$slots.loader?{name:"loader",fn:Qe(function(f){var p=f.options;return[_e(t.$slots,"loader",{options:p})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),_e(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(W(),ee("span",pe({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),dt(s.emptyMessageText),17)):de("",!0),Ce("span",pe({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),dt(s.selectedMessageText),17),Ce("span",pe({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[10]||(e[10]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):de("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16)}Jx.render=KJ;var YJ={root:function(e){var n=e.instance,r=e.props;return["p-inputtextarea p-inputtext p-component",{"p-filled":n.filled,"p-inputtextarea-resizable ":r.autoResize,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},GJ=fi.extend({name:"textarea",classes:YJ}),QJ={name:"BaseTextarea",extends:Da,props:{modelValue:null,autoResize:Boolean,invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:GJ,provide:function(){return{$parentInstance:this}}},Zx={name:"Textarea",extends:QJ,inheritAttrs:!1,emits:["update:modelValue"],mounted:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize:function(){this.$el.style.height="auto",this.$el.style.height=this.$el.scrollHeight+"px",parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput:function(e){this.autoResize&&this.resize(),this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},ptmParams:function(){return{context:{disabled:this.$attrs.disabled||this.$attrs.disabled===""}}}}},XJ=["value","aria-invalid"];function JJ(t,e,n,r,i,s){return W(),ee("textarea",pe({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},t.ptmi("root",s.ptmParams)),null,16,XJ)}Zx.render=JJ;/*!
 * Viewer.js v1.11.7
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-11-24T04:32:19.116Z
 */function ZJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eN(r.key),r)}}function eZ(t,e,n){return e&&hS(t.prototype,e),n&&hS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tZ(t,e,n){return(e=eN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ob(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fS(Object(n),!0).forEach(function(r){tZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eN(t){var e=nZ(t,"string");return typeof e=="symbol"?e:e+""}function $y(t){"@babel/helpers - typeof";return $y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$y(t)}var pS={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},rZ='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',wm=typeof window<"u"&&typeof window.document<"u",ks=wm?window:{},Sl=wm&&ks.document.documentElement?"ontouchstart"in ks.document.documentElement:!1,Pb=wm?"PointerEvent"in ks:!1,lt="viewer",of="move",tN="switch",Xu="zoom",$h="".concat(lt,"-active"),iZ="".concat(lt,"-close"),af="".concat(lt,"-fade"),Uy="".concat(lt,"-fixed"),sZ="".concat(lt,"-fullscreen"),mS="".concat(lt,"-fullscreen-exit"),jo="".concat(lt,"-hide"),oZ="".concat(lt,"-hide-md-down"),aZ="".concat(lt,"-hide-sm-down"),lZ="".concat(lt,"-hide-xs-down"),ri="".concat(lt,"-in"),Ic="".concat(lt,"-invisible"),Cl="".concat(lt,"-loading"),uZ="".concat(lt,"-move"),gS="".concat(lt,"-open"),za="".concat(lt,"-show"),mn="".concat(lt,"-transition"),Xl="click",By="dblclick",vS="dragstart",yS="focusin",_S="keydown",si="load",ta="error",cZ=Sl?"touchend touchcancel":"mouseup",dZ=Sl?"touchmove":"mousemove",hZ=Sl?"touchstart":"mousedown",bS=Pb?"pointerdown":hZ,wS=Pb?"pointermove":dZ,TS=Pb?"pointerup pointercancel":cZ,ES="resize",vi="transitionend",IS="wheel",SS="ready",CS="show",AS="shown",OS="hide",PS="hidden",kS="view",vd="viewed",RS="move",DS="moved",xS="rotate",NS="rotated",MS="scale",LS="scaled",VS="zoom",FS="zoomed",$S="play",US="stop",hp="".concat(lt,"Action"),kb=/\s\s*/,Uh=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function yd(t){return typeof t=="string"}var fZ=Number.isNaN||ks.isNaN;function dn(t){return typeof t=="number"&&!fZ(t)}function al(t){return typeof t>"u"}function Jl(t){return $y(t)==="object"&&t!==null}var pZ=Object.prototype.hasOwnProperty;function ll(t){if(!Jl(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&pZ.call(n,"isPrototypeOf")}catch{return!1}}function Wt(t){return typeof t=="function"}function Xt(t,e){if(t&&Wt(e))if(Array.isArray(t)||dn(t.length)){var n=t.length,r;for(r=0;r<n&&e.call(t,t[r],r,t)!==!1;r+=1);}else Jl(t)&&Object.keys(t).forEach(function(i){e.call(t,t[i],i,t)});return t}var Qr=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Jl(e)&&r.length>0&&r.forEach(function(s){Jl(s)&&Object.keys(s).forEach(function(o){e[o]=s[o]})}),e},mZ=/^(?:width|height|left|top|marginLeft|marginTop)$/;function Ii(t,e){var n=t.style;Xt(e,function(r,i){mZ.test(i)&&dn(r)&&(r+="px"),n[i]=r})}function gZ(t){return yd(t)?t.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}function el(t,e){return!t||!e?!1:t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function nt(t,e){if(!(!t||!e)){if(dn(t.length)){Xt(t,function(r){nt(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function Pt(t,e){if(!(!t||!e)){if(dn(t.length)){Xt(t,function(n){Pt(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function _d(t,e,n){if(e){if(dn(t.length)){Xt(t,function(r){_d(r,e,n)});return}n?nt(t,e):Pt(t,e)}}var vZ=/([a-z\d])([A-Z])/g;function Rb(t){return t.replace(vZ,"$1-$2").toLowerCase()}function ul(t,e){return Jl(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(Rb(e)))}function jy(t,e,n){Jl(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(Rb(e)),n)}var nN=function(){var t=!1;if(wm){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(s){e=s}});ks.addEventListener("test",n,r),ks.removeEventListener("test",n,r)}return t}();function qt(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(kb).forEach(function(s){if(!nN){var o=t.listeners;o&&o[s]&&o[s][n]&&(i=o[s][n],delete o[s][n],Object.keys(o[s]).length===0&&delete o[s],Object.keys(o).length===0&&delete t.listeners)}t.removeEventListener(s,i,r)})}function it(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(kb).forEach(function(s){if(r.once&&!nN){var o=t.listeners,a=o===void 0?{}:o;i=function(){delete a[s][n],t.removeEventListener(s,i,r);for(var u=arguments.length,c=new Array(u),h=0;h<u;h++)c[h]=arguments[h];n.apply(t,c)},a[s]||(a[s]={}),a[s][n]&&t.removeEventListener(s,a[s][n],r),a[s][n]=i,t.listeners=a}t.addEventListener(s,i,r)})}function yn(t,e,n,r){var i;return Wt(Event)&&Wt(CustomEvent)?i=new CustomEvent(e,Ob({bubbles:!0,cancelable:!0,detail:n},r)):(i=document.createEvent("CustomEvent"),i.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(i)}function yZ(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function lf(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,i=t.translateX,s=t.translateY,o=[];dn(i)&&i!==0&&o.push("translateX(".concat(i,"px)")),dn(s)&&s!==0&&o.push("translateY(".concat(s,"px)")),dn(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),dn(n)&&n!==1&&o.push("scaleX(".concat(n,")")),dn(r)&&r!==1&&o.push("scaleY(".concat(r,")"));var a=o.length?o.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function _Z(t){return yd(t)?decodeURIComponent(t.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var Gg=ks.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(ks.navigator.userAgent);function rN(t,e,n){var r=document.createElement("img");if(t.naturalWidth&&!Gg)return n(t.naturalWidth,t.naturalHeight),r;var i=document.body||document.documentElement;return r.onload=function(){n(r.width,r.height),Gg||i.removeChild(r)},Xt(e.inheritedAttributes,function(s){var o=t.getAttribute(s);o!==null&&r.setAttribute(s,o)}),r.src=t.src,Gg||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",i.appendChild(r)),r}function Bh(t){switch(t){case 2:return lZ;case 3:return aZ;case 4:return oZ;default:return""}}function bZ(t){var e=Ob({},t),n=[];return Xt(t,function(r,i){delete e[i],Xt(e,function(s){var o=Math.abs(r.startX-s.startX),a=Math.abs(r.startY-s.startY),l=Math.abs(r.endX-s.endX),u=Math.abs(r.endY-s.endY),c=Math.sqrt(o*o+a*a),h=Math.sqrt(l*l+u*u),f=(h-c)/c;n.push(f)})}),n.sort(function(r,i){return Math.abs(r)<Math.abs(i)}),n[0]}function jh(t,e){var n=t.pageX,r=t.pageY,i={endX:n,endY:r};return e?i:Ob({timeStamp:Date.now(),startX:n,startY:r},i)}function wZ(t){var e=0,n=0,r=0;return Xt(t,function(i){var s=i.startX,o=i.startY;e+=s,n+=o,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}var TZ={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var e=this.element.ownerDocument,n=e.body||e.documentElement;this.body=n,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=n.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(n).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e=this.options,n=this.parent,r;e.inline&&(r={width:Math.max(n.offsetWidth,e.minWidth),height:Math.max(n.offsetHeight,e.minHeight)},this.parentData=r),(this.fulled||!r)&&(r=this.containerData),this.viewerData=Qr({},r)},renderViewer:function(){this.options.inline&&!this.fulled&&Ii(this.viewer,this.viewerData)},initList:function(){var e=this,n=this.element,r=this.options,i=this.list,s=[];i.innerHTML="",Xt(this.images,function(o,a){var l=o.src,u=o.alt||_Z(l),c=e.getImageURL(o);if(l||c){var h=document.createElement("li"),f=document.createElement("img");Xt(r.inheritedAttributes,function(p){var g=o.getAttribute(p);g!==null&&f.setAttribute(p,g)}),r.navbar&&(f.src=l||c),f.alt=u,f.setAttribute("data-original-url",c||l),h.setAttribute("data-index",a),h.setAttribute("data-viewer-action","view"),h.setAttribute("role","button"),r.keyboard&&h.setAttribute("tabindex",0),h.appendChild(f),i.appendChild(h),s.push(h)}}),this.items=s,Xt(s,function(o){var a=o.firstElementChild,l,u;jy(a,"filled",!0),r.loading&&nt(o,Cl),it(a,si,l=function(h){qt(a,ta,u),r.loading&&Pt(o,Cl),e.loadImage(h)},{once:!0}),it(a,ta,u=function(){qt(a,si,l),r.loading&&Pt(o,Cl)},{once:!0})}),r.transition&&it(n,vd,function(){nt(i,mn)},{once:!0})},renderList:function(){var e=this.index,n=this.items[e];if(n){var r=n.nextElementSibling,i=parseInt(window.getComputedStyle(r||n).marginLeft,10),s=n.offsetWidth,o=s+i;Ii(this.list,Qr({width:o*this.length-i},lf({translateX:(this.viewerData.width-s)/2-o*e})))}},resetList:function(){var e=this.list;e.innerHTML="",Pt(e,mn),Ii(e,lf({translateX:0}))},initImage:function(e){var n=this,r=this.options,i=this.image,s=this.viewerData,o=this.footer.offsetHeight,a=s.width,l=Math.max(s.height-o,o),u=this.imageData||{},c;this.imageInitializing={abort:function(){c.onload=null}},c=rN(i,r,function(h,f){var p=h/f,g=Math.max(0,Math.min(1,r.initialCoverage)),b=a,A=l;n.imageInitializing=!1,l*p>a?A=a/p:b=l*p,g=dn(g)?g:.9,b=Math.min(b*g,h),A=Math.min(A*g,f);var R=(a-b)/2,k=(l-A)/2,T={left:R,top:k,x:R,y:k,width:b,height:A,oldRatio:1,ratio:b/h,aspectRatio:p,naturalWidth:h,naturalHeight:f},S=Qr({},T);r.rotatable&&(T.rotate=u.rotate||0,S.rotate=0),r.scalable&&(T.scaleX=u.scaleX||1,T.scaleY=u.scaleY||1,S.scaleX=1,S.scaleY=1),n.imageData=T,n.initialImageData=S,e&&e()})},renderImage:function(e){var n=this,r=this.image,i=this.imageData;if(Ii(r,Qr({width:i.width,height:i.height,marginLeft:i.x,marginTop:i.y},lf(i))),e)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&el(r,mn)){var s=function(){n.imageRendering=!1,e()};this.imageRendering={abort:function(){qt(r,vi,s)}},it(r,vi,s,{once:!0})}else e()},resetImage:function(){var e=this.image;e&&(this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null,this.title.innerHTML="")}},EZ={bind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;it(n,Xl,this.onClick=this.click.bind(this)),it(n,vS,this.onDragStart=this.dragstart.bind(this)),it(r,bS,this.onPointerDown=this.pointerdown.bind(this)),it(i,wS,this.onPointerMove=this.pointermove.bind(this)),it(i,TS,this.onPointerUp=this.pointerup.bind(this)),it(i,_S,this.onKeyDown=this.keydown.bind(this)),it(window,ES,this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&it(n,IS,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&it(r,By,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;qt(n,Xl,this.onClick),qt(n,vS,this.onDragStart),qt(r,bS,this.onPointerDown),qt(i,wS,this.onPointerMove),qt(i,TS,this.onPointerUp),qt(i,_S,this.onKeyDown),qt(window,ES,this.onResize),e.zoomable&&e.zoomOnWheel&&qt(n,IS,this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&qt(r,By,this.onDblclick)}},IZ={click:function(e){var n=this.options,r=this.imageData,i=e.target,s=ul(i,hp);switch(!s&&i.localName==="img"&&i.parentElement.localName==="li"&&(i=i.parentElement,s=ul(i,hp)),Sl&&e.isTrusted&&i===this.canvas&&clearTimeout(this.clickCanvasTimeout),s){case"mix":this.played?this.stop():n.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(ul(i,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(n.loop);break;case"play":this.play(n.fullscreen);break;case"next":this.next(n.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-r.scaleX||-1);break;case"flip-vertical":this.scaleY(-r.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&(Sl&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(e.isTrusted?e:e.detail&&e.detail.originalEvent))},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var n=this.element,r=this.options,i=this.image,s=this.index,o=this.viewerData;Pt(i,Ic),r.loading&&Pt(this.canvas,Cl),i.style.cssText="height:0;"+"margin-left:".concat(o.width/2,"px;")+"margin-top:".concat(o.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){_d(i,uZ,r.movable),_d(i,mn,r.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,Wt(r.viewed)&&it(n,vd,r.viewed,{once:!0}),yn(n,vd,{originalImage:e.images[s],index:s,image:i},{cancelable:!1})})})},loadImage:function(e){var n=e.target,r=n.parentNode,i=r.offsetWidth||30,s=r.offsetHeight||50,o=!!ul(n,"filled");rN(n,this.options,function(a,l){var u=a/l,c=i,h=s;s*u>i?o?c=s*u:h=i/u:o?h=i/u:c=s*u,Ii(n,Qr({width:c,height:h},lf({translateX:(i-c)/2,translateY:(s-h)/2})))})},keydown:function(e){var n=this.options;if(n.keyboard){var r=e.keyCode||e.which||e.charCode;switch(r){case 13:this.viewer.contains(e.target)&&this.click(e);break}if(this.fulled)switch(r){case 27:this.played?this.stop():n.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(n.loop);break;case 38:e.preventDefault(),this.zoom(n.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(n.loop);break;case 40:e.preventDefault(),this.zoom(-n.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle());break}}},dragstart:function(e){e.target.localName==="img"&&e.preventDefault()},pointerdown:function(e){var n=this.options,r=this.pointers,i=e.buttons,s=e.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(dn(i)&&i!==1||dn(s)&&s!==0||e.ctrlKey))){e.preventDefault(),e.changedTouches?Xt(e.changedTouches,function(a){r[a.identifier]=jh(a)}):r[e.pointerId||0]=jh(e);var o=n.movable?of:!1;n.zoomOnTouch&&n.zoomable&&Object.keys(r).length>1?o=Xu:n.slideOnTouch&&(e.pointerType==="touch"||e.type==="touchstart")&&this.isSwitchable()&&(o=tN),n.transition&&(o===of||o===Xu)&&Pt(this.image,mn),this.action=o}},pointermove:function(e){var n=this.pointers,r=this.action;!this.viewed||!r||(e.preventDefault(),e.changedTouches?Xt(e.changedTouches,function(i){Qr(n[i.identifier]||{},jh(i,!0))}):Qr(n[e.pointerId||0]||{},jh(e,!0)),this.change(e))},pointerup:function(e){var n=this,r=this.options,i=this.action,s=this.pointers,o;e.changedTouches?Xt(e.changedTouches,function(a){o=s[a.identifier],delete s[a.identifier]}):(o=s[e.pointerId||0],delete s[e.pointerId||0]),i&&(e.preventDefault(),r.transition&&(i===of||i===Xu)&&nt(this.image,mn),this.action=!1,Sl&&i!==Xu&&o&&Date.now()-o.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),r.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){yn(n.image,By,{originalEvent:e})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){n.imageClicked=!1},500)):(this.imageClicked=!1,r.backdrop&&r.backdrop!=="static"&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){yn(n.canvas,Xl,{originalEvent:e})},50)))))},resize:function(){var e=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}Xt(this.player.getElementsByTagName("img"),function(n){it(n,si,e.loadImage.bind(e),{once:!0}),yn(n,si)})}},wheel:function(e){var n=this;if(this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50);var r=Number(this.options.zoomRatio)||.1,i=1;e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*r,!0,null,e)}}},SZ={show:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.element,r=this.options;if(r.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(Wt(r.show)&&it(n,CS,r.show,{once:!0}),yn(n,CS)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var i=this.viewer;if(Pt(i,jo),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("aria-hidden"),r.transition&&!e){var s=this.shown.bind(this);this.transitioning={abort:function(){qt(i,vi,s),Pt(i,ri)}},nt(i,mn),i.initialOffsetWidth=i.offsetWidth,it(i,vi,s,{once:!0}),nt(i,ri)}else nt(i,ri),this.shown();return this},hide:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.element,i=this.options;if(i.inline||this.hiding||!(this.isShown||this.showing))return this;if(Wt(i.hide)&&it(r,OS,i.hide,{once:!0}),yn(r,OS)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var s=this.viewer,o=this.image,a=function(){Pt(s,ri),e.hidden()};if(i.transition&&!n){var l=function(h){h&&h.target===s&&(qt(s,vi,l),e.hidden())},u=function(){el(s,mn)?(it(s,vi,l),Pt(s,ri)):a()};this.transitioning={abort:function(){e.viewed&&el(o,mn)?qt(o,vi,u):el(s,mn)&&qt(s,vi,l)}},this.viewed&&el(o,mn)?(it(o,vi,u,{once:!0}),this.zoomTo(0,!1,null,null,!0)):u()}else a();return this},view:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(n=Number(n)||0,this.hiding||this.played||n<0||n>=this.length||this.viewed&&n===this.index)return this;if(!this.isShown)return this.index=n,this.show();this.viewing&&this.viewing.abort();var r=this.element,i=this.options,s=this.title,o=this.canvas,a=this.items[n],l=a.querySelector("img"),u=ul(l,"originalUrl"),c=l.getAttribute("alt"),h=document.createElement("img");if(Xt(i.inheritedAttributes,function(A){var R=l.getAttribute(A);R!==null&&h.setAttribute(A,R)}),h.src=u,h.alt=c,Wt(i.view)&&it(r,kS,i.view,{once:!0}),yn(r,kS,{originalImage:this.images[n],index:n,image:h})===!1||!this.isShown||this.hiding||this.played)return this;var f=this.items[this.index];f&&(Pt(f,$h),f.removeAttribute("aria-selected")),nt(a,$h),a.setAttribute("aria-selected",!0),i.focus&&a.focus(),this.image=h,this.viewed=!1,this.index=n,this.imageData={},nt(h,Ic),i.loading&&nt(o,Cl),o.innerHTML="",o.appendChild(h),this.renderList(),s.innerHTML="";var p=function(){var R=e.imageData,k=Array.isArray(i.title)?i.title[1]:i.title;s.innerHTML=gZ(Wt(k)?k.call(e,h,R):"".concat(c," (").concat(R.naturalWidth,"  ").concat(R.naturalHeight,")"))},g,b;return it(r,vd,p,{once:!0}),this.viewing={abort:function(){qt(r,vd,p),h.complete?e.imageRendering?e.imageRendering.abort():e.imageInitializing&&e.imageInitializing.abort():(h.src="",qt(h,si,g),e.timeout&&clearTimeout(e.timeout))}},h.complete?this.load():(it(h,si,g=function(){qt(h,ta,b),e.load()},{once:!0}),it(h,ta,b=function(){qt(h,si,g),e.timeout&&(clearTimeout(e.timeout),e.timeout=!1),Pt(h,Ic),i.loading&&Pt(e.canvas,Cl)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){Pt(h,Ic),e.timeout=!1},1e3)),this},prev:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.index-1;return n<0&&(n=e?this.length-1:0),this.view(n),this},next:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.length-1,r=this.index+1;return r>n&&(r=e?0:n),this.view(r),this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData;return this.moveTo(al(e)?e:r.x+Number(e),al(n)?n:r.y+Number(n)),this},moveTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=this.element,o=this.options,a=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&o.movable){var l=a.x,u=a.y,c=!1;if(dn(e)?c=!0:e=l,dn(r)?c=!0:r=u,c){if(Wt(o.move)&&it(s,RS,o.move,{once:!0}),yn(s,RS,{x:e,y:r,oldX:l,oldY:u,originalEvent:i})===!1)return this;a.x=e,a.y=r,a.left=e,a.top=r,this.moving=!0,this.renderImage(function(){n.moving=!1,Wt(o.moved)&&it(s,DS,o.moved,{once:!0}),yn(s,DS,{x:e,y:r,oldX:l,oldY:u,originalEvent:i},{cancelable:!1})})}}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var n=this,r=this.element,i=this.options,s=this.imageData;if(e=Number(e),dn(e)&&this.viewed&&!this.played&&i.rotatable){var o=s.rotate;if(Wt(i.rotate)&&it(r,xS,i.rotate,{once:!0}),yn(r,xS,{degree:e,oldDegree:o})===!1)return this;s.rotate=e,this.rotating=!0,this.renderImage(function(){n.rotating=!1,Wt(i.rotated)&&it(r,NS,i.rotated,{once:!0}),yn(r,NS,{degree:e,oldDegree:o},{cancelable:!1})})}return this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=this.element,s=this.options,o=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&s.scalable){var a=o.scaleX,l=o.scaleY,u=!1;if(dn(e)?u=!0:e=a,dn(r)?u=!0:r=l,u){if(Wt(s.scale)&&it(i,MS,s.scale,{once:!0}),yn(i,MS,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l})===!1)return this;o.scaleX=e,o.scaleY=r,this.scaling=!0,this.renderImage(function(){n.scaling=!1,Wt(s.scaled)&&it(i,LS,s.scaled,{once:!0}),yn(i,LS,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l},{cancelable:!1})})}}return this},zoom:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.imageData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(s.width*e/s.naturalWidth,n,r,i),this},zoomTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a=this.element,l=this.options,u=this.pointers,c=this.imageData,h=c.x,f=c.y,p=c.width,g=c.height,b=c.naturalWidth,A=c.naturalHeight;if(e=Math.max(0,e),dn(e)&&this.viewed&&!this.played&&(o||l.zoomable)){if(!o){var R=Math.max(.01,l.minZoomRatio),k=Math.min(100,l.maxZoomRatio);e=Math.min(Math.max(e,R),k)}if(s)switch(s.type){case"wheel":l.zoomRatio>=.055&&e>.95&&e<1.05&&(e=1);break;case"pointermove":case"touchmove":case"mousemove":e>.99&&e<1.01&&(e=1);break}var T=b*e,S=A*e,M=T-p,L=S-g,I=c.ratio;if(Wt(l.zoom)&&it(a,VS,l.zoom,{once:!0}),yn(a,VS,{ratio:e,oldRatio:I,originalEvent:s})===!1)return this;if(this.zooming=!0,s){var E=yZ(this.viewer),y=u&&Object.keys(u).length>0?wZ(u):{pageX:s.pageX,pageY:s.pageY};c.x-=M*((y.pageX-E.left-h)/p),c.y-=L*((y.pageY-E.top-f)/g)}else ll(i)&&dn(i.x)&&dn(i.y)?(c.x-=M*((i.x-h)/p),c.y-=L*((i.y-f)/g)):(c.x-=M/2,c.y-=L/2);c.left=c.x,c.top=c.y,c.width=T,c.height=S,c.oldRatio=I,c.ratio=e,this.renderImage(function(){n.zooming=!1,Wt(l.zoomed)&&it(a,FS,l.zoomed,{once:!0}),yn(a,FS,{ratio:e,oldRatio:I,originalEvent:s},{cancelable:!1})}),r&&this.tooltip()}return this},play:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var r=this.element,i=this.options;if(Wt(i.play)&&it(r,$S,i.play,{once:!0}),yn(r,$S)===!1)return this;var s=this.player,o=this.loadImage.bind(this),a=[],l=0,u=0;if(this.played=!0,this.onLoadWhenPlay=o,n&&this.requestFullscreen(n),nt(s,za),Xt(this.items,function(f,p){var g=f.querySelector("img"),b=document.createElement("img");b.src=ul(g,"originalUrl"),b.alt=g.getAttribute("alt"),b.referrerPolicy=g.referrerPolicy,l+=1,nt(b,af),_d(b,mn,i.transition),el(f,$h)&&(nt(b,ri),u=p),a.push(b),it(b,si,o,{once:!0}),s.appendChild(b)}),dn(i.interval)&&i.interval>0){var c=function(){clearTimeout(e.playing.timeout),Pt(a[u],ri),u-=1,u=u>=0?u:l-1,nt(a[u],ri),e.playing.timeout=setTimeout(c,i.interval)},h=function(){clearTimeout(e.playing.timeout),Pt(a[u],ri),u+=1,u=u<l?u:0,nt(a[u],ri),e.playing.timeout=setTimeout(h,i.interval)};l>1&&(this.playing={prev:c,next:h,timeout:setTimeout(h,i.interval)})}return this},stop:function(){var e=this;if(!this.played)return this;var n=this.element,r=this.options;if(Wt(r.stop)&&it(n,US,r.stop,{once:!0}),yn(n,US)===!1)return this;var i=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,Xt(i.getElementsByTagName("img"),function(s){qt(s,si,e.onLoadWhenPlay)}),Pt(i,za),i.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||this.fulled||!n.inline?this:(this.fulled=!0,this.open(),nt(this.button,mS),n.transition&&(Pt(s,mn),this.viewed&&Pt(i,mn)),nt(r,Uy),r.setAttribute("role","dialog"),r.setAttribute("aria-labelledby",this.title.id),r.setAttribute("aria-modal",!0),r.removeAttribute("style"),Ii(r,{zIndex:n.zIndex}),n.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=Qr({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){nt(i,mn),nt(s,mn)},0)})}),this)},exit:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||!this.fulled||!n.inline?this:(this.fulled=!1,this.close(),Pt(this.button,mS),n.transition&&(Pt(s,mn),this.viewed&&Pt(i,mn)),n.focus&&this.clearEnforceFocus(),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),Pt(r,Uy),Ii(r,{zIndex:n.zIndexInline}),this.viewerData=Qr({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){nt(i,mn),nt(s,mn)},0)})}),this)},tooltip:function(){var e=this,n=this.options,r=this.tooltipBox,i=this.imageData;return!this.viewed||this.played||!n.tooltip?this:(r.textContent="".concat(Math.round(i.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):n.transition?(this.fading&&yn(r,vi),nt(r,za),nt(r,af),nt(r,mn),r.removeAttribute("aria-hidden"),r.initialOffsetWidth=r.offsetWidth,nt(r,ri)):(nt(r,za),r.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){n.transition?(it(r,vi,function(){Pt(r,za),Pt(r,af),Pt(r,mn),r.setAttribute("aria-hidden",!0),e.fading=!1},{once:!0}),Pt(r,ri),e.fading=!0):(Pt(r,za),r.setAttribute("aria-hidden",!0)),e.tooltipping=!1},1e3),this)},toggle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,e):this.zoomTo(1,!0,null,e),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=Qr({},this.initialImageData),this.renderImage()),this},update:function(){var e=this,n=this.element,r=this.options,i=this.isImg;if(i&&!n.parentNode)return this.destroy();var s=[];if(Xt(i?[n]:n.querySelectorAll("img"),function(u){Wt(r.filter)?r.filter.call(e,u)&&s.push(u):e.getImageURL(u)&&s.push(u)}),!s.length)return this;if(this.images=s,this.length=s.length,this.ready){var o=[];if(Xt(this.items,function(u,c){var h=u.querySelector("img"),f=s[c];f&&h?(f.src!==h.src||f.alt!==h.alt)&&o.push(c):o.push(c)}),Ii(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var a=o.indexOf(this.index);if(a>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-a,this.length-1),0));else{var l=this.items[this.index];nt(l,$h),l.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var e=this.element,n=this.options;return e[lt]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),n.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):n.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),n.inline||qt(e,Xl,this.onStart),e[lt]=void 0,this):this}},CZ={getImageURL:function(e){var n=this.options.url;return yd(n)?n=e.getAttribute(n):Wt(n)?n=n.call(this,e):n="",n},enforceFocus:function(){var e=this;this.clearEnforceFocus(),it(document,yS,this.onFocusin=function(n){var r=e.viewer,i=n.target;if(!(i===document||i===r||r.contains(i))){for(;i;){if(i.getAttribute("tabindex")!==null||i.getAttribute("aria-modal")==="true")return;i=i.parentElement}r.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(qt(document,yS,this.onFocusin),this.onFocusin=null)},open:function(){var e=this.body;nt(e,gS),this.scrollbarWidth>0&&(e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var e=this.body;Pt(e,gS),this.scrollbarWidth>0&&(e.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var e=this.element,n=this.options,r=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,n.focus&&(r.focus(),this.enforceFocus()),Wt(n.shown)&&it(e,AS,n.shown,{once:!0}),yn(e,AS)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,n=this.options,r=this.viewer;n.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),nt(r,jo),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),r.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(Wt(n.hidden)&&it(e,PS,n.hidden,{once:!0}),yn(e,PS,null,{cancelable:!1}))},requestFullscreen:function(e){var n=this.element.ownerDocument;if(this.fulled&&!(n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement)){var r=n.documentElement;r.requestFullscreen?ll(e)?r.requestFullscreen(e):r.requestFullscreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):r.mozRequestFullScreen?r.mozRequestFullScreen():r.msRequestFullscreen&&r.msRequestFullscreen()}},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var n=this.options,r=this.pointers,i=r[Object.keys(r)[0]];if(i){var s=i.endX-i.startX,o=i.endY-i.startY;switch(this.action){case of:(s!==0||o!==0)&&(this.pointerMoved=!0,this.move(s,o,e));break;case Xu:this.zoom(bZ(r),!1,null,e);break;case tN:{this.action="switched";var a=Math.abs(s);a>1&&a>Math.abs(o)&&(this.pointers={},s>1?this.prev(n.loop):s<-1&&this.next(n.loop));break}}Xt(r,function(l){l.startX=l.endX,l.startY=l.endY})}},isSwitchable:function(){var e=this.imageData,n=this.viewerData;return this.length>1&&e.x>=0&&e.y>=0&&e.width<=n.width&&e.height<=n.height}},AZ=ks.Viewer,OZ=function(t){return function(){return t+=1,t}}(-1),Zl=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ZJ(this,t),!e||e.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=Qr({},pS,ll(n)&&n),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=OZ(),this.init()}return eZ(t,[{key:"init",value:function(){var n=this,r=this.element,i=this.options;if(!r[lt]){r[lt]=this,i.focus&&!i.keyboard&&(i.focus=!1);var s=r.localName==="img",o=[];if(Xt(s?[r]:r.querySelectorAll("img"),function(u){Wt(i.filter)?i.filter.call(n,u)&&o.push(u):n.getImageURL(u)&&o.push(u)}),this.isImg=s,this.length=o.length,this.images=o,this.initBody(),al(document.createElement(lt).style.transition)&&(i.transition=!1),i.inline){var a=0,l=function(){if(a+=1,a===n.length){var c;n.initializing=!1,n.delaying={abort:function(){clearTimeout(c)}},c=setTimeout(function(){n.delaying=!1,n.build()},0)}};this.initializing={abort:function(){Xt(o,function(c){c.complete||(qt(c,si,l),qt(c,ta,l))})}},Xt(o,function(u){if(u.complete)l();else{var c,h;it(u,si,c=function(){qt(u,ta,h),l()},{once:!0}),it(u,ta,h=function(){qt(u,si,c),l()},{once:!0})}})}else it(r,Xl,this.onStart=function(u){var c=u.target;c.localName==="img"&&(!Wt(i.filter)||i.filter.call(n,c))&&n.view(n.images.indexOf(c))})}}},{key:"build",value:function(){if(!this.ready){var n=this.element,r=this.options,i=n.parentNode,s=document.createElement("div");s.innerHTML=rZ;var o=s.querySelector(".".concat(lt,"-container")),a=o.querySelector(".".concat(lt,"-title")),l=o.querySelector(".".concat(lt,"-toolbar")),u=o.querySelector(".".concat(lt,"-navbar")),c=o.querySelector(".".concat(lt,"-button")),h=o.querySelector(".".concat(lt,"-canvas"));if(this.parent=i,this.viewer=o,this.title=a,this.toolbar=l,this.navbar=u,this.button=c,this.canvas=h,this.footer=o.querySelector(".".concat(lt,"-footer")),this.tooltipBox=o.querySelector(".".concat(lt,"-tooltip")),this.player=o.querySelector(".".concat(lt,"-player")),this.list=o.querySelector(".".concat(lt,"-list")),o.id="".concat(lt).concat(this.id),a.id="".concat(lt,"Title").concat(this.id),nt(a,r.title?Bh(Array.isArray(r.title)?r.title[0]:r.title):jo),nt(u,r.navbar?Bh(r.navbar):jo),_d(c,jo,!r.button),r.keyboard&&c.setAttribute("tabindex",0),r.backdrop&&(nt(o,"".concat(lt,"-backdrop")),!r.inline&&r.backdrop!=="static"&&jy(h,hp,"hide")),yd(r.className)&&r.className&&r.className.split(kb).forEach(function(T){nt(o,T)}),r.toolbar){var f=document.createElement("ul"),p=ll(r.toolbar),g=Uh.slice(0,3),b=Uh.slice(7,9),A=Uh.slice(9);p||nt(l,Bh(r.toolbar)),Xt(p?r.toolbar:Uh,function(T,S){var M=p&&ll(T),L=p?Rb(S):T,I=M&&!al(T.show)?T.show:T;if(!(!I||!r.zoomable&&g.indexOf(L)!==-1||!r.rotatable&&b.indexOf(L)!==-1||!r.scalable&&A.indexOf(L)!==-1)){var E=M&&!al(T.size)?T.size:T,y=M&&!al(T.click)?T.click:T,v=document.createElement("li");r.keyboard&&v.setAttribute("tabindex",0),v.setAttribute("role","button"),nt(v,"".concat(lt,"-").concat(L)),Wt(y)||jy(v,hp,L),dn(I)&&nt(v,Bh(I)),["small","large"].indexOf(E)!==-1?nt(v,"".concat(lt,"-").concat(E)):L==="play"&&nt(v,"".concat(lt,"-large")),Wt(y)&&it(v,Xl,y),f.appendChild(v)}}),l.appendChild(f)}else nt(l,jo);if(!r.rotatable){var R=l.querySelectorAll('li[class*="rotate"]');nt(R,Ic),Xt(R,function(T){l.appendChild(T)})}if(r.inline)nt(c,sZ),Ii(o,{zIndex:r.zIndexInline}),window.getComputedStyle(i).position==="static"&&Ii(i,{position:"relative"}),i.insertBefore(o,n.nextSibling);else{nt(c,iZ),nt(o,Uy),nt(o,af),nt(o,jo),Ii(o,{zIndex:r.zIndex});var k=r.container;yd(k)&&(k=n.ownerDocument.querySelector(k)),k||(k=this.body),k.appendChild(o)}if(r.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,Wt(r.ready)&&it(n,SS,r.ready,{once:!0}),yn(n,SS)===!1){this.ready=!1;return}this.ready&&r.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=AZ,t}},{key:"setDefaults",value:function(n){Qr(pS,ll(n)&&n)}}])}();Qr(Zl.prototype,TZ,EZ,IZ,SZ,CZ);var PZ=typeof global=="object"&&global&&global.Object===Object&&global;const iN=PZ;var kZ=typeof self=="object"&&self&&self.Object===Object&&self,RZ=iN||kZ||Function("return this")();const Tm=RZ;var DZ=Tm.Symbol;const fp=DZ;var sN=Object.prototype,xZ=sN.hasOwnProperty,NZ=sN.toString,Bu=fp?fp.toStringTag:void 0;function MZ(t){var e=xZ.call(t,Bu),n=t[Bu];try{t[Bu]=void 0;var r=!0}catch{}var i=NZ.call(t);return r&&(e?t[Bu]=n:delete t[Bu]),i}var LZ=Object.prototype,VZ=LZ.toString;function FZ(t){return VZ.call(t)}var $Z="[object Null]",UZ="[object Undefined]",BS=fp?fp.toStringTag:void 0;function Em(t){return t==null?t===void 0?UZ:$Z:BS&&BS in Object(t)?MZ(t):FZ(t)}function Im(t){return t!=null&&typeof t=="object"}var BZ="[object Symbol]";function jZ(t){return typeof t=="symbol"||Im(t)&&Em(t)==BZ}var HZ=Array.isArray;const WZ=HZ;var qZ=/\s/;function zZ(t){for(var e=t.length;e--&&qZ.test(t.charAt(e)););return e}var KZ=/^\s+/;function YZ(t){return t&&t.slice(0,zZ(t)+1).replace(KZ,"")}function ba(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var jS=NaN,GZ=/^[-+]0x[0-9a-f]+$/i,QZ=/^0b[01]+$/i,XZ=/^0o[0-7]+$/i,JZ=parseInt;function HS(t){if(typeof t=="number")return t;if(jZ(t))return jS;if(ba(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ba(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=YZ(t);var n=QZ.test(t);return n||XZ.test(t)?JZ(t.slice(2),n?2:8):GZ.test(t)?jS:+t}function oN(t){return t}var ZZ="[object AsyncFunction]",eee="[object Function]",tee="[object GeneratorFunction]",nee="[object Proxy]";function aN(t){if(!ba(t))return!1;var e=Em(t);return e==eee||e==tee||e==ZZ||e==nee}var ree=Tm["__core-js_shared__"];const Qg=ree;var WS=function(){var t=/[^.]+$/.exec(Qg&&Qg.keys&&Qg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function iee(t){return!!WS&&WS in t}var see=Function.prototype,oee=see.toString;function aee(t){if(t!=null){try{return oee.call(t)}catch{}try{return t+""}catch{}}return""}var lee=/[\\^$.*+?()[\]{}|]/g,uee=/^\[object .+?Constructor\]$/,cee=Function.prototype,dee=Object.prototype,hee=cee.toString,fee=dee.hasOwnProperty,pee=RegExp("^"+hee.call(fee).replace(lee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function mee(t){if(!ba(t)||iee(t))return!1;var e=aN(t)?pee:uee;return e.test(aee(t))}function gee(t,e){return t==null?void 0:t[e]}function vee(t,e){var n=gee(t,e);return mee(n)?n:void 0}function yee(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var _ee=800,bee=16,wee=Date.now;function Tee(t){var e=0,n=0;return function(){var r=wee(),i=bee-(r-n);if(n=r,i>0){if(++e>=_ee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Eee(t){return function(){return t}}var Iee=function(){try{var t=vee(Object,"defineProperty");return t({},"",{}),t}catch{}}();const pp=Iee;var See=pp?function(t,e){return pp(t,"toString",{configurable:!0,enumerable:!1,value:Eee(e),writable:!0})}:oN;const Cee=See;var Aee=Tee(Cee);const Oee=Aee;var Pee=9007199254740991,kee=/^(?:0|[1-9]\d*)$/;function lN(t,e){var n=typeof t;return e=e??Pee,!!e&&(n=="number"||n!="symbol"&&kee.test(t))&&t>-1&&t%1==0&&t<e}function uN(t,e,n){e=="__proto__"&&pp?pp(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Db(t,e){return t===e||t!==t&&e!==e}var Ree=Object.prototype,Dee=Ree.hasOwnProperty;function cN(t,e,n){var r=t[e];(!(Dee.call(t,e)&&Db(r,n))||n===void 0&&!(e in t))&&uN(t,e,n)}function xee(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?uN(n,a,l):cN(n,a,l)}return n}var qS=Math.max;function Nee(t,e,n){return e=qS(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=qS(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),yee(t,this,a)}}function dN(t,e){return Oee(Nee(t,e,oN),t+"")}var Mee=9007199254740991;function hN(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Mee}function Sm(t){return t!=null&&hN(t.length)&&!aN(t)}function fN(t,e,n){if(!ba(n))return!1;var r=typeof e;return(r=="number"?Sm(n)&&lN(e,n.length):r=="string"&&e in n)?Db(n[e],t):!1}function Lee(t){return dN(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&fN(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var Vee=Object.prototype;function xb(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Vee;return t===n}function Fee(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var $ee="[object Arguments]";function zS(t){return Im(t)&&Em(t)==$ee}var pN=Object.prototype,Uee=pN.hasOwnProperty,Bee=pN.propertyIsEnumerable,jee=zS(function(){return arguments}())?zS:function(t){return Im(t)&&Uee.call(t,"callee")&&!Bee.call(t,"callee")};const Hee=jee;function Wee(){return!1}var mN=typeof exports=="object"&&exports&&!exports.nodeType&&exports,KS=mN&&typeof module=="object"&&module&&!module.nodeType&&module,qee=KS&&KS.exports===mN,YS=qee?Tm.Buffer:void 0,zee=YS?YS.isBuffer:void 0,Kee=zee||Wee;const Yee=Kee;var Gee="[object Arguments]",Qee="[object Array]",Xee="[object Boolean]",Jee="[object Date]",Zee="[object Error]",ete="[object Function]",tte="[object Map]",nte="[object Number]",rte="[object Object]",ite="[object RegExp]",ste="[object Set]",ote="[object String]",ate="[object WeakMap]",lte="[object ArrayBuffer]",ute="[object DataView]",cte="[object Float32Array]",dte="[object Float64Array]",hte="[object Int8Array]",fte="[object Int16Array]",pte="[object Int32Array]",mte="[object Uint8Array]",gte="[object Uint8ClampedArray]",vte="[object Uint16Array]",yte="[object Uint32Array]",nn={};nn[cte]=nn[dte]=nn[hte]=nn[fte]=nn[pte]=nn[mte]=nn[gte]=nn[vte]=nn[yte]=!0;nn[Gee]=nn[Qee]=nn[lte]=nn[Xee]=nn[ute]=nn[Jee]=nn[Zee]=nn[ete]=nn[tte]=nn[nte]=nn[rte]=nn[ite]=nn[ste]=nn[ote]=nn[ate]=!1;function _te(t){return Im(t)&&hN(t.length)&&!!nn[Em(t)]}function bte(t){return function(e){return t(e)}}var gN=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Sc=gN&&typeof module=="object"&&module&&!module.nodeType&&module,wte=Sc&&Sc.exports===gN,Xg=wte&&iN.process,Tte=function(){try{var t=Sc&&Sc.require&&Sc.require("util").types;return t||Xg&&Xg.binding&&Xg.binding("util")}catch{}}();const GS=Tte;var QS=GS&&GS.isTypedArray,Ete=QS?bte(QS):_te;const Ite=Ete;var Ste=Object.prototype,Cte=Ste.hasOwnProperty;function vN(t,e){var n=WZ(t),r=!n&&Hee(t),i=!n&&!r&&Yee(t),s=!n&&!r&&!i&&Ite(t),o=n||r||i||s,a=o?Fee(t.length,String):[],l=a.length;for(var u in t)(e||Cte.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||lN(u,l)))&&a.push(u);return a}function Ate(t,e){return function(n){return t(e(n))}}var Ote=Ate(Object.keys,Object);const Pte=Ote;var kte=Object.prototype,Rte=kte.hasOwnProperty;function Dte(t){if(!xb(t))return Pte(t);var e=[];for(var n in Object(t))Rte.call(t,n)&&n!="constructor"&&e.push(n);return e}function xte(t){return Sm(t)?vN(t):Dte(t)}var Nte=Object.prototype,Mte=Nte.hasOwnProperty,Lte=Lee(function(t,e){if(xb(e)||Sm(e)){xee(e,xte(e),t);return}for(var n in e)Mte.call(e,n)&&cN(t,n,e[n])});const Vte=Lte;function Fte(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var $te=Object.prototype,Ute=$te.hasOwnProperty;function Bte(t){if(!ba(t))return Fte(t);var e=xb(t),n=[];for(var r in t)r=="constructor"&&(e||!Ute.call(t,r))||n.push(r);return n}function jte(t){return Sm(t)?vN(t,!0):Bte(t)}var Hte=function(){return Tm.Date.now()};const Jg=Hte;var Wte="Expected a function",qte=Math.max,zte=Math.min;function Kte(t,e,n){var r,i,s,o,a,l,u=0,c=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(Wte);e=HS(e)||0,ba(n)&&(c=!!n.leading,h="maxWait"in n,s=h?qte(HS(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function p(L){var I=r,E=i;return r=i=void 0,u=L,o=t.apply(E,I),o}function g(L){return u=L,a=setTimeout(R,e),c?p(L):o}function b(L){var I=L-l,E=L-u,y=e-I;return h?zte(y,s-E):y}function A(L){var I=L-l,E=L-u;return l===void 0||I>=e||I<0||h&&E>=s}function R(){var L=Jg();if(A(L))return k(L);a=setTimeout(R,b(L))}function k(L){return a=void 0,f&&r?p(L):(r=i=void 0,o)}function T(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function S(){return a===void 0?o:k(Jg())}function M(){var L=Jg(),I=A(L);if(r=arguments,i=this,l=L,I){if(a===void 0)return g(l);if(h)return clearTimeout(a),a=setTimeout(R,e),p(l)}return a===void 0&&(a=setTimeout(R,e)),o}return M.cancel=T,M.flush=S,M}var yN=Object.prototype,Yte=yN.hasOwnProperty,Gte=dN(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&fN(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=jte(s),a=-1,l=o.length;++a<l;){var u=o[a],c=t[u];(c===void 0||Db(c,yN[u])&&!Yte.call(t,u))&&(t[u]=s[u])}return t});const Qte=Gte,Xte=({images:t=[],options:e})=>{e=Vte(e,{inline:!1});const n=document.createElement("div"),r=Ol("div",{style:{display:"none"},class:["__viewer-token"]},t.map(a=>Ol("img",typeof a=="string"?{src:a}:a)));Mc(r,n);const i=n.firstElementChild;document.body.appendChild(i);const s=new Zl(i,e),o=s.destroy.bind(s);return s.destroy=function(){return o(),Mc(null,n),s},s.show(),i.addEventListener("hidden",function(){this.viewer===s&&s.destroy()}),s},Jte=({name:t="viewer",debug:e=!1}={})=>{async function n(c,h,f=!1,p=!1){await jn(),!(p&&!r(c))&&(f||!c[`$${t}`]?(o(c),c[`$${t}`]=new Zl(c,h),u("Viewer created")):(c[`$${t}`].update(),u("Viewer updated")))}function r(c){const h=c.innerHTML.match(/<img([\w\W]+?)[\\/]?>/g),f=h?h.join(""):void 0;return c.__viewerImageDiffCache===f?(u("Element change detected, but image(s) has not changed"),!1):(u("Image change detected"),c.__viewerImageDiffCache=f,!0)}function i(c,h,f,p){a(c);const g=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(!g){u("Observer not supported");return}const b=new g(R=>{R.forEach(k=>{u(`Viewer mutation:${k.type}`),f(c,h,p,!0)})}),A={attributes:!0,childList:!0,characterData:!0,subtree:!0};b.observe(c,A),c.__viewerMutationObserver=b,u("Observer created")}function s(c,h,f,p){c.__viewerUnwatch=En(()=>h.value,(g,b)=>{u("Change detected by watcher: ",h.value),p(c,g,!0,!1)},{deep:!0}),u("Watcher created, expression: ",h.value)}function o(c){!c[`$${t}`]||(c[`$${t}`].destroy(),delete c[`$${t}`],u("Viewer destroyed"))}function a(c){!c.__viewerMutationObserver||(c.__viewerMutationObserver.disconnect(),delete c.__viewerMutationObserver,u("observer destroyed"))}function l(c){!c.__viewerUnwatch||(c.__viewerUnwatch(),delete c.__viewerUnwatch,u("Watcher destroyed"))}function u(...c){e&&console.log(...c)}return{mounted(c,h,f){u("Viewer bind");const p=Kte(n,50);p(c,h.value),s(c,h,f,p),h.modifiers.static||i(c,h.value,p,h.modifiers.rebuild)},unmounted(c){u("Viewer unbind"),a(c),l(c),o(c)}}},Zte=Kt({name:"Viewer",props:{images:{type:Array,default:()=>[]},rebuild:{type:Boolean,default:!1},trigger:{type:Object,default:null},options:{type:Object,default:()=>null}},emits:["inited"],setup(t,{emit:e}){let n;const r=fe();function i(){n=new Zl(r.value,t.options),e("inited",n)}function s(){n&&n.destroy()}function o(){s(),i()}function a(){n?(n.update(),e("inited",n)):i()}function l(){t.rebuild?o():a()}const u={deep:!0};return En(()=>t.images,()=>{jn(()=>{l()})},u),En(()=>t.trigger,()=>{jn(()=>{l()})},u),En(()=>t.options,()=>{jn(()=>{o()})},u),vn(()=>i()),Ta(()=>s()),{root:r,createViewer:i,rebuildViewer:o,updateViewer:a,destroyViewer:s}}}),ene=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},tne={ref:"root"};function nne(t,e,n,r,i,s){return W(),ee("div",tne,[_e(t.$slots,"default",{images:t.images,options:t.options})],512)}const rne=ene(Zte,[["render",nne]]),ine={install(t,{name:e="viewer",debug:n=!1,defaultOptions:r}={}){r&&Zl.setDefaults(r),t.config.globalProperties[`$${e}Api`]=Xte,t.component(e,Qte(rne,{name:e})),t.directive(e,Jte({name:e,debug:n}))},setDefaults(t){Zl.setDefaults(t)}},pi=_v(YV);pi.use(KD);pi.use(AW,{firebaseApp:F4,modules:[EW()]});pi.use(eP);pi.use(L2);pi.use(ine);pi.use(CQ);pi.component("VueDatePicker",bb);pi.component("PrimeInputText",Yx);pi.component("PrimeTextArea",Zx);pi.component("PrimeDropdown",Kx);pi.component("PrimeMultiSelect",Jx);pi.mount("#app");export{Ky as $,Zn as A,jM as B,Rn as C,rre as D,nC as E,Ne as F,qne as G,Dn as H,et as I,AM as J,Cne as K,Sne as L,Kt as M,m2 as N,Pne as O,kne as P,xne as Q,df as R,gl as S,DC as T,Rne as U,p_ as V,One as W,sre as X,Dne as Y,Jne as Z,one as _,MC as a,Rc as a$,Zr as a0,Yy as a1,fne as a2,n_ as a3,Jn as a4,Ol as a5,tu as a6,mL as a7,lre as a8,wne as a9,ZM as aA,sL as aB,vn as aC,iL as aD,rL as aE,rC as aF,nL as aG,Ta as aH,s_ as aI,xM as aJ,W as aK,vne as aL,nc as aM,TC as aN,gne as aO,mf as aP,Rr as aQ,Jy as aR,fe as aS,zne as aT,Mc as aU,Ft as aV,_e as aW,zr as aX,BC as aY,qr as aZ,tre as a_,Ine as aa,Ene as ab,Tne as ac,Yne as ad,ure as ae,kr as af,zL as ag,Zy as ah,Ki as ai,na as aj,an as ak,Kne as al,li as am,go as an,e_ as ao,Lne as ap,Vne as aq,pe as ar,jn as as,tt as at,bn as au,Pr as av,JM as aw,tL as ax,o_ as ay,i_ as az,mne as b,fi as b$,jw as b0,Zne as b1,mo as b2,_C as b3,lne as b4,bC as b5,SL as b6,ere as b7,ane as b8,dt as b9,KL as bA,Qne as bB,En as bC,Une as bD,Bne as bE,AL as bF,$ne as bG,Qe as bH,Nne as bI,Ko as bJ,at as bK,Gne as bL,Lt as bM,yne as bN,su as bO,$i as bP,w5 as bQ,yc as bR,dre as bS,cre as bT,Z0 as bU,Zc as bV,WD as bW,Df as bX,J1 as bY,jk as bZ,kn as b_,Hh as ba,Ane as bb,pt as bc,Oc as bd,OM as be,cne as bf,Wne as bg,une as bh,G as bi,Mne as bj,are as bk,ire as bl,v2 as bm,_ne as bn,jne as bo,CL as bp,ore as bq,Ea as br,bne as bs,NC as bt,SA as bu,A2 as bv,CA as bw,C2 as bx,yv as by,ic as bz,Xne as c,Da as c0,qD as c1,_re as c2,KD as c3,KW as c4,Ve as c5,bre as c6,ti as c7,De as c8,Cre as c9,Ire as cA,Qx as cB,xa as cC,dp as cD,Eb as cE,Wx as cF,rne as cG,YA as cH,PW as cI,OW as cJ,Ore as cK,Pre as cL,jD as cM,BD as cN,Ere as cO,Tre as cP,zD as cQ,we as cR,bm as cS,Are as ca,kre as cb,wre as cc,NW as cd,Rre as ce,HD as cf,xre as cg,Dre as ch,Sre as ci,Lo as cj,J0 as ck,_c as cl,sI as cm,eI as cn,vre as co,yre as cp,_y as cq,ZE as cr,FD as cs,DW as ct,RW as cu,kW as cv,bt as cw,H9 as cx,mk as cy,gre as cz,Hne as d,Go as e,dne as f,So as g,b2 as h,hne as i,pne as j,Ri as k,wd as l,vr as m,yp as n,Is as o,nre as p,le as q,_v as r,qe as s,de as t,ee as u,Ce as v,EL as w,Fne as x,TL as y,D2 as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./assets/c-Blog-NPxmKUjD.js","./assets/c-SwitchField.vue_vue_type_script_setup_true_lang-CyzScboS.js","./assets/c-Bubble.vue_vue_type_script_setup_true_lang-BbZDUAgW.js","./assets/c-Page.vue_vue_type_script_setup_true_lang-CLZqIix8.js","./assets/c-BlogPost.vue_vue_type_script_setup_true_lang-DF-juwK5.js","./assets/c-TextField.vue_vue_type_script_setup_true_lang-DfpMx8VE.js","./assets/c-validation-Bf-E2UlI.js","./assets/c-Image.vue_vue_type_script_setup_true_lang-DwbKdnMy.js","./bundle11.css","./bundle10.css","./assets/c-FileUpload.vue_vue_type_script_setup_true_lang-CQ86eKYm.js","./assets/c-SelectField.vue_vue_type_script_setup_true_lang-zbes3M22.js","./assets/c-CatCalc-DjL9zwDS.js","./assets/c-CustomVoting-DLlX5S64.js","./assets/c-_plugin-vue_export-helper-DlAUqK2U.js","./bundle9.css","./assets/c-Dashboard-CEf9x0ls.js","./assets/c-PasswordField.vue_vue_type_script_setup_true_lang-D5-8h5NV.js","./assets/c-Home-CXXRjkwh.js","./assets/c-Worm-yU2ZWgQJ.js","./assets/c-Dice6.vue_vue_type_script_setup_true_lang-lzciAH4f.js","./assets/c-Login-Df84FLfP.js","./assets/c-NotFound-BzMs2L3q.js","./assets/c-Profile-ClAvdcWv.js","./assets/c-Profiles-COL0_EpU.js","./assets/c-Register-B-JT6dUb.js","./assets/c-Games-C9_VBPNH.js","./assets/c-GameSettingsDialog.vue_vue_type_script_setup_true_lang-DgRimmb9.js","./assets/c-Yahtzee-tNKfm3pq.js","./assets/c-useScoreInfo-CPxptXKv.js","./bundle14.css","./bundle12.css","./assets/c-Rainworms-DpxaEe0z.js","./bundle13.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
